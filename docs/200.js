/*! For license information please see 200.js.LICENSE.txt */
(self.webpackChunk_2d_gi_playground=self.webpackChunk_2d_gi_playground||[]).push([[200,229],{641:e=>{self,e.exports=(()=>{var e={379:e=>{var t={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0};e.exports=function(e,n){return"number"!=typeof n||t[e]?n:n+"px"}},764:e=>{e.exports={light:{name:"Light",colors:{menuBarBackground:"rgb(227, 227, 227)",menuBarText:"rgb(36, 36, 36)",panelBackground:"rgb(227, 227, 227)",componentBackground:"rgb(204, 204, 204)",componentBackgroundHover:"rgb(190, 190, 190)",componentBackgroundDisabled:"rgb(200, 200, 200)",componentForeground:"rgb(105, 105, 105)",componentActive:"rgb(36, 36, 36)",textPrimary:"rgb(36, 36, 36)",textSecondary:"rgb(87, 87, 87)",textHover:"rgb(204, 204, 204)",textActive:"rgb(204, 204, 204)",textDisabled:"rgb(180, 180, 180)"}},dark:{name:"Dark",colors:{menuBarBackground:"rgb(35, 35, 35)",menuBarText:"rgb(235, 235, 235)",panelBackground:"rgb(35, 35, 35)",componentBackground:"rgb(54, 54, 54)",componentBackgroundHover:"rgb(76, 76, 76)",componentBackgroundDisabled:"rgb(24, 24, 24)",componentForeground:"rgb(112, 112, 112)",componentActive:"rgb(202, 202, 202)",textPrimary:"rgb(235, 235, 235)",textSecondary:"rgb(181, 181, 181)",textHover:"rgb(235, 235, 235)",textActive:"rgb(54, 54, 54)",textDisabled:"rgb(54, 54, 54)"}},yorha:{name:"YoRHa",colors:{menuBarBackground:"#CCC8B1",menuBarText:"#454138",panelBackground:"#CCC8B1",componentBackground:"#BAB5A1",componentBackgroundHover:"#877F6E",componentBackgroundDisabled:"#DED8C7",componentForeground:"#454138",componentActive:"#978F7E",textPrimary:"#454138",textSecondary:"#454138",textHover:"#CCC8B1",textActive:"#CCC8B1",textDisabled:"#BAB5A6"},font:{fontFamily:"helvetica, sans-serif",fontSize:"14px",fontWeight:"100",inputFontFamily:"ui-monospace, monospace"}}}},287:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(537),i=n.n(r),o=n(645),s=n.n(o),a=n(19),c=s()(i());c.i(a.Z),c.push([e.id,".guify-bar {\n    background-color: var(--color-menu-bar-background);\n    height: var(--size-menu-bar-height);\n    width: 100%;\n    opacity: 1.0;\n    position: relative;\n    top: 0;\n    cursor: default;\n}\n\n.guify-bar-title {\n    color: var(--color-menu-bar-text);\n    text-align: center;\n    width: 100%;\n    position: absolute;\n    top: 0;\n    line-height: var(--size-menu-bar-height);\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n}\n\n.guify-bar-button {\n    text-align: center;\n    border: none;\n    cursor: pointer;\n    font-family: inherit;\n    height: 100%;\n    position: absolute;\n    top: 0;\n    color: var(--color-text-primary);\n    background-color: var(--color-component-background);\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    margin: 0;\n\n}\n\n/* Hide default accessibility outlines since we're providing our own visual feedback */\n.guify-bar-button:focus {\n    outline: none;\n}\n.guify-bar-button::-moz-focus-inner {\n    border: 0;\n}\n\n.guify-bar-button:hover,\n.guify-bar-button:focus {\n    color: var(--color-text-hover);\n    background-color: var(--color-component-foreground);\n}\n\n.guify-bar-button:active {\n    color: var(--color-text-active) !important;\n    background-color: var(--color-component-active) !important;\n}","",{version:3,sources:["webpack://./src/components/internal/menu-bar.css"],names:[],mappings:"AAEA;IACI,kDAAkD;IAClD,mCAAmC;IACnC,WAAW;IACX,YAAY;IACZ,kBAAkB;IAClB,MAAM;IACN,eAAe;AACnB;;AAEA;IACI,iCAAiC;IACjC,kBAAkB;IAClB,WAAW;IACX,kBAAkB;IAClB,MAAM;IACN,wCAAwC;IACxC,yBAAyB;IACzB,sBAAsB;IACtB,qBAAqB;IACrB,iBAAiB;AACrB;;AAEA;IACI,kBAAkB;IAClB,YAAY;IACZ,eAAe;IACf,oBAAoB;IACpB,YAAY;IACZ,kBAAkB;IAClB,MAAM;IACN,gCAAgC;IAChC,mDAAmD;IACnD,yBAAyB;IACzB,sBAAsB;IACtB,qBAAqB;IACrB,iBAAiB;IACjB,SAAS;;AAEb;;AAEA,sFAAsF;AACtF;IACI,aAAa;AACjB;AACA;IACI,SAAS;AACb;;AAEA;;IAEI,8BAA8B;IAC9B,mDAAmD;AACvD;;AAEA;IACI,0CAA0C;IAC1C,0DAA0D;AAC9D",sourcesContent:['@import "../variables.css";\n\n.guify-bar {\n    background-color: var(--color-menu-bar-background);\n    height: var(--size-menu-bar-height);\n    width: 100%;\n    opacity: 1.0;\n    position: relative;\n    top: 0;\n    cursor: default;\n}\n\n.guify-bar-title {\n    color: var(--color-menu-bar-text);\n    text-align: center;\n    width: 100%;\n    position: absolute;\n    top: 0;\n    line-height: var(--size-menu-bar-height);\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n}\n\n.guify-bar-button {\n    text-align: center;\n    border: none;\n    cursor: pointer;\n    font-family: inherit;\n    height: 100%;\n    position: absolute;\n    top: 0;\n    color: var(--color-text-primary);\n    background-color: var(--color-component-background);\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    margin: 0;\n\n}\n\n/* Hide default accessibility outlines since we\'re providing our own visual feedback */\n.guify-bar-button:focus {\n    outline: none;\n}\n.guify-bar-button::-moz-focus-inner {\n    border: 0;\n}\n\n.guify-bar-button:hover,\n.guify-bar-button:focus {\n    color: var(--color-text-hover);\n    background-color: var(--color-component-foreground);\n}\n\n.guify-bar-button:active {\n    color: var(--color-text-active) !important;\n    background-color: var(--color-component-active) !important;\n}'],sourceRoot:""}]);const l=c},153:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(537),i=n.n(r),o=n(645),s=n.n(o),a=n(19),c=s()(i());c.i(a.Z),c.push([e.id,"/* Container */\n\n.guify-panel-container {\n    position: absolute;\n    background: var(--color-panel-background);\n}\n\n.guify-panel-container-scrollable {\n    max-height: calc(100% - var(--size-menu-bar-height));\n    overflow: scroll;\n}\n\n/* Container modes (i.e. inner, outer) */\n\n.guify-panel-container-right-inner {\n    right: 0;\n    left: unset;\n}\n\n.guify-panel-container-left-inner {\n    right: unset;\n    left: 0;\n}\n\n.guify-panel-container-right-outer {\n    right: unset;\n    left: 100%;\n}\n\n.guify-panel-container-left-outer {\n    right: 100%;\n    left: unset;\n}\n\n.guify-fullscreen .guify-panel-container-right-inner,\n.guify-fullscreen .guify-panel-container-right-outer {\n    right: 0;\n    left: unset;\n}\n\n.guify-fullscreen .guify-panel-container-left-inner,\n.guify-fullscreen .guify-panel-container-left-outer {\n    right: unset;\n    left: 0;\n}\n\n/* Panel (in container) */\n\n.guify-panel {\n    padding: 14px;\n    /* Last component will have a margin, so reduce padding to account for this */\n    padding-bottom: calc(14px - var(--size-component-spacing));\n\n    /* all: initial;  */\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    cursor: default;\n    text-align: left;\n    box-sizing: border-box;\n}\n\n.guify-panel.guify-panel-hidden {\n    height: 0px;\n    display: none;\n}\n\n.guify-panel * {\n    box-sizing: content-box;\n    box-sizing: initial;\n    -webkit-box-sizing: initial;\n    -moz-box-sizing: initial;\n}\n\n.guify-panel input {\n    display: inline;\n}\n\n.guify-panel a {\n    color: inherit;\n    text-decoration: none;\n}\n\n.guify-panel-toggle-button {\n    position: absolute;\n    top: 0;\n    margin: 0;\n    padding: 0;\n    width: 15px;\n    height: 15px;\n    line-height: 15px;\n    text-align: center;\n    border: none;\n    cursor: pointer;\n    font-family: inherit;\n    color: var(--color-text-primary);\n    background-color: var(--color-component-background);\n\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n\n}\n\n/* Open/Close button styling */\n.guify-panel-toggle-button svg {\n    fill-opacity: 0;\n    stroke-width: 3;\n    stroke: var(--color-component-foreground);\n}\n\n/* Remove browser default outlines since we're providing our own */\n.guify-panel-toggle-button:focus {\n    outline:none;\n}\n.guify-panel-toggle-button::-moz-focus-inner {\n    border: 0;\n}\n\n.guify-panel-toggle-button:hover,\n.guify-panel-toggle-button:focus {\n    color: var(--color-text-hover);\n    background-color: var(--color-component-foreground);\n}\n\n.guify-panel-toggle-button:active {\n    color: var(--color-text-active);\n    background-color:var(--color-component-active);\n}","",{version:3,sources:["webpack://./src/components/internal/panel.css"],names:[],mappings:"AAEA,cAAc;;AAEd;IACI,kBAAkB;IAClB,yCAAyC;AAC7C;;AAEA;IACI,oDAAoD;IACpD,gBAAgB;AACpB;;AAEA,wCAAwC;;AAExC;IACI,QAAQ;IACR,WAAW;AACf;;AAEA;IACI,YAAY;IACZ,OAAO;AACX;;AAEA;IACI,YAAY;IACZ,UAAU;AACd;;AAEA;IACI,WAAW;IACX,WAAW;AACf;;AAEA;;IAEI,QAAQ;IACR,WAAW;AACf;;AAEA;;IAEI,YAAY;IACZ,OAAO;AACX;;AAEA,yBAAyB;;AAEzB;IACI,aAAa;IACb,6EAA6E;IAC7E,0DAA0D;;IAE1D,mBAAmB;IACnB,yBAAyB;IACzB,sBAAsB;IACtB,qBAAqB;IACrB,iBAAiB;IACjB,eAAe;IACf,gBAAgB;IAChB,sBAAsB;AAC1B;;AAEA;IACI,WAAW;IACX,aAAa;AACjB;;AAEA;IACI,uBAAmB;IAAnB,mBAAmB;IACnB,2BAA2B;IAC3B,wBAAwB;AAC5B;;AAEA;IACI,eAAe;AACnB;;AAEA;IACI,cAAc;IACd,qBAAqB;AACzB;;AAEA;IACI,kBAAkB;IAClB,MAAM;IACN,SAAS;IACT,UAAU;IACV,WAAW;IACX,YAAY;IACZ,iBAAiB;IACjB,kBAAkB;IAClB,YAAY;IACZ,eAAe;IACf,oBAAoB;IACpB,gCAAgC;IAChC,mDAAmD;;IAEnD,yBAAyB;IACzB,sBAAsB;IACtB,qBAAqB;IACrB,iBAAiB;;AAErB;;AAEA,8BAA8B;AAC9B;IACI,eAAe;IACf,eAAe;IACf,yCAAyC;AAC7C;;AAEA,kEAAkE;AAClE;IACI,YAAY;AAChB;AACA;IACI,SAAS;AACb;;AAEA;;IAEI,8BAA8B;IAC9B,mDAAmD;AACvD;;AAEA;IACI,+BAA+B;IAC/B,8CAA8C;AAClD",sourcesContent:['@import "../variables.css";\n\n/* Container */\n\n.guify-panel-container {\n    position: absolute;\n    background: var(--color-panel-background);\n}\n\n.guify-panel-container-scrollable {\n    max-height: calc(100% - var(--size-menu-bar-height));\n    overflow: scroll;\n}\n\n/* Container modes (i.e. inner, outer) */\n\n.guify-panel-container-right-inner {\n    right: 0;\n    left: unset;\n}\n\n.guify-panel-container-left-inner {\n    right: unset;\n    left: 0;\n}\n\n.guify-panel-container-right-outer {\n    right: unset;\n    left: 100%;\n}\n\n.guify-panel-container-left-outer {\n    right: 100%;\n    left: unset;\n}\n\n.guify-fullscreen .guify-panel-container-right-inner,\n.guify-fullscreen .guify-panel-container-right-outer {\n    right: 0;\n    left: unset;\n}\n\n.guify-fullscreen .guify-panel-container-left-inner,\n.guify-fullscreen .guify-panel-container-left-outer {\n    right: unset;\n    left: 0;\n}\n\n/* Panel (in container) */\n\n.guify-panel {\n    padding: 14px;\n    /* Last component will have a margin, so reduce padding to account for this */\n    padding-bottom: calc(14px - var(--size-component-spacing));\n\n    /* all: initial;  */\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n    cursor: default;\n    text-align: left;\n    box-sizing: border-box;\n}\n\n.guify-panel.guify-panel-hidden {\n    height: 0px;\n    display: none;\n}\n\n.guify-panel * {\n    box-sizing: initial;\n    -webkit-box-sizing: initial;\n    -moz-box-sizing: initial;\n}\n\n.guify-panel input {\n    display: inline;\n}\n\n.guify-panel a {\n    color: inherit;\n    text-decoration: none;\n}\n\n.guify-panel-toggle-button {\n    position: absolute;\n    top: 0;\n    margin: 0;\n    padding: 0;\n    width: 15px;\n    height: 15px;\n    line-height: 15px;\n    text-align: center;\n    border: none;\n    cursor: pointer;\n    font-family: inherit;\n    color: var(--color-text-primary);\n    background-color: var(--color-component-background);\n\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n\n}\n\n/* Open/Close button styling */\n.guify-panel-toggle-button svg {\n    fill-opacity: 0;\n    stroke-width: 3;\n    stroke: var(--color-component-foreground);\n}\n\n/* Remove browser default outlines since we\'re providing our own */\n.guify-panel-toggle-button:focus {\n    outline:none;\n}\n.guify-panel-toggle-button::-moz-focus-inner {\n    border: 0;\n}\n\n.guify-panel-toggle-button:hover,\n.guify-panel-toggle-button:focus {\n    color: var(--color-text-hover);\n    background-color: var(--color-component-foreground);\n}\n\n.guify-panel-toggle-button:active {\n    color: var(--color-text-active);\n    background-color:var(--color-component-active);\n}'],sourceRoot:""}]);const l=c},56:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(537),i=n.n(r),o=n(645),s=n.n(o),a=n(19),c=s()(i());c.i(a.Z),c.push([e.id,".guify-toast-notification {\n    box-sizing: border-box;\n    position: relative;\n    width: 100%;\n    /* height: 20px; */\n    padding: 8px;\n    padding-left: 20px;\n    padding-right: 20px;\n    text-align: center;\n\n    font-family: var(--font-family);\n    font-size: var(--font-size);\n    font-weight: var(--font-weight);\n}\n\n.guify-toast-area .guify-toast-notification:nth-child(odd) {\n    color: var(--color-text-primary);\n    background-color:var(--color-panel-background);\n}\n\n.guify-toast-area .guify-toast-notification:nth-child(even) {\n    color: var(--color-text-primary);\n    background-color: var(--color-menu-bar-background);\n}\n\n.guify-toast-close-button {\n    color: var(--color-text-primary);\n    background: transparent;\n    position: absolute;\n    text-align: center;\n    margin-top: auto;\n    margin-bottom: auto;\n    border: none;\n    cursor: pointer;\n    top: 0;\n    bottom: 0;\n    right: 8px;\n}","",{version:3,sources:["webpack://./src/components/internal/toast-area.css"],names:[],mappings:"AAEA;IACI,sBAAsB;IACtB,kBAAkB;IAClB,WAAW;IACX,kBAAkB;IAClB,YAAY;IACZ,kBAAkB;IAClB,mBAAmB;IACnB,kBAAkB;;IAElB,+BAA+B;IAC/B,2BAA2B;IAC3B,+BAA+B;AACnC;;AAEA;IACI,gCAAgC;IAChC,8CAA8C;AAClD;;AAEA;IACI,gCAAgC;IAChC,kDAAkD;AACtD;;AAEA;IACI,gCAAgC;IAChC,uBAAuB;IACvB,kBAAkB;IAClB,kBAAkB;IAClB,gBAAgB;IAChB,mBAAmB;IACnB,YAAY;IACZ,eAAe;IACf,MAAM;IACN,SAAS;IACT,UAAU;AACd",sourcesContent:['@import "../variables.css";\n\n.guify-toast-notification {\n    box-sizing: border-box;\n    position: relative;\n    width: 100%;\n    /* height: 20px; */\n    padding: 8px;\n    padding-left: 20px;\n    padding-right: 20px;\n    text-align: center;\n\n    font-family: var(--font-family);\n    font-size: var(--font-size);\n    font-weight: var(--font-weight);\n}\n\n.guify-toast-area .guify-toast-notification:nth-child(odd) {\n    color: var(--color-text-primary);\n    background-color:var(--color-panel-background);\n}\n\n.guify-toast-area .guify-toast-notification:nth-child(even) {\n    color: var(--color-text-primary);\n    background-color: var(--color-menu-bar-background);\n}\n\n.guify-toast-close-button {\n    color: var(--color-text-primary);\n    background: transparent;\n    position: absolute;\n    text-align: center;\n    margin-top: auto;\n    margin-bottom: auto;\n    border: none;\n    cursor: pointer;\n    top: 0;\n    bottom: 0;\n    right: 8px;\n}'],sourceRoot:""}]);const l=c},54:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(537),i=n.n(r),o=n(645),s=n.n(o),a=n(19),c=s()(i());c.i(a.Z),c.push([e.id,".guify-component-container {\n    position: relative;\n    min-height: var(--size-component-height);\n    line-height: var(--size-component-height);\n    margin-bottom: var(--size-component-spacing);\n}","",{version:3,sources:["webpack://./src/components/partials/container.css"],names:[],mappings:"AAEA;IACI,kBAAkB;IAClB,wCAAwC;IACxC,yCAAyC;IACzC,4CAA4C;AAChD",sourcesContent:['@import "../variables.css";\n\n.guify-component-container {\n    position: relative;\n    min-height: var(--size-component-height);\n    line-height: var(--size-component-height);\n    margin-bottom: var(--size-component-spacing);\n}'],sourceRoot:""}]);const l=c},142:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(537),i=n.n(r),o=n(645),s=n.n(o),a=n(19),c=s()(i());c.i(a.Z),c.push([e.id,".guify-component-label {\n    left: 0;\n    width: calc(var(--size-label-width) - 2%);\n    display: inline-block;\n    margin-right: 2%;\n    vertical-align: top;\n    min-height: var(--size-component-height);\n    line-height: var(--size-component-height);\n\n    color: var(--color-text-primary);\n}\n\n/* Disabled styles */\n.disabled .guify-component-label {\n    color: var(--color-text-disabled);\n}","",{version:3,sources:["webpack://./src/components/partials/label.css"],names:[],mappings:"AAEA;IACI,OAAO;IACP,yCAAyC;IACzC,qBAAqB;IACrB,gBAAgB;IAChB,mBAAmB;IACnB,wCAAwC;IACxC,yCAAyC;;IAEzC,gCAAgC;AACpC;;AAEA,oBAAoB;AACpB;IACI,iCAAiC;AACrC",sourcesContent:['@import "../variables.css";\n\n.guify-component-label {\n    left: 0;\n    width: calc(var(--size-label-width) - 2%);\n    display: inline-block;\n    margin-right: 2%;\n    vertical-align: top;\n    min-height: var(--size-component-height);\n    line-height: var(--size-component-height);\n\n    color: var(--color-text-primary);\n}\n\n/* Disabled styles */\n.disabled .guify-component-label {\n    color: var(--color-text-disabled);\n}'],sourceRoot:""}]);const l=c},643:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(537),i=n.n(r),o=n(645),s=n.n(o),a=n(19),c=s()(i());c.i(a.Z),c.push([e.id,".guify-value-input {\n    position: absolute;\n    background-color: var(--color-component-background);\n    padding-left: 1%;\n    height: var(--size-component-height);\n    display: inline-block;\n    overflow: hidden;\n    border: none;\n\n    color: var(--color-text-secondary);\n    -webkit-user-select: text;\n       -moz-user-select: text;\n        -ms-user-select: text;\n            user-select: text;\n    cursor: text;\n    line-height: var(--size-component-height);\n    word-break: break-all;\n\n    box-sizing: border-box !important;\n    -moz-box-sizing: border-box !important;\n    -webkit-box-sizing: border-box !important;\n\n    font-family: var(--font-family-for-input);\n\n    border-radius: 0;\n}\n\n.guify-value-input-right {\n    right: 0 !important;\n}\n\n.disabled .guify-value-input {\n    pointer-events: none;\n    background-color: var(--color-component-background-disabled);\n    color: var(--color-text-disabled);\n}","",{version:3,sources:["webpack://./src/components/partials/value.css"],names:[],mappings:"AAEA;IACI,kBAAkB;IAClB,mDAAmD;IACnD,gBAAgB;IAChB,oCAAoC;IACpC,qBAAqB;IACrB,gBAAgB;IAChB,YAAY;;IAEZ,kCAAkC;IAClC,yBAAiB;OAAjB,sBAAiB;QAAjB,qBAAiB;YAAjB,iBAAiB;IACjB,YAAY;IACZ,yCAAyC;IACzC,qBAAqB;;IAErB,iCAAiC;IACjC,sCAAsC;IACtC,yCAAyC;;IAEzC,yCAAyC;;IAEzC,gBAAgB;AACpB;;AAEA;IACI,mBAAmB;AACvB;;AAEA;IACI,oBAAoB;IACpB,4DAA4D;IAC5D,iCAAiC;AACrC",sourcesContent:['@import "../variables.css";\n\n.guify-value-input {\n    position: absolute;\n    background-color: var(--color-component-background);\n    padding-left: 1%;\n    height: var(--size-component-height);\n    display: inline-block;\n    overflow: hidden;\n    border: none;\n\n    color: var(--color-text-secondary);\n    user-select: text;\n    cursor: text;\n    line-height: var(--size-component-height);\n    word-break: break-all;\n\n    box-sizing: border-box !important;\n    -moz-box-sizing: border-box !important;\n    -webkit-box-sizing: border-box !important;\n\n    font-family: var(--font-family-for-input);\n\n    border-radius: 0;\n}\n\n.guify-value-input-right {\n    right: 0 !important;\n}\n\n.disabled .guify-value-input {\n    pointer-events: none;\n    background-color: var(--color-component-background-disabled);\n    color: var(--color-text-disabled);\n}'],sourceRoot:""}]);const l=c},351:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(537),i=n.n(r),o=n(645),s=n.n(o),a=n(19),c=s()(i());c.i(a.Z),c.push([e.id,".guify-button {\n    box-sizing: border-box !important;\n    color: var(--color-text-secondary);\n    background-color: var(--color-component-background);\n\n    position: absolute;\n    text-align: center;\n    height: var(--size-component-height);\n    line-height: var(--size-component-height);\n    padding-top: 0px;\n    padding-bottom: 0px;\n    width: calc(100% - var(--size-label-width));\n    border: none;\n    cursor: pointer;\n    right: 0;\n    font-family: inherit;\n}\n\n.guify-button:focus {\n    outline:none;\n}\n.guify-button::-moz-focus-inner {\n    border:0;\n}\n\n.guify-button:hover,\n.guify-button:focus {\n    color: var(--color-text-hover);\n    background-color: var(--color-component-foreground);\n}\n\n.guify-button:active {\n    color: var(--color-text-active) !important;\n    background-color: var(--color-component-active) !important;\n}\n\n*.disabled > .guify-button {\n    pointer-events: none;\n    background-color: var(--color-component-background-disabled);\n    color: var(--color-text-disabled);\n}","",{version:3,sources:["webpack://./src/components/public/button.css"],names:[],mappings:"AAEA;IACI,iCAAiC;IACjC,kCAAkC;IAClC,mDAAmD;;IAEnD,kBAAkB;IAClB,kBAAkB;IAClB,oCAAoC;IACpC,yCAAyC;IACzC,gBAAgB;IAChB,mBAAmB;IACnB,2CAA2C;IAC3C,YAAY;IACZ,eAAe;IACf,QAAQ;IACR,oBAAoB;AACxB;;AAEA;IACI,YAAY;AAChB;AACA;IACI,QAAQ;AACZ;;AAEA;;IAEI,8BAA8B;IAC9B,mDAAmD;AACvD;;AAEA;IACI,0CAA0C;IAC1C,0DAA0D;AAC9D;;AAEA;IACI,oBAAoB;IACpB,4DAA4D;IAC5D,iCAAiC;AACrC",sourcesContent:['@import "../variables.css";\n\n.guify-button {\n    box-sizing: border-box !important;\n    color: var(--color-text-secondary);\n    background-color: var(--color-component-background);\n\n    position: absolute;\n    text-align: center;\n    height: var(--size-component-height);\n    line-height: var(--size-component-height);\n    padding-top: 0px;\n    padding-bottom: 0px;\n    width: calc(100% - var(--size-label-width));\n    border: none;\n    cursor: pointer;\n    right: 0;\n    font-family: inherit;\n}\n\n.guify-button:focus {\n    outline:none;\n}\n.guify-button::-moz-focus-inner {\n    border:0;\n}\n\n.guify-button:hover,\n.guify-button:focus {\n    color: var(--color-text-hover);\n    background-color: var(--color-component-foreground);\n}\n\n.guify-button:active {\n    color: var(--color-text-active) !important;\n    background-color: var(--color-component-active) !important;\n}\n\n*.disabled > .guify-button {\n    pointer-events: none;\n    background-color: var(--color-component-background-disabled);\n    color: var(--color-text-disabled);\n}'],sourceRoot:""}]);const l=c},11:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(537),i=n.n(r),o=n(645),s=n.n(o),a=n(19),c=s()(i());c.i(a.Z),c.push([e.id,':root {\n    --checkbox-border-width: 4px;\n}\n\ninput[type=checkbox].guify-checkbox {\n    opacity: 0;\n    appearance: none;\n    -moz-appearance: none;\n    -webkit-appearance: none;\n    margin: 0;\n    border-radius: 0;\n    border: none;\n    cursor: pointer;\n}\n\ninput[type=checkbox].guify-checkbox + label {\n    margin: 0;\n}\n\ninput[type=checkbox].guify-checkbox + label:before {\n    content: "";\n    display: inline-block;\n    width: var(--size-component-height);\n    height: var(--size-component-height);\n    padding: 0;\n    margin: 0;\n    vertical-align: middle;\n    background-color: var(--color-component-background);\n    border-radius: 0px;\n    cursor: pointer;\n    box-sizing: content-box;\n    -moz-box-sizing: content-box;\n    -webkit-box-sizing: content-box;\n\n}\n\n/* Hover style */\ninput[type=checkbox].guify-checkbox:hover:not(:disabled) + label:before {\n    width: calc(var(--size-component-height) - (4px * 2));\n    width: calc(var(--size-component-height) - (var(--checkbox-border-width) * 2));\n    height: calc(var(--size-component-height) - (4px * 2));\n    height: calc(var(--size-component-height) - (var(--checkbox-border-width) * 2));\n    background-color: var(--color-component-background-hover);\n    border: solid 4px var(--color-component-background);\n}\n\n/* Checked style */\ninput[type=checkbox]:checked.guify-checkbox + label:before {\n    width: calc(var(--size-component-height) - (4px * 2));\n    width: calc(var(--size-component-height) - (var(--checkbox-border-width) * 2));\n    height: calc(var(--size-component-height) - (4px * 2));\n    height: calc(var(--size-component-height) - (var(--checkbox-border-width) * 2));\n    background-color: var(--color-component-foreground);\n    border: solid 4px var(--color-component-background);\n    border: solid var(--checkbox-border-width) var(--color-component-background);\n}\n\n/* Focused and checked */\ninput[type=checkbox]:checked.guify-checkbox:focus + label:before {\n    width: calc(var(--size-component-height) - (4px * 2));\n    width: calc(var(--size-component-height) - (var(--checkbox-border-width) * 2));\n    height: calc(var(--size-component-height) - (4px * 2));\n    height: calc(var(--size-component-height) - (var(--checkbox-border-width) * 2));\n    background-color: var(--color-component-foreground);\n    border: solid 4px var(--color-component-background-hover);\n    border: solid var(--checkbox-border-width) var(--color-component-background-hover);\n}\n\n/* Focus and unchecked */\ninput[type=checkbox].guify-checkbox:focus + label:before {\n    background-color: var(--color-component-background-hover);\n}\n\n/* Disabled styles */\n.disabled input[type=checkbox].guify-checkbox + label {\n    pointer-events: none;\n}\n.disabled input[type="checkbox"].guify-checkbox + label::before {\n    pointer-events: none;\n    background-color: var(--color-component-background-disabled);\n}',"",{version:3,sources:["webpack://./src/components/public/checkbox.css"],names:[],mappings:"AAEA;IACI,4BAA4B;AAChC;;AAEA;IACI,UAAU;IACV,gBAAgB;IAChB,qBAAqB;IACrB,wBAAwB;IACxB,SAAS;IACT,gBAAgB;IAChB,YAAY;IACZ,eAAe;AACnB;;AAEA;IACI,SAAS;AACb;;AAEA;IACI,WAAW;IACX,qBAAqB;IACrB,mCAAmC;IACnC,oCAAoC;IACpC,UAAU;IACV,SAAS;IACT,sBAAsB;IACtB,mDAAmD;IACnD,kBAAkB;IAClB,eAAe;IACf,uBAAuB;IACvB,4BAA4B;IAC5B,+BAA+B;;AAEnC;;AAEA,gBAAgB;AAChB;IACI,qDAA8E;IAA9E,8EAA8E;IAC9E,sDAA+E;IAA/E,+EAA+E;IAC/E,yDAAyD;IACzD,mDAAmD;AACvD;;AAEA,kBAAkB;AAClB;IACI,qDAA8E;IAA9E,8EAA8E;IAC9E,sDAA+E;IAA/E,+EAA+E;IAC/E,mDAAmD;IACnD,mDAA4E;IAA5E,4EAA4E;AAChF;;AAEA,wBAAwB;AACxB;IACI,qDAA8E;IAA9E,8EAA8E;IAC9E,sDAA+E;IAA/E,+EAA+E;IAC/E,mDAAmD;IACnD,yDAAkF;IAAlF,kFAAkF;AACtF;;AAEA,wBAAwB;AACxB;IACI,yDAAyD;AAC7D;;AAEA,oBAAoB;AACpB;IACI,oBAAoB;AACxB;AACA;IACI,oBAAoB;IACpB,4DAA4D;AAChE",sourcesContent:['@import "../variables.css";\n\n:root {\n    --checkbox-border-width: 4px;\n}\n\ninput[type=checkbox].guify-checkbox {\n    opacity: 0;\n    appearance: none;\n    -moz-appearance: none;\n    -webkit-appearance: none;\n    margin: 0;\n    border-radius: 0;\n    border: none;\n    cursor: pointer;\n}\n\ninput[type=checkbox].guify-checkbox + label {\n    margin: 0;\n}\n\ninput[type=checkbox].guify-checkbox + label:before {\n    content: "";\n    display: inline-block;\n    width: var(--size-component-height);\n    height: var(--size-component-height);\n    padding: 0;\n    margin: 0;\n    vertical-align: middle;\n    background-color: var(--color-component-background);\n    border-radius: 0px;\n    cursor: pointer;\n    box-sizing: content-box;\n    -moz-box-sizing: content-box;\n    -webkit-box-sizing: content-box;\n\n}\n\n/* Hover style */\ninput[type=checkbox].guify-checkbox:hover:not(:disabled) + label:before {\n    width: calc(var(--size-component-height) - (var(--checkbox-border-width) * 2));\n    height: calc(var(--size-component-height) - (var(--checkbox-border-width) * 2));\n    background-color: var(--color-component-background-hover);\n    border: solid 4px var(--color-component-background);\n}\n\n/* Checked style */\ninput[type=checkbox]:checked.guify-checkbox + label:before {\n    width: calc(var(--size-component-height) - (var(--checkbox-border-width) * 2));\n    height: calc(var(--size-component-height) - (var(--checkbox-border-width) * 2));\n    background-color: var(--color-component-foreground);\n    border: solid var(--checkbox-border-width) var(--color-component-background);\n}\n\n/* Focused and checked */\ninput[type=checkbox]:checked.guify-checkbox:focus + label:before {\n    width: calc(var(--size-component-height) - (var(--checkbox-border-width) * 2));\n    height: calc(var(--size-component-height) - (var(--checkbox-border-width) * 2));\n    background-color: var(--color-component-foreground);\n    border: solid var(--checkbox-border-width) var(--color-component-background-hover);\n}\n\n/* Focus and unchecked */\ninput[type=checkbox].guify-checkbox:focus + label:before {\n    background-color: var(--color-component-background-hover);\n}\n\n/* Disabled styles */\n.disabled input[type=checkbox].guify-checkbox + label {\n    pointer-events: none;\n}\n.disabled input[type="checkbox"].guify-checkbox + label::before {\n    pointer-events: none;\n    background-color: var(--color-component-background-disabled);\n}'],sourceRoot:""}]);const l=c},442:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(537),i=n.n(r),o=n(645),s=n.n(o),a=n(19),c=s()(i());c.i(a.Z),c.push([e.id,"/* Styling for simple-color-picker */\n\n.guify-color .Scp {\n    width: 125px;\n    height: 100px;\n    -webkit-user-select: none;\n        -moz-user-select: none;\n            -ms-user-select: none;\n                user-select: none;\n    position: relative;\n    z-index: 1000;\n    cursor: pointer;\n}\n.guify-color .Scp-saturation {\n    position: relative;\n    width: calc(100% - 25px);\n    height: 100%;\n    background: linear-gradient(to right, #fff 0%, #f00 100%);\n    float: left;\n    margin-right: 5px;\n}\n.guify-color .Scp-brightness {\n    width: 100%;\n    height: 100%;\n    background: linear-gradient(to top, #000 0%, rgba(255,255,255,0) 100%);\n}\n.guify-color .Scp-sbSelector {\n    border: 1px solid;\n    position: absolute;\n    width: 14px;\n    height: 14px;\n    background: #fff;\n    border-radius: 10px;\n    top: -7px;\n    left: -7px;\n    box-sizing: border-box;\n    z-index: 10;\n}\n.guify-color .Scp-hue {\n    width: 20px;\n    height: 100%;\n    position: relative;\n    float: left;\n    background: linear-gradient(to bottom, #f00 0%, #f0f 17%, #00f 34%, #0ff 50%, #0f0 67%, #ff0 84%, #f00 100%);\n}\n.guify-color .Scp-hSelector {\n    position: absolute;\n    background: #fff;\n    border-bottom: 1px solid #000;\n    right: -3px;\n    width: 10px;\n    height: 2px;\n}\n\n/* Disabled styles */\n.disabled .guify-color {\n    pointer-events: none;\n}","",{version:3,sources:["webpack://./src/components/public/color.css"],names:[],mappings:"AAEA,oCAAoC;;AAEpC;IACI,YAAY;IACZ,aAAa;IACb,yBAAyB;QACrB,sBAAsB;YAClB,qBAAqB;gBACjB,iBAAiB;IAC7B,kBAAkB;IAClB,aAAa;IACb,eAAe;AACnB;AACA;IACI,kBAAkB;IAClB,wBAAwB;IACxB,YAAY;IACZ,yDAAyD;IACzD,WAAW;IACX,iBAAiB;AACrB;AACA;IACI,WAAW;IACX,YAAY;IACZ,sEAAsE;AAC1E;AACA;IACI,iBAAiB;IACjB,kBAAkB;IAClB,WAAW;IACX,YAAY;IACZ,gBAAgB;IAChB,mBAAmB;IACnB,SAAS;IACT,UAAU;IACV,sBAAsB;IACtB,WAAW;AACf;AACA;IACI,WAAW;IACX,YAAY;IACZ,kBAAkB;IAClB,WAAW;IACX,4GAA4G;AAChH;AACA;IACI,kBAAkB;IAClB,gBAAgB;IAChB,6BAA6B;IAC7B,WAAW;IACX,WAAW;IACX,WAAW;AACf;;AAEA,oBAAoB;AACpB;IACI,oBAAoB;AACxB",sourcesContent:['@import "../variables.css";\n\n/* Styling for simple-color-picker */\n\n.guify-color .Scp {\n    width: 125px;\n    height: 100px;\n    -webkit-user-select: none;\n        -moz-user-select: none;\n            -ms-user-select: none;\n                user-select: none;\n    position: relative;\n    z-index: 1000;\n    cursor: pointer;\n}\n.guify-color .Scp-saturation {\n    position: relative;\n    width: calc(100% - 25px);\n    height: 100%;\n    background: linear-gradient(to right, #fff 0%, #f00 100%);\n    float: left;\n    margin-right: 5px;\n}\n.guify-color .Scp-brightness {\n    width: 100%;\n    height: 100%;\n    background: linear-gradient(to top, #000 0%, rgba(255,255,255,0) 100%);\n}\n.guify-color .Scp-sbSelector {\n    border: 1px solid;\n    position: absolute;\n    width: 14px;\n    height: 14px;\n    background: #fff;\n    border-radius: 10px;\n    top: -7px;\n    left: -7px;\n    box-sizing: border-box;\n    z-index: 10;\n}\n.guify-color .Scp-hue {\n    width: 20px;\n    height: 100%;\n    position: relative;\n    float: left;\n    background: linear-gradient(to bottom, #f00 0%, #f0f 17%, #00f 34%, #0ff 50%, #0f0 67%, #ff0 84%, #f00 100%);\n}\n.guify-color .Scp-hSelector {\n    position: absolute;\n    background: #fff;\n    border-bottom: 1px solid #000;\n    right: -3px;\n    width: 10px;\n    height: 2px;\n}\n\n/* Disabled styles */\n.disabled .guify-color {\n    pointer-events: none;\n}'],sourceRoot:""}]);const l=c},144:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(537),i=n.n(r),o=n(645),s=n.n(o),a=n(19),c=s()(i());c.i(a.Z),c.push([e.id,".guify-display {\n    display: inline-block;\n    height: unset;\n    min-height: var(--size-component-height);\n    width: calc(100% - var(--size-label-width));\n    border: none;\n    color: var(--color-text-secondary);\n    font-family: inherit;\n    box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n    vertical-align: sub;\n    line-height: 1rem;\n    -webkit-user-select: text;\n       -moz-user-select: text;\n        -ms-user-select: text;\n            user-select: text;\n}\n\n.disabled .guify-display {\n    color: var(--color-text-disabled);\n}","",{version:3,sources:["webpack://./src/components/public/display.css"],names:[],mappings:"AAEA;IACI,qBAAqB;IACrB,aAAa;IACb,wCAAwC;IACxC,2CAA2C;IAC3C,YAAY;IACZ,kCAAkC;IAClC,oBAAoB;IACpB,sBAAsB;IACtB,2BAA2B;IAC3B,8BAA8B;IAC9B,mBAAmB;IACnB,iBAAiB;IACjB,yBAAiB;OAAjB,sBAAiB;QAAjB,qBAAiB;YAAjB,iBAAiB;AACrB;;AAEA;IACI,iCAAiC;AACrC",sourcesContent:['@import "../variables.css";\n\n.guify-display {\n    display: inline-block;\n    height: unset;\n    min-height: var(--size-component-height);\n    width: calc(100% - var(--size-label-width));\n    border: none;\n    color: var(--color-text-secondary);\n    font-family: inherit;\n    box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    -webkit-box-sizing: border-box;\n    vertical-align: sub;\n    line-height: 1rem;\n    user-select: text;\n}\n\n.disabled .guify-display {\n    color: var(--color-text-disabled);\n}'],sourceRoot:""}]);const l=c},191:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(537),i=n.n(r),o=n(645),s=n.n(o),a=n(19),c=s()(i());c.i(a.Z),c.push([e.id,".guify-file-container {\n    display: inline-block;\n    outline: none;\n    padding-top: 8px;\n    padding-bottom: 8px;\n    color: var(--color-text-primary);\n    background-color: var(--color-component-background);\n    cursor: pointer;\n}\n\n.guify-file-container:hover:not(:disabled),\n.guify-file-container:focus:not(:disabled) {\n    color: var(--color-text-hover);\n    background-color: var(--color-component-foreground);\n}\n\n.guify-file-container:active:not(:disabled) {\n    color: var(--color-text-active) !important;\n    background-color: var(--color-component-active) !important;\n}\n\n.guify-dragover:not(:disabled) {\n    background-color: var(--color-component-background);\n    box-shadow: inset 0 0 0 3px var(--color-component-foreground);\n}\n\n.disabled.guify-file-container {\n    pointer-events: none;\n    color: var(--color-text-disabled) !important;\n    background-color: var(--color-component-background-disabled) !important;\n    box-shadow: inset 0 0 0 3px var(--color-component-background-disabled) !important;\n}","",{version:3,sources:["webpack://./src/components/public/file.css"],names:[],mappings:"AAEA;IACI,qBAAqB;IACrB,aAAa;IACb,gBAAgB;IAChB,mBAAmB;IACnB,gCAAgC;IAChC,mDAAmD;IACnD,eAAe;AACnB;;AAEA;;IAEI,8BAA8B;IAC9B,mDAAmD;AACvD;;AAEA;IACI,0CAA0C;IAC1C,0DAA0D;AAC9D;;AAEA;IACI,mDAAmD;IACnD,6DAA6D;AACjE;;AAEA;IACI,oBAAoB;IACpB,4CAA4C;IAC5C,uEAAuE;IACvE,iFAAiF;AACrF",sourcesContent:['@import "../variables.css";\n\n.guify-file-container {\n    display: inline-block;\n    outline: none;\n    padding-top: 8px;\n    padding-bottom: 8px;\n    color: var(--color-text-primary);\n    background-color: var(--color-component-background);\n    cursor: pointer;\n}\n\n.guify-file-container:hover:not(:disabled),\n.guify-file-container:focus:not(:disabled) {\n    color: var(--color-text-hover);\n    background-color: var(--color-component-foreground);\n}\n\n.guify-file-container:active:not(:disabled) {\n    color: var(--color-text-active) !important;\n    background-color: var(--color-component-active) !important;\n}\n\n.guify-dragover:not(:disabled) {\n    background-color: var(--color-component-background);\n    box-shadow: inset 0 0 0 3px var(--color-component-foreground);\n}\n\n.disabled.guify-file-container {\n    pointer-events: none;\n    color: var(--color-text-disabled) !important;\n    background-color: var(--color-component-background-disabled) !important;\n    box-shadow: inset 0 0 0 3px var(--color-component-background-disabled) !important;\n}'],sourceRoot:""}]);const l=c},211:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(537),i=n.n(r),o=n(645),s=n.n(o),a=n(19),c=s()(i());c.i(a.Z),c.push([e.id,".guify-folder {\n    cursor: pointer;\n    padding-left: 0.5em;\n    color: var(--color-text-primary);\n}\n\n.guify-folder div {\n    display: inline-block;\n    vertical-align: sub;\n    line-height: var(--size-component-height);\n}\n\n.guify-folder:hover,\n.guify-folder:focus {\n    color: var(--color-text-hover);\n    background-color: var(--color-component-foreground);\n    outline: none;\n}\n\n\n.guify-folder-contents {\n    display: block;\n    box-sizing: border-box;\n    padding-left: 14px;\n    margin-bottom: 5px;\n    border-left: 2px solid var(--color-component-background);\n}\n\n.guify-folder-contents.guify-folder-closed {\n    height: 0;\n    display: none;\n}\n\n.guify-folder .guify-folder-arrow {\n    width: 1.5em;\n    vertical-align: middle;\n}\n\n/* Disabled styles */\n\n.guify-folder.disabled {\n    pointer-events: none;\n    color: var(--color-text-disabled);\n}\n\n.guify-folder.disabled + .guify-folder-contents {\n    pointer-events: none;\n}","",{version:3,sources:["webpack://./src/components/public/folder.css"],names:[],mappings:"AAEA;IACI,eAAe;IACf,mBAAmB;IACnB,gCAAgC;AACpC;;AAEA;IACI,qBAAqB;IACrB,mBAAmB;IACnB,yCAAyC;AAC7C;;AAEA;;IAEI,8BAA8B;IAC9B,mDAAmD;IACnD,aAAa;AACjB;;;AAGA;IACI,cAAc;IACd,sBAAsB;IACtB,kBAAkB;IAClB,kBAAkB;IAClB,wDAAwD;AAC5D;;AAEA;IACI,SAAS;IACT,aAAa;AACjB;;AAEA;IACI,YAAY;IACZ,sBAAsB;AAC1B;;AAEA,oBAAoB;;AAEpB;IACI,oBAAoB;IACpB,iCAAiC;AACrC;;AAEA;IACI,oBAAoB;AACxB",sourcesContent:['@import "../variables.css";\n\n.guify-folder {\n    cursor: pointer;\n    padding-left: 0.5em;\n    color: var(--color-text-primary);\n}\n\n.guify-folder div {\n    display: inline-block;\n    vertical-align: sub;\n    line-height: var(--size-component-height);\n}\n\n.guify-folder:hover,\n.guify-folder:focus {\n    color: var(--color-text-hover);\n    background-color: var(--color-component-foreground);\n    outline: none;\n}\n\n\n.guify-folder-contents {\n    display: block;\n    box-sizing: border-box;\n    padding-left: 14px;\n    margin-bottom: 5px;\n    border-left: 2px solid var(--color-component-background);\n}\n\n.guify-folder-contents.guify-folder-closed {\n    height: 0;\n    display: none;\n}\n\n.guify-folder .guify-folder-arrow {\n    width: 1.5em;\n    vertical-align: middle;\n}\n\n/* Disabled styles */\n\n.guify-folder.disabled {\n    pointer-events: none;\n    color: var(--color-text-disabled);\n}\n\n.guify-folder.disabled + .guify-folder-contents {\n    pointer-events: none;\n}'],sourceRoot:""}]);const l=c},554:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(537),i=n.n(r),o=n(645),s=n.n(o),a=n(19),c=s()(i());c.i(a.Z),c.push([e.id,":root {\n    --interval-track-color: var(--color-component-background);\n    --interval-thumb-color: var(--color-component-foreground);\n    --interval-thumb-highlight: var(--color-component-active);\n\n    --interval-track-color-disabled: var(--color-component-background-disabled);\n    --interval-thumb-color-disabled: var(--color-text-disabled);\n}\n\n.guify-interval {\n    -webkit-appearance: none;\n    position: absolute;\n    height: var(--size-component-height);\n    margin: 0px 0;\n    width: 33%;\n    left: 54.5%;\n    background-color: var(--color-component-background);\n    background-color: var(--interval-track-color);\n    cursor: ew-resize;\n\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n}\n.guify-interval-handle {\n    background-color: var(--color-component-foreground);\n    background-color: var(--interval-thumb-color);\n    position: absolute;\n    height: var(--size-component-height);\n    min-width: 1px;\n}\n.guify-interval-handle:focus {\n    background: var(--color-component-active);\n    background: var(--interval-thumb-highlight);\n}\n\n.disabled .guify-interval {\n    pointer-events: none;\n    background-color: var(--color-component-background-disabled);\n    background-color: var(--interval-track-color-disabled);\n}\n\n.disabled .guify-interval .guify-interval-handle {\n    background: var(--color-text-disabled);\n    background: var(--interval-thumb-color-disabled);\n}","",{version:3,sources:["webpack://./src/components/public/interval.css"],names:[],mappings:"AAEA;IACI,yDAAyD;IACzD,yDAAyD;IACzD,yDAAyD;;IAEzD,2EAA2E;IAC3E,2DAA2D;AAC/D;;AAEA;IACI,wBAAwB;IACxB,kBAAkB;IAClB,oCAAoC;IACpC,aAAa;IACb,UAAU;IACV,WAAW;IACX,mDAA6C;IAA7C,6CAA6C;IAC7C,iBAAiB;;IAEjB,2BAA2B;IAC3B,yBAAyB;IAEzB,sBAAsB;IACtB,qBAAqB;IACrB,iBAAiB;AACrB;AACA;IACI,mDAA6C;IAA7C,6CAA6C;IAC7C,kBAAkB;IAClB,oCAAoC;IACpC,cAAc;AAClB;AACA;IACI,yCAA2C;IAA3C,2CAA2C;AAC/C;;AAEA;IACI,oBAAoB;IACpB,4DAAsD;IAAtD,sDAAsD;AAC1D;;AAEA;IACI,sCAAgD;IAAhD,gDAAgD;AACpD",sourcesContent:['@import "../variables.css";\n\n:root {\n    --interval-track-color: var(--color-component-background);\n    --interval-thumb-color: var(--color-component-foreground);\n    --interval-thumb-highlight: var(--color-component-active);\n\n    --interval-track-color-disabled: var(--color-component-background-disabled);\n    --interval-thumb-color-disabled: var(--color-text-disabled);\n}\n\n.guify-interval {\n    -webkit-appearance: none;\n    position: absolute;\n    height: var(--size-component-height);\n    margin: 0px 0;\n    width: 33%;\n    left: 54.5%;\n    background-color: var(--interval-track-color);\n    cursor: ew-resize;\n\n    -webkit-touch-callout: none;\n    -webkit-user-select: none;\n    -khtml-user-select: none;\n    -moz-user-select: none;\n    -ms-user-select: none;\n    user-select: none;\n}\n.guify-interval-handle {\n    background-color: var(--interval-thumb-color);\n    position: absolute;\n    height: var(--size-component-height);\n    min-width: 1px;\n}\n.guify-interval-handle:focus {\n    background: var(--interval-thumb-highlight);\n}\n\n.disabled .guify-interval {\n    pointer-events: none;\n    background-color: var(--interval-track-color-disabled);\n}\n\n.disabled .guify-interval .guify-interval-handle {\n    background: var(--interval-thumb-color-disabled);\n}'],sourceRoot:""}]);const l=c},115:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(537),i=n.n(r),o=n(645),s=n.n(o),a=n(19),c=s()(i());c.i(a.Z),c.push([e.id,":root {\n    --range-track-color: var(--color-component-background);\n    --range-thumb-color: var(--color-component-foreground);\n    --range-thumb-highlight: var(--color-component-active);\n\n    --range-track-color-disabled: var(--color-component-background-disabled);\n    --range-thumb-color-disabled: var(--color-text-disabled);\n}\n\ninput[type=range].guify-range {\n    position: absolute; /* Gets rid of weird spacing below slider that I can't figure out the source of, seems internal */\n    -webkit-appearance: none;\n    width: 100%;\n    height: var(--size-component-height);\n    margin: 0px 0;\n    padding: 0;\n    display: inline-block;\n\n    /* Fixes for Safari iOS */\n    border-radius: 0;\n    border: none;\n    background-color: transparent;\n}\n\n.disabled input[type=range].guify-range {\n    pointer-events: none;\n}\n\n/* Remove outlines since we'll be adding our own */\ninput[type=range].guify-range:focus {\n    outline: none;\n}\ninput[type=range].guify-range::-moz-focus-outer {\n    border: 0;\n}\n\n/* Webkit */\ninput[type=range].guify-range::-webkit-slider-runnable-track {\n    width: 100%;\n    height: var(--size-component-height);\n    cursor: ew-resize;\n    background: var(--color-component-background);\n    background: var(--range-track-color);\n}\ninput[type=range].guify-range::-webkit-slider-thumb {\n    height: var(--size-component-height);\n    width: 10px;\n    background: var(--color-component-foreground);\n    background: var(--range-thumb-color);\n    cursor: ew-resize;\n    -webkit-appearance: none;\n    margin-top: 0px;\n    border: 0;\n}\ninput[type=range].guify-range:focus::-webkit-slider-runnable-track {\n    background: var(--color-component-active);\n    background: var(--range-thumb-highlight);\n    outline: none;\n}\n\n.disabled input[type=range].guify-range::-webkit-slider-runnable-track { /* Disabled track */\n    pointer-events: none;\n    background: var(--color-component-background-disabled);\n    background: var(--range-track-color-disabled);\n}\n\n.disabled input[type=range].guify-range::-webkit-slider-thumb { /* Disabled thumb */\n    pointer-events: none;\n    background: var(--color-text-disabled);\n}\n\n/* Gecko */\ninput[type=range].guify-range::-moz-range-track {\n    width: 100%;\n    height: var(--size-component-height);\n    cursor: ew-resize;\n    background: var(--color-component-background);\n    background: var(--range-track-color);\n}\ninput[type=range].guify-range:focus::-moz-range-track {\n    background: var(--color-component-active);\n    background: var(--range-thumb-highlight);\n}\ninput[type=range].guify-range::-moz-range-thumb {\n    height: var(--size-component-height);\n    width: 10px;\n    background: var(--color-component-foreground);\n    background: var(--range-thumb-color);\n    cursor: ew-resize;\n    border: none;\n    border-radius: 0;\n}\n\n.disabled input[type=range].guify-range::-moz-range-track { /* Disabled track */\n    pointer-events: none;\n    background: var(--color-component-background-disabled);\n    background: var(--range-track-color-disabled);\n}\n\n.disabled input[type=range].guify-range::-moz-range-thumb { /* Disabled thumb */\n    pointer-events: none;\n    background: var(--color-text-disabled);\n    background: var(--range-thumb-color-disabled);\n}","",{version:3,sources:["webpack://./src/components/public/range.css"],names:[],mappings:"AAEA;IACI,sDAAsD;IACtD,sDAAsD;IACtD,sDAAsD;;IAEtD,wEAAwE;IACxE,wDAAwD;AAC5D;;AAEA;IACI,kBAAkB,EAAE,iGAAiG;IACrH,wBAAwB;IACxB,WAAW;IACX,oCAAoC;IACpC,aAAa;IACb,UAAU;IACV,qBAAqB;;IAErB,yBAAyB;IACzB,gBAAgB;IAChB,YAAY;IACZ,6BAA6B;AACjC;;AAEA;IACI,oBAAoB;AACxB;;AAEA,kDAAkD;AAClD;IACI,aAAa;AACjB;AACA;IACI,SAAS;AACb;;AAEA,WAAW;AACX;IACI,WAAW;IACX,oCAAoC;IACpC,iBAAiB;IACjB,6CAAoC;IAApC,oCAAoC;AACxC;AACA;IACI,oCAAoC;IACpC,WAAW;IACX,6CAAoC;IAApC,oCAAoC;IACpC,iBAAiB;IACjB,wBAAwB;IACxB,eAAe;IACf,SAAS;AACb;AACA;IACI,yCAAwC;IAAxC,wCAAwC;IACxC,aAAa;AACjB;;AAEA,yEAAyE,mBAAmB;IACxF,oBAAoB;IACpB,sDAA6C;IAA7C,6CAA6C;AACjD;;AAEA,gEAAgE,mBAAmB;IAC/E,oBAAoB;IACpB,sCAAsC;AAC1C;;AAEA,UAAU;AACV;IACI,WAAW;IACX,oCAAoC;IACpC,iBAAiB;IACjB,6CAAoC;IAApC,oCAAoC;AACxC;AACA;IACI,yCAAwC;IAAxC,wCAAwC;AAC5C;AACA;IACI,oCAAoC;IACpC,WAAW;IACX,6CAAoC;IAApC,oCAAoC;IACpC,iBAAiB;IACjB,YAAY;IACZ,gBAAgB;AACpB;;AAEA,4DAA4D,mBAAmB;IAC3E,oBAAoB;IACpB,sDAA6C;IAA7C,6CAA6C;AACjD;;AAEA,4DAA4D,mBAAmB;IAC3E,oBAAoB;IACpB,sCAA6C;IAA7C,6CAA6C;AACjD",sourcesContent:["@import \"../variables.css\";\n\n:root {\n    --range-track-color: var(--color-component-background);\n    --range-thumb-color: var(--color-component-foreground);\n    --range-thumb-highlight: var(--color-component-active);\n\n    --range-track-color-disabled: var(--color-component-background-disabled);\n    --range-thumb-color-disabled: var(--color-text-disabled);\n}\n\ninput[type=range].guify-range {\n    position: absolute; /* Gets rid of weird spacing below slider that I can't figure out the source of, seems internal */\n    -webkit-appearance: none;\n    width: 100%;\n    height: var(--size-component-height);\n    margin: 0px 0;\n    padding: 0;\n    display: inline-block;\n\n    /* Fixes for Safari iOS */\n    border-radius: 0;\n    border: none;\n    background-color: transparent;\n}\n\n.disabled input[type=range].guify-range {\n    pointer-events: none;\n}\n\n/* Remove outlines since we'll be adding our own */\ninput[type=range].guify-range:focus {\n    outline: none;\n}\ninput[type=range].guify-range::-moz-focus-outer {\n    border: 0;\n}\n\n/* Webkit */\ninput[type=range].guify-range::-webkit-slider-runnable-track {\n    width: 100%;\n    height: var(--size-component-height);\n    cursor: ew-resize;\n    background: var(--range-track-color);\n}\ninput[type=range].guify-range::-webkit-slider-thumb {\n    height: var(--size-component-height);\n    width: 10px;\n    background: var(--range-thumb-color);\n    cursor: ew-resize;\n    -webkit-appearance: none;\n    margin-top: 0px;\n    border: 0;\n}\ninput[type=range].guify-range:focus::-webkit-slider-runnable-track {\n    background: var(--range-thumb-highlight);\n    outline: none;\n}\n\n.disabled input[type=range].guify-range::-webkit-slider-runnable-track { /* Disabled track */\n    pointer-events: none;\n    background: var(--range-track-color-disabled);\n}\n\n.disabled input[type=range].guify-range::-webkit-slider-thumb { /* Disabled thumb */\n    pointer-events: none;\n    background: var(--color-text-disabled);\n}\n\n/* Gecko */\ninput[type=range].guify-range::-moz-range-track {\n    width: 100%;\n    height: var(--size-component-height);\n    cursor: ew-resize;\n    background: var(--range-track-color);\n}\ninput[type=range].guify-range:focus::-moz-range-track {\n    background: var(--range-thumb-highlight);\n}\ninput[type=range].guify-range::-moz-range-thumb {\n    height: var(--size-component-height);\n    width: 10px;\n    background: var(--range-thumb-color);\n    cursor: ew-resize;\n    border: none;\n    border-radius: 0;\n}\n\n.disabled input[type=range].guify-range::-moz-range-track { /* Disabled track */\n    pointer-events: none;\n    background: var(--range-track-color-disabled);\n}\n\n.disabled input[type=range].guify-range::-moz-range-thumb { /* Disabled thumb */\n    pointer-events: none;\n    background: var(--range-thumb-color-disabled);\n}"],sourceRoot:""}]);const l=c},247:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(537),i=n.n(r),o=n(645),s=n.n(o),a=n(19),c=s()(i());c.i(a.Z),c.push([e.id,".guify-select-dropdown {\n    display: inline-block;\n    position: absolute;\n    width: calc(100% - var(--size-label-width));\n    padding-left: 1.5%;\n    height: var(--size-component-height);\n    border: none;\n    border-radius: 0;\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    -o-appearance:none;\n    appearance: none;\n    font-family: inherit;\n    background-color: var(--color-component-background);\n    color: var(--color-text-secondary);\n    box-sizing: border-box !important;\n    -moz-box-sizing: border-box !important;\n    -webkit-box-sizing: border-box !important;\n}\n\n/* Disable default outline since we're providing our own */\n.guify-select-dropdown:focus {\n    outline: none;\n}\n.guify-select-dropdown::-moz-focus-inner {\n    border: 0;\n}\n\n\n.guify-select-dropdown:focus,\n.guify-select-dropdown:hover {\n    color: var(--color-text-hover);\n    background-color: var(--color-component-foreground);\n}\n\n.guify-select-dropdown::-ms-expand {\n    display:none;\n}\n.guify-select-triangle {\n    content: ' ';\n    border-right: 3px solid transparent;\n    border-left: 3px solid transparent;\n    line-height: var(--size-component-height);\n    position: absolute;\n    right: 2.5%;\n    z-index: 1;\n    pointer-events: none;\n}\n\n.guify-select-triangle--up {\n    bottom: 55%;\n    border-bottom: 5px solid var(--color-text-secondary);\n    border-top: 0px transparent;\n}\n\n.guify-select-triangle--down {\n    top: 55%;\n    border-top: 5px solid var(--color-text-secondary);\n    border-bottom: 0px transparent;\n}\n\n.guify-select-triangle--up-highlight {\n    border-bottom-color: var(--color-text-hover);\n}\n\n.guify-select-triangle--down-highlight {\n    border-top-color: var(--color-text-hover);\n}\n\n/* Disabled styles */\n\n.disabled .guify-select-dropdown {\n    pointer-events: none;\n    color: var(--color-text-disabled);\n    background-color: var(--color-component-background-disabled);\n}\n\n.disabled *[class^=\"guify-select-triangle\"] {\n    border-color: var(--color-text-disabled);\n}\n","",{version:3,sources:["webpack://./src/components/public/select.css"],names:[],mappings:"AAEA;IACI,qBAAqB;IACrB,kBAAkB;IAClB,2CAA2C;IAC3C,kBAAkB;IAClB,oCAAoC;IACpC,YAAY;IACZ,gBAAgB;IAChB,wBAAwB;IACxB,qBAAqB;IACrB,kBAAkB;IAClB,gBAAgB;IAChB,oBAAoB;IACpB,mDAAmD;IACnD,kCAAkC;IAClC,iCAAiC;IACjC,sCAAsC;IACtC,yCAAyC;AAC7C;;AAEA,0DAA0D;AAC1D;IACI,aAAa;AACjB;AACA;IACI,SAAS;AACb;;;AAGA;;IAEI,8BAA8B;IAC9B,mDAAmD;AACvD;;AAEA;IACI,YAAY;AAChB;AACA;IACI,YAAY;IACZ,mCAAmC;IACnC,kCAAkC;IAClC,yCAAyC;IACzC,kBAAkB;IAClB,WAAW;IACX,UAAU;IACV,oBAAoB;AACxB;;AAEA;IACI,WAAW;IACX,oDAAoD;IACpD,2BAA2B;AAC/B;;AAEA;IACI,QAAQ;IACR,iDAAiD;IACjD,8BAA8B;AAClC;;AAEA;IACI,4CAA4C;AAChD;;AAEA;IACI,yCAAyC;AAC7C;;AAEA,oBAAoB;;AAEpB;IACI,oBAAoB;IACpB,iCAAiC;IACjC,4DAA4D;AAChE;;AAEA;IACI,wCAAwC;AAC5C",sourcesContent:['@import "../variables.css";\n\n.guify-select-dropdown {\n    display: inline-block;\n    position: absolute;\n    width: calc(100% - var(--size-label-width));\n    padding-left: 1.5%;\n    height: var(--size-component-height);\n    border: none;\n    border-radius: 0;\n    -webkit-appearance: none;\n    -moz-appearance: none;\n    -o-appearance:none;\n    appearance: none;\n    font-family: inherit;\n    background-color: var(--color-component-background);\n    color: var(--color-text-secondary);\n    box-sizing: border-box !important;\n    -moz-box-sizing: border-box !important;\n    -webkit-box-sizing: border-box !important;\n}\n\n/* Disable default outline since we\'re providing our own */\n.guify-select-dropdown:focus {\n    outline: none;\n}\n.guify-select-dropdown::-moz-focus-inner {\n    border: 0;\n}\n\n\n.guify-select-dropdown:focus,\n.guify-select-dropdown:hover {\n    color: var(--color-text-hover);\n    background-color: var(--color-component-foreground);\n}\n\n.guify-select-dropdown::-ms-expand {\n    display:none;\n}\n.guify-select-triangle {\n    content: \' \';\n    border-right: 3px solid transparent;\n    border-left: 3px solid transparent;\n    line-height: var(--size-component-height);\n    position: absolute;\n    right: 2.5%;\n    z-index: 1;\n    pointer-events: none;\n}\n\n.guify-select-triangle--up {\n    bottom: 55%;\n    border-bottom: 5px solid var(--color-text-secondary);\n    border-top: 0px transparent;\n}\n\n.guify-select-triangle--down {\n    top: 55%;\n    border-top: 5px solid var(--color-text-secondary);\n    border-bottom: 0px transparent;\n}\n\n.guify-select-triangle--up-highlight {\n    border-bottom-color: var(--color-text-hover);\n}\n\n.guify-select-triangle--down-highlight {\n    border-top-color: var(--color-text-hover);\n}\n\n/* Disabled styles */\n\n.disabled .guify-select-dropdown {\n    pointer-events: none;\n    color: var(--color-text-disabled);\n    background-color: var(--color-component-background-disabled);\n}\n\n.disabled *[class^="guify-select-triangle"] {\n    border-color: var(--color-text-disabled);\n}\n'],sourceRoot:""}]);const l=c},532:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(537),i=n.n(r),o=n(645),s=n.n(o),a=n(19),c=s()(i());c.i(a.Z),c.push([e.id,".guify-text-input {\n    position: absolute;\n    padding-left: 6px;\n    height: var(--size-component-height);\n    width: calc(100% - var(--size-label-width));\n    border: none;\n    background: var(--color-component-background);\n    color: var(--color-text-secondary);\n    font-family: inherit;\n    box-sizing: border-box !important;\n    resize: vertical;\n\n    /* Fixes for Safari iOS */\n    border-radius: 0;\n}\n\n.guify-text-input:focus {\n    outline: none;\n}\n\n.disabled .guify-text-input {\n    pointer-events: none;\n    color: var(--color-text-disabled);\n    background-color: var(--color-component-background-disabled);\n}","",{version:3,sources:["webpack://./src/components/public/text.css"],names:[],mappings:"AAEA;IACI,kBAAkB;IAClB,iBAAiB;IACjB,oCAAoC;IACpC,2CAA2C;IAC3C,YAAY;IACZ,6CAA6C;IAC7C,kCAAkC;IAClC,oBAAoB;IACpB,iCAAiC;IACjC,gBAAgB;;IAEhB,yBAAyB;IACzB,gBAAgB;AACpB;;AAEA;IACI,aAAa;AACjB;;AAEA;IACI,oBAAoB;IACpB,iCAAiC;IACjC,4DAA4D;AAChE",sourcesContent:['@import "../variables.css";\n\n.guify-text-input {\n    position: absolute;\n    padding-left: 6px;\n    height: var(--size-component-height);\n    width: calc(100% - var(--size-label-width));\n    border: none;\n    background: var(--color-component-background);\n    color: var(--color-text-secondary);\n    font-family: inherit;\n    box-sizing: border-box !important;\n    resize: vertical;\n\n    /* Fixes for Safari iOS */\n    border-radius: 0;\n}\n\n.guify-text-input:focus {\n    outline: none;\n}\n\n.disabled .guify-text-input {\n    pointer-events: none;\n    color: var(--color-text-disabled);\n    background-color: var(--color-component-background-disabled);\n}'],sourceRoot:""}]);const l=c},146:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(537),i=n.n(r),o=n(645),s=n.n(o),a=n(19),c=s()(i());c.i(a.Z),c.push([e.id,".guify-title {\n    box-sizing: border-box;\n    width: 100%;\n    display: inline-block;\n    height: var(--size-component-height);\n    vertical-align: top;\n}\n\n.guify-title-text {\n    display: inline-block;\n    height: var(--size-component-height);\n    line-height: var(--size-component-height);\n    padding-left: 5px;\n    padding-right: 5px;\n    background-color: var(--color-text-primary);\n    color: var(--color-panel-background);\n}\n\n/* Disabled style */\n\n.disabled .guify-title-text {\n    background-color: var(--color-text-disabled);\n}\n\n/* Add a bit of top margin if immediately after another component */\n\n.guify-component-container > .guify-title {\n    margin-top: 0.5em;\n}","",{version:3,sources:["webpack://./src/components/public/title.css"],names:[],mappings:"AAEA;IACI,sBAAsB;IACtB,WAAW;IACX,qBAAqB;IACrB,oCAAoC;IACpC,mBAAmB;AACvB;;AAEA;IACI,qBAAqB;IACrB,oCAAoC;IACpC,yCAAyC;IACzC,iBAAiB;IACjB,kBAAkB;IAClB,2CAA2C;IAC3C,oCAAoC;AACxC;;AAEA,mBAAmB;;AAEnB;IACI,4CAA4C;AAChD;;AAEA,mEAAmE;;AAEnE;IACI,iBAAiB;AACrB",sourcesContent:['@import "../variables.css";\n\n.guify-title {\n    box-sizing: border-box;\n    width: 100%;\n    display: inline-block;\n    height: var(--size-component-height);\n    vertical-align: top;\n}\n\n.guify-title-text {\n    display: inline-block;\n    height: var(--size-component-height);\n    line-height: var(--size-component-height);\n    padding-left: 5px;\n    padding-right: 5px;\n    background-color: var(--color-text-primary);\n    color: var(--color-panel-background);\n}\n\n/* Disabled style */\n\n.disabled .guify-title-text {\n    background-color: var(--color-text-disabled);\n}\n\n/* Add a bit of top margin if immediately after another component */\n\n.guify-component-container > .guify-title {\n    margin-top: 0.5em;\n}'],sourceRoot:""}]);const l=c},72:(e,t,n)=>{"use strict";n.d(t,{Z:()=>l});var r=n(537),i=n.n(r),o=n(645),s=n.n(o),a=n(19),c=s()(i());c.i(a.Z),c.push([e.id,".guify-container {\n    position: absolute;\n    left: 0;\n    width: 100%;\n    height: 100%;\n}\n\n/* Sub-elements of guify-container should appear over anything else. */\n.guify-container > * {\n    z-index: 9999;\n}\n\n.guify-container, .guify-container * {\n    font-family: var(--font-family);\n    font-size: var(--font-size);\n    font-weight: var(--font-weight);\n}\n\n.guify-container-overlay {\n    height: 100%;\n}\n\n.guify-container-above {\n    height: calc(100% + var(--size-menu-bar-height));\n    bottom: 0;\n}\n\n/* Overlay container when fullscreen */\n.guify-fullscreen .guify-container {\n    position: fixed;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n}","",{version:3,sources:["webpack://./src/gui.css"],names:[],mappings:"AAEA;IACI,kBAAkB;IAClB,OAAO;IACP,WAAW;IACX,YAAY;AAChB;;AAEA,sEAAsE;AACtE;IACI,aAAa;AACjB;;AAEA;IACI,+BAA+B;IAC/B,2BAA2B;IAC3B,+BAA+B;AACnC;;AAEA;IACI,YAAY;AAChB;;AAEA;IACI,gDAAgD;IAChD,SAAS;AACb;;AAEA,sCAAsC;AACtC;IACI,eAAe;IACf,OAAO;IACP,MAAM;IACN,WAAW;IACX,YAAY;AAChB",sourcesContent:['@import "./components/variables.css";\n\n.guify-container {\n    position: absolute;\n    left: 0;\n    width: 100%;\n    height: 100%;\n}\n\n/* Sub-elements of guify-container should appear over anything else. */\n.guify-container > * {\n    z-index: 9999;\n}\n\n.guify-container, .guify-container * {\n    font-family: var(--font-family);\n    font-size: var(--font-size);\n    font-weight: var(--font-weight);\n}\n\n.guify-container-overlay {\n    height: 100%;\n}\n\n.guify-container-above {\n    height: calc(100% + var(--size-menu-bar-height));\n    bottom: 0;\n}\n\n/* Overlay container when fullscreen */\n.guify-fullscreen .guify-container {\n    position: fixed;\n    left: 0;\n    top: 0;\n    width: 100%;\n    height: 100%;\n}'],sourceRoot:""}]);const l=c},19:(e,t,n)=>{"use strict";n.d(t,{Z:()=>a});var r=n(537),i=n.n(r),o=n(645),s=n.n(o)()(i());s.push([e.id,':root {\n    --color-menu-bar-background: "black";\n    --color-menu-bar-text: "black";\n    --color-panel-background: "black";\n\n    --color-component-background: "black";\n    --color-component-background-hover: "black";\n    --color-component-background-disabled: "black";\n    --color-component-foreground: "black";\n    --color-component-active: "black";\n\n    --color-text-primary: "black";\n    --color-text-secondary: "black";\n    --color-text-hover: "black";\n    --color-text-active: "black";\n    --color-text-disabled: "black";\n\n    --size-menu-bar-height: 25px;\n    --size-component-height: 2rem;\n    --size-component-spacing: 5px;\n    --size-label-width: 42%;\n\n    --font-family: ui-monospace, monospace;\n    --font-height: 11px;\n    --font-weight: 400;\n}\n',"",{version:3,sources:["webpack://./src/components/variables.css"],names:[],mappings:"AAAA;IACI,oCAAoC;IACpC,8BAA8B;IAC9B,iCAAiC;;IAEjC,qCAAqC;IACrC,2CAA2C;IAC3C,8CAA8C;IAC9C,qCAAqC;IACrC,iCAAiC;;IAEjC,6BAA6B;IAC7B,+BAA+B;IAC/B,2BAA2B;IAC3B,4BAA4B;IAC5B,8BAA8B;;IAE9B,4BAA4B;IAC5B,6BAA6B;IAC7B,6BAA6B;IAC7B,uBAAuB;;IAEvB,sCAAsC;IACtC,mBAAmB;IACnB,kBAAkB;AACtB",sourcesContent:[':root {\n    --color-menu-bar-background: "black";\n    --color-menu-bar-text: "black";\n    --color-panel-background: "black";\n\n    --color-component-background: "black";\n    --color-component-background-hover: "black";\n    --color-component-background-disabled: "black";\n    --color-component-foreground: "black";\n    --color-component-active: "black";\n\n    --color-text-primary: "black";\n    --color-text-secondary: "black";\n    --color-text-hover: "black";\n    --color-text-active: "black";\n    --color-text-disabled: "black";\n\n    --size-menu-bar-height: 25px;\n    --size-component-height: 2rem;\n    --size-component-spacing: 5px;\n    --size-label-width: 42%;\n\n    --font-family: ui-monospace, monospace;\n    --font-height: 11px;\n    --font-weight: 400;\n}\n'],sourceRoot:""}]);const a=s},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,o){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(r)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(s[c]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);r&&s[u[0]]||(void 0!==o&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=o),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),i&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=i):u[4]="".concat(i)),t.push(u))}},t}},537:e=>{"use strict";e.exports=function(e){var t=e[1],n=e[3];if(!n)return t;if("function"==typeof btoa){var r=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),i="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(r),o="/*# ".concat(i," */"),s=n.sources.map((function(e){return"/*# sourceURL=".concat(n.sourceRoot||"").concat(e," */")}));return[t].concat(s).concat([o]).join("\n")}return[t].join("\n")}},879:(e,t,n)=>{var r=n(236),i=n(189),o={float:"cssFloat"},s=n(379);function a(e,t,n){var a=o[t];if(void 0===a&&(a=function(e){var t=i(e),n=r(t);return o[t]=o[e]=o[n]=n,n}(t)),a){if(void 0===n)return e.style[a];e.style[a]=s(a,n)}}function c(e,t){for(var n in t)t.hasOwnProperty(n)&&a(e,n,t[n])}function l(){2===arguments.length?"string"==typeof arguments[1]?arguments[0].style.cssText=arguments[1]:c(arguments[0],arguments[1]):a(arguments[0],arguments[1],arguments[2])}e.exports=l,e.exports.set=l,e.exports.get=function(e,t){return Array.isArray(t)?t.reduce((function(t,n){return t[n]=a(e,n||""),t}),{}):a(e,t||"")}},186:e=>{var t=[],n=[];function r(e,r){if(r=r||{},void 0===e)throw new Error("insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).");var i,o=!0===r.prepend?"prepend":"append",s=void 0!==r.container?r.container:document.querySelector("head"),a=t.indexOf(s);return-1===a&&(a=t.push(s)-1,n[a]={}),void 0!==n[a]&&void 0!==n[a][o]?i=n[a][o]:(i=n[a][o]=function(){var e=document.createElement("style");return e.setAttribute("type","text/css"),e}(),"prepend"===o?s.insertBefore(i,s.childNodes[0]):s.appendChild(i)),65279===e.charCodeAt(0)&&(e=e.substr(1,e.length)),i.styleSheet?i.styleSheet.cssText+=e:i.textContent+=e,i}e.exports=r,e.exports.insertCss=r},114:function(e,t){!function(n){"use strict";function r(e){return"number"==typeof e&&!isNaN(e)||!!(e=(e||"").toString().trim())&&!isNaN(e)}e.exports&&(t=e.exports=r),t.isNumeric=r}()},236:e=>{var t=null,n=["Webkit","Moz","O","ms"];e.exports=function(e){t||(t=document.createElement("div"));var r=t.style;if(e in r)return e;for(var i=e.charAt(0).toUpperCase()+e.slice(1),o=n.length;o>=0;o--){var s=n[o]+i;if(s in r)return s}return!1}},577:e=>{!function(){"use strict";var t="undefined"!=typeof window&&void 0!==window.document?window.document:{},n=e.exports,r=function(){for(var e,n=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],r=0,i=n.length,o={};r<i;r++)if((e=n[r])&&e[1]in t){for(r=0;r<e.length;r++)o[n[0][r]]=e[r];return o}return!1}(),i={change:r.fullscreenchange,error:r.fullscreenerror},o={request:function(e){return new Promise(function(n,i){var o=function(){this.off("change",o),n()}.bind(this);this.on("change",o),e=e||t.documentElement,Promise.resolve(e[r.requestFullscreen]()).catch(i)}.bind(this))},exit:function(){return new Promise(function(e,n){if(this.isFullscreen){var i=function(){this.off("change",i),e()}.bind(this);this.on("change",i),Promise.resolve(t[r.exitFullscreen]()).catch(n)}else e()}.bind(this))},toggle:function(e){return this.isFullscreen?this.exit():this.request(e)},onchange:function(e){this.on("change",e)},onerror:function(e){this.on("error",e)},on:function(e,n){var r=i[e];r&&t.addEventListener(r,n,!1)},off:function(e,n){var r=i[e];r&&t.removeEventListener(r,n,!1)},raw:r};r?(Object.defineProperties(o,{isFullscreen:{get:function(){return Boolean(t[r.fullscreenElement])}},element:{enumerable:!0,get:function(){return t[r.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(t[r.fullscreenEnabled])}}}),n?e.exports=o:window.screenfull=o):n?e.exports={isEnabled:!1}:window.screenfull={isEnabled:!1}}()},994:e=>{"use strict";var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var o={},s=[],a=0;a<e.length;a++){var c=e[a],l=r.base?c[0]+r.base:c[0],u=o[l]||0,h="".concat(l," ").concat(u);o[l]=u+1;var d=n(h),f={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==d)t[d].references++,t[d].updater(f);else{var p=i(f,r);r.byIndex=a,t.splice(a,0,{identifier:h,updater:p,references:1})}s.push(h)}return s}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var o=r(e=e||[],i=i||{});return function(e){e=e||[];for(var s=0;s<o.length;s++){var a=n(o[s]);t[a].references--}for(var c=r(e,i),l=0;l<o.length;l++){var u=n(o[l]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}o=c}}},569:e=>{"use strict";var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{"use strict";e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var o=n.sourceMap;o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}},621:(e,t,n)=>{var r;!function(i){var o=/^\s+/,s=/\s+$/,a=0,c=i.round,l=i.min,u=i.max,h=i.random;function d(e,t){if(t=t||{},(e=e||"")instanceof d)return e;if(!(this instanceof d))return new d(e,t);var n=function(e){var t,n,r,a={r:0,g:0,b:0},c=1,h=null,d=null,f=null,p=!1,g=!1;return"string"==typeof e&&(e=function(e){e=e.replace(o,"").replace(s,"").toLowerCase();var t,n=!1;if(T[e])e=T[e],n=!0;else if("transparent"==e)return{r:0,g:0,b:0,a:0,format:"name"};return(t=q.rgb.exec(e))?{r:t[1],g:t[2],b:t[3]}:(t=q.rgba.exec(e))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=q.hsl.exec(e))?{h:t[1],s:t[2],l:t[3]}:(t=q.hsla.exec(e))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=q.hsv.exec(e))?{h:t[1],s:t[2],v:t[3]}:(t=q.hsva.exec(e))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=q.hex8.exec(e))?{r:L(t[1]),g:L(t[2]),b:L(t[3]),a:F(t[4]),format:n?"name":"hex8"}:(t=q.hex6.exec(e))?{r:L(t[1]),g:L(t[2]),b:L(t[3]),format:n?"name":"hex"}:(t=q.hex4.exec(e))?{r:L(t[1]+""+t[1]),g:L(t[2]+""+t[2]),b:L(t[3]+""+t[3]),a:F(t[4]+""+t[4]),format:n?"name":"hex8"}:!!(t=q.hex3.exec(e))&&{r:L(t[1]+""+t[1]),g:L(t[2]+""+t[2]),b:L(t[3]+""+t[3]),format:n?"name":"hex"}}(e)),"object"==typeof e&&($(e.r)&&$(e.g)&&$(e.b)?(t=e.r,n=e.g,r=e.b,a={r:255*N(t,255),g:255*N(n,255),b:255*N(r,255)},p=!0,g="%"===String(e.r).substr(-1)?"prgb":"rgb"):$(e.h)&&$(e.s)&&$(e.v)?(h=P(e.s),d=P(e.v),a=function(e,t,n){e=6*N(e,360),t=N(t,100),n=N(n,100);var r=i.floor(e),o=e-r,s=n*(1-t),a=n*(1-o*t),c=n*(1-(1-o)*t),l=r%6;return{r:255*[n,a,s,s,c,n][l],g:255*[c,n,n,a,s,s][l],b:255*[s,s,c,n,n,a][l]}}(e.h,h,d),p=!0,g="hsv"):$(e.h)&&$(e.s)&&$(e.l)&&(h=P(e.s),f=P(e.l),a=function(e,t,n){var r,i,o;function s(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}if(e=N(e,360),t=N(t,100),n=N(n,100),0===t)r=i=o=n;else{var a=n<.5?n*(1+t):n+t-n*t,c=2*n-a;r=s(c,a,e+1/3),i=s(c,a,e),o=s(c,a,e-1/3)}return{r:255*r,g:255*i,b:255*o}}(e.h,h,f),p=!0,g="hsl"),e.hasOwnProperty("a")&&(c=e.a)),c=R(c),{ok:p,format:e.format||g,r:l(255,u(a.r,0)),g:l(255,u(a.g,0)),b:l(255,u(a.b,0)),a:c}}(e);this._originalInput=e,this._r=n.r,this._g=n.g,this._b=n.b,this._a=n.a,this._roundA=c(100*this._a)/100,this._format=t.format||n.format,this._gradientType=t.gradientType,this._r<1&&(this._r=c(this._r)),this._g<1&&(this._g=c(this._g)),this._b<1&&(this._b=c(this._b)),this._ok=n.ok,this._tc_id=a++}function f(e,t,n){e=N(e,255),t=N(t,255),n=N(n,255);var r,i,o=u(e,t,n),s=l(e,t,n),a=(o+s)/2;if(o==s)r=i=0;else{var c=o-s;switch(i=a>.5?c/(2-o-s):c/(o+s),o){case e:r=(t-n)/c+(t<n?6:0);break;case t:r=(n-e)/c+2;break;case n:r=(e-t)/c+4}r/=6}return{h:r,s:i,l:a}}function p(e,t,n){e=N(e,255),t=N(t,255),n=N(n,255);var r,i,o=u(e,t,n),s=l(e,t,n),a=o,c=o-s;if(i=0===o?0:c/o,o==s)r=0;else{switch(o){case e:r=(t-n)/c+(t<n?6:0);break;case t:r=(n-e)/c+2;break;case n:r=(e-t)/c+4}r/=6}return{h:r,s:i,v:a}}function g(e,t,n,r){var i=[z(c(e).toString(16)),z(c(t).toString(16)),z(c(n).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function m(e,t,n,r){return[z(M(r)),z(c(e).toString(16)),z(c(t).toString(16)),z(c(n).toString(16))].join("")}function A(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.s-=t/100,n.s=O(n.s),d(n)}function y(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.s+=t/100,n.s=O(n.s),d(n)}function b(e){return d(e).desaturate(100)}function v(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.l+=t/100,n.l=O(n.l),d(n)}function w(e,t){t=0===t?0:t||10;var n=d(e).toRgb();return n.r=u(0,l(255,n.r-c(-t/100*255))),n.g=u(0,l(255,n.g-c(-t/100*255))),n.b=u(0,l(255,n.b-c(-t/100*255))),d(n)}function _(e,t){t=0===t?0:t||10;var n=d(e).toHsl();return n.l-=t/100,n.l=O(n.l),d(n)}function C(e,t){var n=d(e).toHsl(),r=(n.h+t)%360;return n.h=r<0?360+r:r,d(n)}function k(e){var t=d(e).toHsl();return t.h=(t.h+180)%360,d(t)}function x(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+120)%360,s:t.s,l:t.l}),d({h:(n+240)%360,s:t.s,l:t.l})]}function I(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+90)%360,s:t.s,l:t.l}),d({h:(n+180)%360,s:t.s,l:t.l}),d({h:(n+270)%360,s:t.s,l:t.l})]}function E(e){var t=d(e).toHsl(),n=t.h;return[d(e),d({h:(n+72)%360,s:t.s,l:t.l}),d({h:(n+216)%360,s:t.s,l:t.l})]}function B(e,t,n){t=t||6,n=n||30;var r=d(e).toHsl(),i=360/n,o=[d(e)];for(r.h=(r.h-(i*t>>1)+720)%360;--t;)r.h=(r.h+i)%360,o.push(d(r));return o}function S(e,t){t=t||6;for(var n=d(e).toHsv(),r=n.h,i=n.s,o=n.v,s=[],a=1/t;t--;)s.push(d({h:r,s:i,v:o})),o=(o+a)%1;return s}d.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(299*e.r+587*e.g+114*e.b)/1e3},getLuminance:function(){var e,t,n,r=this.toRgb();return e=r.r/255,t=r.g/255,n=r.b/255,.2126*(e<=.03928?e/12.92:i.pow((e+.055)/1.055,2.4))+.7152*(t<=.03928?t/12.92:i.pow((t+.055)/1.055,2.4))+.0722*(n<=.03928?n/12.92:i.pow((n+.055)/1.055,2.4))},setAlpha:function(e){return this._a=R(e),this._roundA=c(100*this._a)/100,this},toHsv:function(){var e=p(this._r,this._g,this._b);return{h:360*e.h,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=p(this._r,this._g,this._b),t=c(360*e.h),n=c(100*e.s),r=c(100*e.v);return 1==this._a?"hsv("+t+", "+n+"%, "+r+"%)":"hsva("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHsl:function(){var e=f(this._r,this._g,this._b);return{h:360*e.h,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=f(this._r,this._g,this._b),t=c(360*e.h),n=c(100*e.s),r=c(100*e.l);return 1==this._a?"hsl("+t+", "+n+"%, "+r+"%)":"hsla("+t+", "+n+"%, "+r+"%, "+this._roundA+")"},toHex:function(e){return g(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return function(e,t,n,r,i){var o=[z(c(e).toString(16)),z(c(t).toString(16)),z(c(n).toString(16)),z(M(r))];return i&&o[0].charAt(0)==o[0].charAt(1)&&o[1].charAt(0)==o[1].charAt(1)&&o[2].charAt(0)==o[2].charAt(1)&&o[3].charAt(0)==o[3].charAt(1)?o[0].charAt(0)+o[1].charAt(0)+o[2].charAt(0)+o[3].charAt(0):o.join("")}(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:c(this._r),g:c(this._g),b:c(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+c(this._r)+", "+c(this._g)+", "+c(this._b)+")":"rgba("+c(this._r)+", "+c(this._g)+", "+c(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:c(100*N(this._r,255))+"%",g:c(100*N(this._g,255))+"%",b:c(100*N(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+c(100*N(this._r,255))+"%, "+c(100*N(this._g,255))+"%, "+c(100*N(this._b,255))+"%)":"rgba("+c(100*N(this._r,255))+"%, "+c(100*N(this._g,255))+"%, "+c(100*N(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(D[g(this._r,this._g,this._b,!0)]||!1)},toFilter:function(e){var t="#"+m(this._r,this._g,this._b,this._a),n=t,r=this._gradientType?"GradientType = 1, ":"";if(e){var i=d(e);n="#"+m(i._r,i._g,i._b,i._a)}return"progid:DXImageTransform.Microsoft.gradient("+r+"startColorstr="+t+",endColorstr="+n+")"},toString:function(e){var t=!!e;e=e||this._format;var n=!1,r=this._a<1&&this._a>=0;return t||!r||"hex"!==e&&"hex6"!==e&&"hex3"!==e&&"hex4"!==e&&"hex8"!==e&&"name"!==e?("rgb"===e&&(n=this.toRgbString()),"prgb"===e&&(n=this.toPercentageRgbString()),"hex"!==e&&"hex6"!==e||(n=this.toHexString()),"hex3"===e&&(n=this.toHexString(!0)),"hex4"===e&&(n=this.toHex8String(!0)),"hex8"===e&&(n=this.toHex8String()),"name"===e&&(n=this.toName()),"hsl"===e&&(n=this.toHslString()),"hsv"===e&&(n=this.toHsvString()),n||this.toHexString()):"name"===e&&0===this._a?this.toName():this.toRgbString()},clone:function(){return d(this.toString())},_applyModification:function(e,t){var n=e.apply(null,[this].concat([].slice.call(t)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(v,arguments)},brighten:function(){return this._applyModification(w,arguments)},darken:function(){return this._applyModification(_,arguments)},desaturate:function(){return this._applyModification(A,arguments)},saturate:function(){return this._applyModification(y,arguments)},greyscale:function(){return this._applyModification(b,arguments)},spin:function(){return this._applyModification(C,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(B,arguments)},complement:function(){return this._applyCombination(k,arguments)},monochromatic:function(){return this._applyCombination(S,arguments)},splitcomplement:function(){return this._applyCombination(E,arguments)},triad:function(){return this._applyCombination(x,arguments)},tetrad:function(){return this._applyCombination(I,arguments)}},d.fromRatio=function(e,t){if("object"==typeof e){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]="a"===r?e[r]:P(e[r]));e=n}return d(e,t)},d.equals=function(e,t){return!(!e||!t)&&d(e).toRgbString()==d(t).toRgbString()},d.random=function(){return d.fromRatio({r:h(),g:h(),b:h()})},d.mix=function(e,t,n){n=0===n?0:n||50;var r=d(e).toRgb(),i=d(t).toRgb(),o=n/100;return d({r:(i.r-r.r)*o+r.r,g:(i.g-r.g)*o+r.g,b:(i.b-r.b)*o+r.b,a:(i.a-r.a)*o+r.a})},d.readability=function(e,t){var n=d(e),r=d(t);return(i.max(n.getLuminance(),r.getLuminance())+.05)/(i.min(n.getLuminance(),r.getLuminance())+.05)},d.isReadable=function(e,t,n){var r,i,o,s,a,c=d.readability(e,t);switch(i=!1,(o=n,"AA"!==(s=((o=o||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==s&&(s="AA"),"small"!==(a=(o.size||"small").toLowerCase())&&"large"!==a&&(a="small"),r={level:s,size:a}).level+r.size){case"AAsmall":case"AAAlarge":i=c>=4.5;break;case"AAlarge":i=c>=3;break;case"AAAsmall":i=c>=7}return i},d.mostReadable=function(e,t,n){var r,i,o,s,a=null,c=0;i=(n=n||{}).includeFallbackColors,o=n.level,s=n.size;for(var l=0;l<t.length;l++)(r=d.readability(e,t[l]))>c&&(c=r,a=d(t[l]));return d.isReadable(e,a,{level:o,size:s})||!i?a:(n.includeFallbackColors=!1,d.mostReadable(e,["#fff","#000"],n))};var T=d.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},D=d.hexNames=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[e[n]]=n);return t}(T);function R(e){return e=parseFloat(e),(isNaN(e)||e<0||e>1)&&(e=1),e}function N(e,t){(function(e){return"string"==typeof e&&-1!=e.indexOf(".")&&1===parseFloat(e)})(e)&&(e="100%");var n=function(e){return"string"==typeof e&&-1!=e.indexOf("%")}(e);return e=l(t,u(0,parseFloat(e))),n&&(e=parseInt(e*t,10)/100),i.abs(e-t)<1e-6?1:e%t/parseFloat(t)}function O(e){return l(1,u(0,e))}function L(e){return parseInt(e,16)}function z(e){return 1==e.length?"0"+e:""+e}function P(e){return e<=1&&(e=100*e+"%"),e}function M(e){return i.round(255*parseFloat(e)).toString(16)}function F(e){return L(e)/255}var V,U,j,q=(U="[\\s|\\(]+("+(V="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+V+")[,|\\s]+("+V+")\\s*\\)?",j="[\\s|\\(]+("+V+")[,|\\s]+("+V+")[,|\\s]+("+V+")[,|\\s]+("+V+")\\s*\\)?",{CSS_UNIT:new RegExp(V),rgb:new RegExp("rgb"+U),rgba:new RegExp("rgba"+j),hsl:new RegExp("hsl"+U),hsla:new RegExp("hsla"+j),hsv:new RegExp("hsv"+U),hsva:new RegExp("hsva"+j),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function $(e){return!!q.CSS_UNIT.exec(e)}e.exports?e.exports=d:void 0===(r=function(){return d}.call(t,n,t,e))||(e.exports=r)}(Math)},189:(e,t,n)=>{var r=n(966);e.exports=function(e){return r(e).replace(/\s(\w)/g,(function(e,t){return t.toUpperCase()}))}},788:e=>{e.exports=function(e){return t.test(e)?e.toLowerCase():n.test(e)?(function(e){return e.replace(i,(function(e,t){return t?" "+t:""}))}(e)||e).toLowerCase():r.test(e)?function(e){return e.replace(o,(function(e,t,n){return t+" "+n.toLowerCase().split("").join(" ")}))}(e).toLowerCase():e.toLowerCase()};var t=/\s/,n=/(_|-|\.|:)/,r=/([a-z][A-Z]|[A-Z][a-z])/,i=/[\W_]+(.|$)/g,o=/(.)([A-Z]+)/g},966:(e,t,n)=>{var r=n(788);e.exports=function(e){return r(e).replace(/[\W_]+(.|$)/g,(function(e,t){return t?" "+t:""})).trim()}},877:(e,t,n)=>{var r=n(570),i=n(171),o=i;o.v1=r,o.v4=i,e.exports=o},327:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,i=t;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},217:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},570:(e,t,n)=>{var r,i,o=n(217),s=n(327),a=0,c=0;e.exports=function(e,t,n){var l=t&&n||0,u=t||[],h=(e=e||{}).node||r,d=void 0!==e.clockseq?e.clockseq:i;if(null==h||null==d){var f=o();null==h&&(h=r=[1|f[0],f[1],f[2],f[3],f[4],f[5]]),null==d&&(d=i=16383&(f[6]<<8|f[7]))}var p=void 0!==e.msecs?e.msecs:(new Date).getTime(),g=void 0!==e.nsecs?e.nsecs:c+1,m=p-a+(g-c)/1e4;if(m<0&&void 0===e.clockseq&&(d=d+1&16383),(m<0||p>a)&&void 0===e.nsecs&&(g=0),g>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=p,c=g,i=d;var A=(1e4*(268435455&(p+=122192928e5))+g)%4294967296;u[l++]=A>>>24&255,u[l++]=A>>>16&255,u[l++]=A>>>8&255,u[l++]=255&A;var y=p/4294967296*1e4&268435455;u[l++]=y>>>8&255,u[l++]=255&y,u[l++]=y>>>24&15|16,u[l++]=y>>>16&255,u[l++]=d>>>8|128,u[l++]=255&d;for(var b=0;b<6;++b)u[l+b]=h[b];return t||s(u)}},171:(e,t,n)=>{var r=n(217),i=n(327);e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var a=0;a<16;++a)t[o+a]=s[a];return t||i(s)}},75:function(e,t,n){var r;!function(t){"use strict";function i(){}var o=i.prototype,s=t.EventEmitter;function a(e,t){for(var n=e.length;n--;)if(e[n].listener===t)return n;return-1}function c(e){return function(){return this[e].apply(this,arguments)}}function l(e){return"function"==typeof e||e instanceof RegExp||!(!e||"object"!=typeof e)&&l(e.listener)}o.getListeners=function(e){var t,n,r=this._getEvents();if(e instanceof RegExp)for(n in t={},r)r.hasOwnProperty(n)&&e.test(n)&&(t[n]=r[n]);else t=r[e]||(r[e]=[]);return t},o.flattenListeners=function(e){var t,n=[];for(t=0;t<e.length;t+=1)n.push(e[t].listener);return n},o.getListenersAsObject=function(e){var t,n=this.getListeners(e);return n instanceof Array&&((t={})[e]=n),t||n},o.addListener=function(e,t){if(!l(t))throw new TypeError("listener must be a function");var n,r=this.getListenersAsObject(e),i="object"==typeof t;for(n in r)r.hasOwnProperty(n)&&-1===a(r[n],t)&&r[n].push(i?t:{listener:t,once:!1});return this},o.on=c("addListener"),o.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},o.once=c("addOnceListener"),o.defineEvent=function(e){return this.getListeners(e),this},o.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},o.removeListener=function(e,t){var n,r,i=this.getListenersAsObject(e);for(r in i)i.hasOwnProperty(r)&&-1!==(n=a(i[r],t))&&i[r].splice(n,1);return this},o.off=c("removeListener"),o.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},o.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},o.manipulateListeners=function(e,t,n){var r,i,o=e?this.removeListener:this.addListener,s=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(r=n.length;r--;)o.call(this,t,n[r]);else for(r in t)t.hasOwnProperty(r)&&(i=t[r])&&("function"==typeof i?o.call(this,r,i):s.call(this,r,i));return this},o.removeEvent=function(e){var t,n=typeof e,r=this._getEvents();if("string"===n)delete r[e];else if(e instanceof RegExp)for(t in r)r.hasOwnProperty(t)&&e.test(t)&&delete r[t];else delete this._events;return this},o.removeAllListeners=c("removeEvent"),o.emitEvent=function(e,t){var n,r,i,o,s=this.getListenersAsObject(e);for(o in s)if(s.hasOwnProperty(o))for(n=s[o].slice(0),i=0;i<n.length;i++)!0===(r=n[i]).once&&this.removeListener(e,r.listener),r.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,r.listener);return this},o.trigger=c("emitEvent"),o.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},o.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},o._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},o._getEvents=function(){return this._events||(this._events={})},i.noConflict=function(){return t.EventEmitter=s,i},void 0===(r=function(){return i}.call(t,n,t,e))||(e.exports=r)}("undefined"!=typeof window?window:this||{})}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var o=t[r]={id:r,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};return(()=>{"use strict";n.r(r),n.d(r,{guify:()=>mn});var e=n(879),t=n.n(e),i=n(764),o=n.n(i);function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=o()[t];void 0===n&&(console.error("There is no theme preset with the name '".concat(t,"'! Defaulting to dark theme.")),n=o().dark),Object.assign(this,c,n)}var t;return(t=[{key:"Apply",value:function(){console.log(this);var e=document.documentElement;e.style.setProperty("--color-menu-bar-background",this.colors.menuBarBackground),e.style.setProperty("--color-menu-bar-text",this.colors.menuBarText),e.style.setProperty("--color-panel-background",this.colors.panelBackground),e.style.setProperty("--color-component-background",this.colors.componentBackground),e.style.setProperty("--color-component-background-hover",this.colors.componentBackgroundHover),e.style.setProperty("--color-component-background-disabled",this.colors.componentBackgroundDisabled),e.style.setProperty("--color-component-foreground",this.colors.componentForeground),e.style.setProperty("--color-component-active",this.colors.componentActive),e.style.setProperty("--color-text-primary",this.colors.textPrimary),e.style.setProperty("--color-text-secondary",this.colors.textSecondary),e.style.setProperty("--color-text-hover",this.colors.textHover),e.style.setProperty("--color-text-active",this.colors.textActive),e.style.setProperty("--color-text-disabled",this.colors.textDisabled),e.style.setProperty("--size-menu-bar-height",this.sizing.menuBarHeight),e.style.setProperty("--size-component-height",this.sizing.componentHeight),e.style.setProperty("--size-component-spacing",this.sizing.componentSpacing),e.style.setProperty("--size-label-width",this.sizing.labelWidth),e.style.setProperty("--font-family",this.font.fontFamily),e.style.setProperty("--font-size",this.font.fontSize),e.style.setProperty("--font-weight",this.font.fontWeight),e.style.setProperty("--font-family-for-input",this.font.inputFontFamily)}}])&&s(e.prototype,t),e}(),c={name:"BaseTheme",colors:{menuBarBackground:"black",menuBarText:"black",panelBackground:"black",componentBackground:"black",componentBackgroundHover:"black",componentBackgroundDisabled:"black",componentForeground:"black",componentActive:"black",textPrimary:"black",textSecondary:"black",textHover:"black",textActive:"black",textDisabled:"black"},sizing:{menuBarHeight:"25px",componentHeight:"20px",componentSpacing:"5px",labelWidth:"42%"},font:{fontFamily:"'Hack', ui-monospace, monospace",fontSize:"11px",fontWeight:"400",inputFontFamily:"'Hack', ui-monospace, monospace"}},l=n(994),u=n.n(l),h=n(795),d=n.n(h),f=n(569),p=n.n(f),g=n(565),m=n.n(g),A=n(216),y=n.n(A),b=n(589),v=n.n(b),w=n(72),_={};_.styleTagTransform=v(),_.setAttributes=m(),_.insert=p().bind(null,"head"),_.domAPI=d(),_.insertStyleElement=y(),u()(w.Z,_),w.Z&&w.Z.locals&&w.Z.locals;var C=n(75),k=n.n(C),x=n(877),I=n(54),E={};E.styleTagTransform=v(),E.setAttributes=m(),E.insert=p().bind(null,"head"),E.domAPI=d(),E.insertStyleElement=y(),u()(I.Z,E),I.Z&&I.Z.locals&&I.Z.locals;const B=function(e,t,n){var r=e.appendChild(document.createElement("div"));return r.classList.add("guify-component-container"),r};function S(e){return S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S(e)}function T(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function D(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function R(e,t){return R=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},R(e,t)}function N(e,t){if(t&&("object"===S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function O(e){return O=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},O(e)}var L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&R(e,t)}(o,e);var t,n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=O(n);if(r){var i=O(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return N(this,e)});function o(e,t,n){var r,s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return T(this,o),(r=i.call(this)).root=e,r.opts=t,r.theme=n,r.uuid=(0,x.v4)(),s&&(r.container=B(e,t.label)),r.SetEnabled(t.enabled||!0),r}return(t=[{key:"SetEnabled",value:function(e){var t,n;this.enabled=e,e?null===(t=this.container)||void 0===t||t.classList.remove("disabled"):null===(n=this.container)||void 0===n||n.classList.add("disabled")}},{key:"Remove",value:function(){this.container&&this.container.parentNode.removeChild(this.container)}}])&&D(o.prototype,t),o}(k()),z=n(146),P={};function M(e){return M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M(e)}function F(e,t){return F=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},F(e,t)}function V(e,t){if(t&&("object"===M(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function U(e){return U=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},U(e)}P.styleTagTransform=v(),P.setAttributes=m(),P.insert=p().bind(null,"head"),P.domAPI=d(),P.insertStyleElement=y(),u()(z.Z,P),z.Z&&z.Z.locals&&z.Z.locals;var j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&F(e,t)}(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=U(t);if(n){var i=U(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return V(this,e)});function i(e,t,n){var o;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);var s=(o=r.call(this,e,t,n)).container.appendChild(document.createElement("div"));s.classList.add("guify-title");var a=s.appendChild(document.createElement("div"));return a.classList.add("guify-title-text"),a.innerHTML="&#9632; ".concat(t.label," &#9632;"),o}return i}(L),q=n(114),$=n.n(q),H=n(115),Z={};Z.styleTagTransform=v(),Z.setAttributes=m(),Z.insert=p().bind(null,"head"),Z.domAPI=d(),Z.insertStyleElement=y(),u()(H.Z,Z),H.Z&&H.Z.locals&&H.Z.locals;var G=n(142),K={};K.styleTagTransform=v(),K.setAttributes=m(),K.insert=p().bind(null,"head"),K.domAPI=d(),K.insertStyleElement=y(),u()(G.Z,K),G.Z&&G.Z.locals&&G.Z.locals;const W=function(e,t,n){var r=e.appendChild(document.createElement("div"));return r.classList.add("guify-component-label"),r.innerHTML=t,r};var Q=n(643),Y={};Y.styleTagTransform=v(),Y.setAttributes=m(),Y.insert=p().bind(null,"head"),Y.domAPI=d(),Y.insertStyleElement=y(),u()(Q.Z,Y),Q.Z&&Q.Z.locals&&Q.Z.locals;const X=function(e,n,r,i,o){var s=e.appendChild(document.createElement("input"));return s.type="text",s.classList.add("guify-value-input"),s.value=n,o||s.classList.add("guify-value-input-right"),t()(s,{width:i}),s};function J(e){return J="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},J(e)}function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function te(e,t){return te=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},te(e,t)}function ne(e,t){if(t&&("object"===J(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function re(e){return re=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},re(e)}var ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&te(e,t)}(s,e);var n,r,i,o=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=re(r);if(i){var n=re(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return ne(this,e)});function s(e,n,r){var i;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(i=o.call(this,e,n,r)).scale=n.scale,i.label=W(i.container,n.label),i.input=i.container.appendChild(document.createElement("input")),i.input.type="range",i.input.classList.add("guify-range"),n.label&&i.input.setAttribute("aria-label",n.label+" input"),"log"===n.scale){if(n.min*n.max<=0)throw new Error("Log range min/max must have the same sign and not equal zero. Got min = "+n.min+", max = "+n.max);if($()(n.step)&&console.warn("Step is unused for log scale sliders."),$()(n.steps)&&console.warn('"steps" option for log scale sliders has been removed.'),i.minPos=0,i.maxPos=1e6,i.min=Math.log($()(n.min)?n.min:1e-6),i.max=Math.log($()(n.max)?n.max:100),i.precision=$()(n.precision)?n.precision:3,i.logScale=(i.max-i.min)/(i.maxPos-i.minPos),i.initial=$()(n.initial)?n.initial:i.min,n.initial<0)throw new Error("Log range initial value must be > 0. Got initial value = ".concat(n.initial))}else if(i.minPos=$()(n.min)?n.min:0,i.maxPos=$()(n.max)?n.max:100,i.min=i.minPos,i.max=i.maxPos,i.precision=$()(n.precision)?n.precision:3,i.step=$()(n.step)?n.step:10/Math.pow(10,3),i.initial=$()(n.initial)?n.initial:i.min,0!=i.step){var a=Math.round((i.initial-i.min)/i.step);i.initial=i.min+i.step*a}return i.input.min=i.minPos,i.input.max=i.maxPos,$()(i.step)&&(i.input.step=i.step),i.input.value=i._Position(i.initial),t()(i.input,{width:"calc(100% - ".concat(r.sizing.labelWidth," - 16% - 0.5em)")}),i.valueComponent=X(i.container,i.initial,0,"16%"),n.label&&i.valueComponent.setAttribute("aria-label",n.label+" value"),setTimeout((function(){i.emit("initialized",parseFloat(i.input.value))})),i.userIsModifying=!1,i.input.addEventListener("focus",(function(){i.focused=!0})),i.input.addEventListener("blur",(function(){i.focused=!1})),i.input.addEventListener("mouseup",(function(){i.input.blur()})),i.input.oninput=function(e){var t=parseFloat(e.target.value),n=i._Value(t);i.valueComponent.value=i._FormatNumber(n,i.precision),i.emit("input",n)},i.valueComponent.onchange=function(){var e=i.valueComponent.value;if(Number(parseFloat(e))==e){var t=parseFloat(e);t=i._ValidatedInputValue(t),i.valueComponent.value=t,i.emit("input",t),i.lastValue=t}else i.valueComponent.value=i.lastValue},i}return n=[{key:"_Value",value:function(e){if("log"===this.scale){var t=(e-this.minPos)*this.logScale+this.min;return Math.exp(t)}return e}},{key:"_Position",value:function(e){return"log"===this.scale?this.minPos+(Math.log(e)-this.min)/this.logScale:e}},{key:"_ValidatedInputValue",value:function(e){var t;return"log"===this.scale?t=Math.min(Math.max(e,Math.exp(this.min)),Math.exp(this.max)):(t=Math.min(Math.max(e,this.min),this.max),t=Math.ceil((t-this.min)/this.step)*this.step+this.min),this._FormatNumber(t,this.precision)}},{key:"SetValue",value:function(e){var t=this._ValidatedInputValue(e);!0!==this.focused&&(this.valueComponent.value=this._FormatNumber(t,this.precision),this.input.value=this._Position(t),this.lastValue=t)}},{key:"GetValue",value:function(){return this._Value(this.input.value)}},{key:"_FormatNumber",value:function(e,t){return+parseFloat(e).toFixed(t)}}],n&&ee(s.prototype,n),s}(L),oe=n(351),se={};function ae(e){return ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ae(e)}function ce(e,t){return ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ce(e,t)}function le(e,t){if(t&&("object"===ae(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ue(e){return ue=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ue(e)}se.styleTagTransform=v(),se.setAttributes=m(),se.insert=p().bind(null,"head"),se.domAPI=d(),se.insertStyleElement=y(),u()(oe.Z,se),oe.Z&&oe.Z.locals&&oe.Z.locals;var he=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ce(e,t)}(i,e);var t,n,r=(t=i,n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,r=ue(t);if(n){var i=ue(this).constructor;e=Reflect.construct(r,arguments,i)}else e=r.apply(this,arguments);return le(this,e)});function i(e,t,n){var o;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(o=r.call(this,e,t,n)).label=W(o.container,""),o.input=o.container.appendChild(document.createElement("button")),o.input.classList.add("guify-button"),o.input.textContent=t.label,o.button=o.input,o.input.addEventListener("click",t.action),o.input.addEventListener("mouseup",(function(){o.input.blur()})),o}return i}(L),de=n(11),fe={};function pe(e){return pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pe(e)}function ge(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function me(e,t){return me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},me(e,t)}function Ae(e,t){if(t&&("object"===pe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ye(e){return ye=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},ye(e)}fe.styleTagTransform=v(),fe.setAttributes=m(),fe.insert=p().bind(null,"head"),fe.domAPI=d(),fe.insertStyleElement=y(),u()(de.Z,fe),de.Z&&de.Z.locals&&de.Z.locals;var be=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&me(e,t)}(o,e);var t,n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=ye(n);if(r){var i=ye(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return Ae(this,e)});function o(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(r=i.call(this,e,t,n)).label=W(r.container,t.label),r.input=r.container.appendChild(document.createElement("input")),r.input.id="guify-checkbox-"+t.label+r.uuid,r.input.type="checkbox",r.input.checked=t.initial,r.input.classList.add("guify-checkbox"),t.label&&r.input.setAttribute("aria-label",t.label),r.container.appendChild(document.createElement("label")).htmlFor=r.input.id,setTimeout((function(){r.emit("initialized",r.input.checked)})),r.input.onchange=function(e){r.emit("input",e.target.checked)},r}return t=[{key:"SetValue",value:function(e){this.input.checked=e}},{key:"GetValue",value:function(){return this.input.checked}}],t&&ge(o.prototype,t),o}(L),ve=n(247),we={};function _e(e){return _e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_e(e)}function Ce(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ke(e,t){return ke=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ke(e,t)}function xe(e,t){if(t&&("object"===_e(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Ie(e){return Ie=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Ie(e)}we.styleTagTransform=v(),we.setAttributes=m(),we.insert=p().bind(null,"head"),we.domAPI=d(),we.insertStyleElement=y(),u()(ve.Z,we),ve.Z&&ve.Z.locals&&ve.Z.locals;var Ee=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ke(e,t)}(o,e);var t,n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Ie(n);if(r){var i=Ie(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return xe(this,e)});function o(e,t,n){var r,s,a,c,l,u,h,d;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(r=i.call(this,e,t,n)).label=W(r.container,t.label),r.input=document.createElement("select"),r.input.classList.add("guify-select-dropdown"),t.label&&r.input.setAttribute("aria-label",t.label),(a=document.createElement("span")).classList.add("guify-select-triangle","guify-select-triangle--down"),(c=document.createElement("span")).classList.add("guify-select-triangle","guify-select-triangle--up"),r.container.appendChild(a),r.container.appendChild(c),Array.isArray(t.options))for(s=0;s<t.options.length;s++)u=t.options[s],(h=document.createElement("option")).value=h.textContent=u,t.initial===u&&(h.selected="selected"),r.input.appendChild(h);else for(d=Object.keys(t.options),s=0;s<d.length;s++)l=d[s],(h=document.createElement("option")).value=l,t.initial===l&&(h.selected="selected"),h.textContent=t.options[l],r.input.appendChild(h);r.container.appendChild(r.input),r.input.onchange=function(e){r.emit("input",e.target.value)};var f=function(){a.classList.add("guify-select-triangle--down-highlight"),c.classList.add("guify-select-triangle--up-highlight")},p=function(){a.classList.remove("guify-select-triangle--down-highlight"),c.classList.remove("guify-select-triangle--up-highlight")},g=!1;return r.input.addEventListener("mouseover",f),r.input.addEventListener("focus",(function(){g=!0,f()})),r.input.addEventListener("blur",(function(){g=!1,p()})),r.input.addEventListener("mouseleave",(function(){g||p()})),r}return t=[{key:"SetValue",value:function(e){this.input.value=e}},{key:"GetValue",value:function(){return this.input.value}}],t&&Ce(o.prototype,t),o}(L),Be=n(532),Se={};function Te(e){return Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Te(e)}function De(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Re(e,t){return Re=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Re(e,t)}function Ne(e,t){if(t&&("object"===Te(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Oe(e){return Oe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Oe(e)}Se.styleTagTransform=v(),Se.setAttributes=m(),Se.insert=p().bind(null,"head"),Se.domAPI=d(),Se.insertStyleElement=y(),u()(Be.Z,Se),Be.Z&&Be.Z.locals&&Be.Z.locals;var Le=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Re(e,t)}(o,e);var t,n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Oe(n);if(r){var i=Oe(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return Ne(this,e)});function o(e,t,n){var r,s,a,c;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(r=i.call(this,e,t,n)).listenMode=t.listenMode||"input",(s=o,a=o,c=ze,function(e,t){if(e!==t)throw new TypeError("Private static access of wrong provenance")}(s,a),function(e,t){if(void 0===e)throw new TypeError("attempted to get private static field before its declaration")}(c),function(e,t){return t.get?t.get.call(e):t.value}(s,c)).includes(r.listenMode)||console.error('listenMode "'.concat(r.listenMode,'" is not supported for text component "').concat(t.label,'"! Falling back on "input".')),r.label=W(r.container,t.label),r.input=r.container.appendChild(document.createElement("input")),r.input.type="text",r.input.classList.add("guify-text-input"),t.initial&&(r.input.value=t.initial),t.label&&r.input.setAttribute("aria-label",t.label),setTimeout((function(){r.emit("initialized",r.input.value)})),r.input.addEventListener(r.listenMode,(function(e){console.log(e),r.emit("input",e.target.value)})),r.input.addEventListener("focus",(function(){r.focused=!0})),r.input.addEventListener("blur",(function(){r.focused=!1})),r}return t=[{key:"SetValue",value:function(e){!0!==this.focused&&(this.input.value=e)}},{key:"GetValue",value:function(){return this.input.value}}],t&&De(o.prototype,t),o}(L),ze={writable:!0,value:["input","change"]},Pe=n(186);function Me(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Fe(e,t,n){return t&&Me(e.prototype,t),n&&Me(e,n),e}function Ve(e){return"number"==typeof e&&!isNaN(e)}function Ue(e,t,n){return Math.min(Math.max(e,t),n)}function je(e){if(0===e.type.indexOf("touch")){var t=e.touches[0];return{x:t.clientX,y:t.clientY}}return{x:e.clientX,y:e.clientY}}function qe(e){return 1==e.length?"0"+e:""+e}var $e=function(){function e(e){this._rgba={r:0,g:0,b:0,a:1},this._hsva={h:0,s:0,v:0,a:1},this.fromHex(e)}var t=e.prototype;return t.fromHex=function(e){e||(e=0),Ve(e)?(this._hexNumber=e,this._hexString=function(e){return"#"+("00000"+(0|e).toString(16)).substr(-6).toUpperCase()}(this._hexNumber)):(this._hexString=e.toUpperCase(),this._hexNumber=He(this._hexString));var t=function(e){return{r:(e>>16&255)/255,g:(e>>8&255)/255,b:(255&e)/255}}(this._hexNumber),n=t.g,r=t.b;this._rgba.r=t.r,this._rgba.g=n,this._rgba.b=r;var i=function(e){var t,n=e.r,r=e.g,i=e.b,o=Math.max(n,r,i),s=Math.min(n,r,i),a=o-s,c=0===o?0:a/o,l=o;if(o==s)t=0;else{switch(o){case n:t=(r-i)/a+(r<i?6:0);break;case r:t=(i-n)/a+2;break;case i:t=(n-r)/a+4}t/=6}return{h:t,s:c,v:l}}(this._rgba),o=i.s,s=i.v;this._hsva.h=i.h,this._hsva.s=o,this._hsva.v=s,this._updateBrightness()},t.fromHsv=function(e){var t=e.s,n=e.v;this._hsva.h=e.h,this._hsva.s=t,this._hsva.v=n;var r=function(e){var t=e.h,n=e.s,r=e.v;t*=6;var i=Math.floor(t),o=t-i,s=r*(1-n),a=r*(1-o*n),c=r*(1-(1-o)*n),l=i%6;return{r:[r,a,s,s,c,r][l],g:[c,r,r,a,s,s][l],b:[s,s,c,r,r,a][l]}}(this._hsva),i=r.g,o=r.b;this._rgba.r=r.r,this._rgba.g=i,this._rgba.b=o,this._hexString=function(e){var t=e.g,n=e.b;return["#",qe(Math.round(255*e.r).toString(16)),qe(Math.round(255*t).toString(16)),qe(Math.round(255*n).toString(16))].join("").toUpperCase()}(this._rgba),this._hexNumber=He(this._hexString),this._updateBrightness()},t._updateBrightness=function(){var e=this._rgba;this._brightness=(299*e.r+587*e.g+114*e.b)/1e3,this._isDark=this._brightness<.5,this._isLight=!this._isDark},Fe(e,[{key:"rgb",get:function(){return this._rgba}},{key:"hsv",get:function(){return this._hsva}},{key:"hex",get:function(){return this._hexNumber}},{key:"hexString",get:function(){return this._hexString}},{key:"brightness",get:function(){return this._brightness}},{key:"isDark",get:function(){return this._isDark}},{key:"isLight",get:function(){return this._isLight}}]),e}();function He(e){return parseInt(e.replace("#",""),16)}var Ze=function(){function e(e){var t=this;void 0===e&&(e={}),this._widthUnits="px",this._heightUnits="px",this._huePosition=0,this._hueHeight=0,this._maxHue=0,this._inputIsNumber=!1,this._saturationWidth=0,this._isChoosing=!1,this._callbacks=[],this.width=0,this.height=0,this.hue=0,this.position={x:0,y:0},this.color=new $e(0),this.backgroundColor=new $e(0),this.hueColor=new $e(0),this._onSaturationMouseDown=function(e){var n=t.$saturation.getBoundingClientRect(),r=je(e),i=r.x,o=r.y;t._isChoosing=!0,t._moveSelectorTo(i-n.left,o-n.top),t._updateColorFromPosition(),t._window.addEventListener("mouseup",t._onSaturationMouseUp),t._window.addEventListener("touchend",t._onSaturationMouseUp),t._window.addEventListener("mousemove",t._onSaturationMouseMove),t._window.addEventListener("touchmove",t._onSaturationMouseMove),e.preventDefault()},this._onSaturationMouseMove=function(e){var n=t.$saturation.getBoundingClientRect(),r=je(e);t._moveSelectorTo(r.x-n.left,r.y-n.top),t._updateColorFromPosition()},this._onSaturationMouseUp=function(){t._isChoosing=!1,t._window.removeEventListener("mouseup",t._onSaturationMouseUp),t._window.removeEventListener("touchend",t._onSaturationMouseUp),t._window.removeEventListener("mousemove",t._onSaturationMouseMove),t._window.removeEventListener("touchmove",t._onSaturationMouseMove)},this._onHueMouseDown=function(e){var n=t.$hue.getBoundingClientRect(),r=je(e).y;t._isChoosing=!0,t._moveHueTo(r-n.top),t._updateHueFromPosition(),t._window.addEventListener("mouseup",t._onHueMouseUp),t._window.addEventListener("touchend",t._onHueMouseUp),t._window.addEventListener("mousemove",t._onHueMouseMove),t._window.addEventListener("touchmove",t._onHueMouseMove),e.preventDefault()},this._onHueMouseMove=function(e){var n=t.$hue.getBoundingClientRect(),r=je(e);t._moveHueTo(r.y-n.top),t._updateHueFromPosition()},this._onHueMouseUp=function(){t._isChoosing=!1,t._window.removeEventListener("mouseup",t._onHueMouseUp),t._window.removeEventListener("touchend",t._onHueMouseUp),t._window.removeEventListener("mousemove",t._onHueMouseMove),t._window.removeEventListener("touchmove",t._onHueMouseMove)},this._window=e.window||window,this._document=this._window.document,this.$el=this._document.createElement("div"),this.$el.className="Scp",this.$el.innerHTML='\n      <div class="Scp-saturation">\n        <div class="Scp-brightness"></div>\n        <div class="Scp-sbSelector"></div>\n      </div>\n      <div class="Scp-hue">\n        <div class="Scp-hSelector"></div>\n      </div>\n    ',this.$saturation=this.$el.querySelector(".Scp-saturation"),this.$hue=this.$el.querySelector(".Scp-hue"),this.$sbSelector=this.$el.querySelector(".Scp-sbSelector"),this.$hSelector=this.$el.querySelector(".Scp-hSelector"),this.$saturation.addEventListener("mousedown",this._onSaturationMouseDown),this.$saturation.addEventListener("touchstart",this._onSaturationMouseDown),this.$hue.addEventListener("mousedown",this._onHueMouseDown),this.$hue.addEventListener("touchstart",this._onHueMouseDown),e.el&&this.appendTo(e.el),e.background&&this.setBackgroundColor(e.background),e.widthUnits&&(this._widthUnits=e.widthUnits),e.heightUnits&&(this._heightUnits=e.heightUnits),this.setSize(e.width||175,e.height||150),this.setColor(e.color)}var t=e.prototype;return t.appendTo=function(e){return"string"==typeof e?document.querySelector(e).appendChild(this.$el):e.appendChild(this.$el),this},t.remove=function(){this._callbacks=[],this._onSaturationMouseUp(),this._onHueMouseUp(),this.$saturation.removeEventListener("mousedown",this._onSaturationMouseDown),this.$saturation.removeEventListener("touchstart",this._onSaturationMouseDown),this.$hue.removeEventListener("mousedown",this._onHueMouseDown),this.$hue.removeEventListener("touchstart",this._onHueMouseDown),this.$el.parentNode&&this.$el.parentNode.removeChild(this.$el)},t.setColor=function(e){this._inputIsNumber=Ve(e),this.color.fromHex(e);var t=this.color.hsv,n=t.h,r=t.s,i=t.v;return isNaN(n)||(this.hue=n),this._moveSelectorTo(this._saturationWidth*r,(1-i)*this._hueHeight),this._moveHueTo((1-this.hue)*this._hueHeight),this._updateHue(),this},t.setSize=function(e,t){return this.width=e,this.height=t,this.$el.style.width=this.width+this._widthUnits,this.$el.style.height=this.height+this._heightUnits,this._saturationWidth=this.width-25,this.$saturation.style.width=this._saturationWidth+"px",this._hueHeight=this.height,this._maxHue=this._hueHeight-2,this},t.setBackgroundColor=function(e){return this.backgroundColor.fromHex(e),this.$el.style.padding="5px",this.$el.style.background=this.backgroundColor.hexString,this},t.setNoBackground=function(){return this.$el.style.padding="0px",this.$el.style.background="none",this},t.onChange=function(e){return this._callbacks.indexOf(e)<0&&(this._callbacks.push(e),e(this.getHexString())),this},t.getColor=function(){return this._inputIsNumber?this.getHexNumber():this.getHexString()},t.getHexString=function(){return this.color.hexString.toUpperCase()},t.getHexNumber=function(){return this.color.hex},t.getRGB=function(){return this.color.rgb},t.getHSV=function(){return this.color.hsv},t.isDark=function(){return this.color.isDark},t.isLight=function(){return this.color.isLight},t._moveSelectorTo=function(e,t){this.position.x=Ue(e,0,this._saturationWidth),this.position.y=Ue(t,0,this._hueHeight),this.$sbSelector.style.transform="translate("+this.position.x+"px, "+this.position.y+"px)"},t._updateColorFromPosition=function(){this.color.fromHsv({h:this.hue,s:this.position.x/this._saturationWidth,v:1-this.position.y/this._hueHeight}),this._updateColor()},t._moveHueTo=function(e){this._huePosition=Ue(e,0,this._maxHue),this.$hSelector.style.transform="translateY("+this._huePosition+"px)"},t._updateHueFromPosition=function(){var e=this.getHSV();this.hue=1-this._huePosition/this._maxHue,this.color.fromHsv({h:this.hue,s:e.s,v:e.v}),this._updateHue()},t._updateHue=function(){this.hueColor.fromHsv({h:this.hue,s:1,v:1}),this.$saturation.style.background="linear-gradient(to right, #fff, "+this.hueColor.hexString+")",this._updateColor()},t._updateColor=function(){this.$sbSelector.style.background=this.getHexString(),this.$sbSelector.style.borderColor=this.isDark()?"#fff":"#000",this._triggerChange()},t._triggerChange=function(){var e=this;this._callbacks.forEach((function(t){return t(e.getHexString())}))},Fe(e,[{key:"isChoosing",get:function(){return this._isChoosing}}]),e}();(0,Pe.insertCss)(".Scp{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative}.Scp-saturation{position:relative;height:100%;background:linear-gradient(90deg,#fff,red);float:left;margin-right:5px}.Scp-brightness{width:100%;height:100%;background:linear-gradient(hsla(0,0%,100%,0),#000)}.Scp-sbSelector{border:2px solid #fff;position:absolute;width:14px;height:14px;background:#fff;border-radius:10px;top:-7px;left:-7px;box-sizing:border-box;z-index:10}.Scp-hue{width:20px;height:100%;position:relative;float:left;background:linear-gradient(red,#f0f 17%,#00f 34%,#0ff 50%,#0f0 67%,#ff0 84%,red)}.Scp-hSelector{position:absolute;background:#fff;border-bottom:1px solid #000;right:-3px;width:10px;height:2px}");const Ge=Ze;var Ke=n(621),We=n.n(Ke),Qe=n(442),Ye={};function Xe(e){return Xe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xe(e)}function Je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function et(e,t){return et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},et(e,t)}function tt(e,t){if(t&&("object"===Xe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function nt(e){return nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},nt(e)}Ye.styleTagTransform=v(),Ye.setAttributes=m(),Ye.insert=p().bind(null,"head"),Ye.domAPI=d(),Ye.insertStyleElement=y(),u()(Qe.Z,Ye),Qe.Z&&Qe.Z.locals&&Qe.Z.locals;var rt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&et(e,t)}(s,e);var n,r,i,o=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=nt(r);if(i){var n=nt(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return tt(this,e)});function s(e,n,r){var i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),i=o.call(this,e,n,r),n.format=n.format||"rgb",n.initial=n.initial||"#123456",i.label=W(i.container,n.label);var a=i.container.appendChild(document.createElement("span"));a.classList.add("guify-color");var c=X(i.container,"",0,"calc(100% - ".concat(r.sizing.labelWidth," - 12% - 0.5em)"));c.setAttribute("readonly","true"),a.onmouseover=function(){i.picker.$el.style.display=""};var l=n.initial;switch(n.format){case"rgb":case"hex":l=We()(l).toHexString();break;case"array":l=We().fromRatio({r:l[0],g:l[1],b:l[2]}).toHexString()}return i.picker=new Ge({el:a,color:l,background:r.colors.componentBackground,width:125,height:100}),t()(i.picker.$el,{marginTop:r.sizing.componentHeight,display:"none",position:"absolute"}),t()(a,{position:"absolute",display:"inline-block",width:"12.5%",height:r.sizing.componentHeight,backgroundColor:i.picker.getHexString()}),a.onmouseout=function(){i.picker.$el.style.display="none"},setTimeout((function(){i.emit("initialized",l)})),i.picker.onChange((function(e){c.value=i.Format(e),t()(a,{backgroundColor:e}),i.emit("input",i.Format(e))})),i}return n=[{key:"Format",value:function(e){switch(this.opts.format){case"rgb":return We()(e).toRgbString();case"hex":return We()(e).toHexString();case"array":var t=We()(e).toRgb();return[t.r/255,t.g/255,t.b/255].map((function(e){return e.toFixed(2)}));default:return e}}},{key:"SetValue",value:function(e){this.picker.isChoosing||this.picker.setColor(e)}},{key:"GetValue",value:function(){return this.Format(this.picker.getColor())}}],n&&Je(s.prototype,n),s}(L),it=n(211),ot={};function st(e){return st="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},st(e)}function at(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ct(){return ct="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=lt(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},ct.apply(this,arguments)}function lt(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=dt(e)););return e}function ut(e,t){return ut=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ut(e,t)}function ht(e,t){if(t&&("object"===st(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function dt(e){return dt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},dt(e)}ot.styleTagTransform=v(),ot.setAttributes=m(),ot.insert=p().bind(null,"head"),ot.domAPI=d(),ot.insertStyleElement=y(),u()(it.Z,ot),it.Z&&it.Z.locals&&it.Z.locals;var ft=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ut(e,t)}(o,e);var t,n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=dt(n);if(r){var i=dt(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return ht(this,e)});function o(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(r=i.call(this,e,t,n)).container.classList.add("guify-folder"),r.container.setAttribute("role","button"),r.container.setAttribute("tabIndex","0"),r.arrow=r.container.appendChild(document.createElement("div")),r.arrow.classList.add("guify-folder-arrow"),r.arrow.innerHTML="&#9662;",r.label=r.container.appendChild(document.createElement("div")),r.label.classList.add("guify-folder-text"),r.label.innerHTML=t.label,r.container.onclick=function(){r.Toggle()},r.container.addEventListener("mouseup",(function(){r.container.blur()})),r.container.addEventListener("keydown",(function(e){"Enter"!==e.code&&"Space"!==e.code||(e.preventDefault(),r.Toggle())})),r.folderContainer=e.appendChild(document.createElement("div")),r.folderContainer.classList.add("guify-folder-contents"),r.open=r.opts.open||!1,r.SetOpen(r.open),r}return(t=[{key:"SetEnabled",value:function(e){var t,n;ct(dt(o.prototype),"SetEnabled",this).call(this,e),e?null===(t=this.folderContainer)||void 0===t||t.classList.remove("disabled"):null===(n=this.folderContainer)||void 0===n||n.classList.add("disabled")}},{key:"Toggle",value:function(){this.open=!this.open,this.SetOpen(this.open)}},{key:"SetOpen",value:function(e){this.open=e,e?(this.folderContainer.classList.remove("guify-folder-closed"),this.arrow.innerHTML="&#9662;"):(this.folderContainer.classList.add("guify-folder-closed"),this.arrow.innerHTML="&#9656;")}},{key:"Remove",value:function(){this.folderContainer&&this.folderContainer.parentNode.removeChild(this.folderContainer),ct(dt(o.prototype),"Remove",this).call(this)}}])&&at(o.prototype,t),o}(L),pt=n(191),gt={};function mt(e){return mt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mt(e)}function At(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function yt(e,t){return yt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},yt(e,t)}function bt(e,t){if(t&&("object"===mt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function vt(e){return vt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},vt(e)}gt.styleTagTransform=v(),gt.setAttributes=m(),gt.insert=p().bind(null,"head"),gt.domAPI=d(),gt.insertStyleElement=y(),u()(pt.Z,gt),pt.Z&&pt.Z.locals&&pt.Z.locals;var wt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&yt(e,t)}(s,e);var n,r,i,o=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=vt(r);if(i){var n=vt(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return bt(this,e)});function s(e,n,r){var i;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(i=o.call(this,e,n,r)).opts.fileReadFunc=i.opts.fileReadFunc||"readAsDataURL",i.file=null,i.fileName=null,i.container.classList.add("guify-file-container"),i.container.setAttribute("role","button"),i.container.setAttribute("tabIndex","0"),t()(i.container,{width:"100%","box-sizing":"border-box","-moz-box-sizing":"border-box","-webkit-box-sizing":"border-box",height:"unset",padding:"8px"});var a=i.container.appendChild(document.createElement("div"));a.innerHTML=n.label,t()(a,"padding-bottom","5px"),i.input=i.container.appendChild(document.createElement("input")),i.input.setAttribute("type","file"),i.input.setAttribute("multiple",!1),i.input.style.display="none",n.label&&i.input.setAttribute("aria-label",n.label),i.fileLabel=i.container.appendChild(document.createElement("div")),i.fileLabel.innerHTML="Choose a file...";var c=function(e){var t;e.dataTransfer?t=e.dataTransfer.files:e.target&&(t=e.target.files);var n=new FileReader;n.onload=function(){i.file=n.result,i.fileLabel.innerHTML=t[0].name,i.emit("input",i.file)},n[i.opts.fileReadFunc](t[0])};return i.input.addEventListener("change",c),i.container.addEventListener("dragover",(function(e){e.preventDefault(),e.stopPropagation(),i.container.classList.add("guify-dragover")})),i.container.addEventListener("dragleave",(function(e){e.preventDefault(),e.stopPropagation(),i.container.classList.remove("guify-dragover")})),i.container.addEventListener("drop",(function(e){e.preventDefault(),e.stopPropagation(),i.container.classList.remove("guify-dragover"),c(e)})),i.container.onclick=function(){i.input.click()},i.container.addEventListener("keydown",(function(e){"Enter"!==e.code&&"Space"!==e.code||(e.preventDefault(),i.input.click())})),i.container.addEventListener("mouseup",(function(){i.container.blur()})),i}return(n=[{key:"SetValue",value:function(e){}},{key:"GetValue",value:function(){return this.file}}])&&At(s.prototype,n),s}(L),_t=n(144),Ct={};function kt(e){return kt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kt(e)}function xt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function It(e,t){return It=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},It(e,t)}function Et(e,t){if(t&&("object"===kt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Bt(e){return Bt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Bt(e)}Ct.styleTagTransform=v(),Ct.setAttributes=m(),Ct.insert=p().bind(null,"head"),Ct.domAPI=d(),Ct.insertStyleElement=y(),u()(_t.Z,Ct),_t.Z&&_t.Z.locals&&_t.Z.locals;var St=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&It(e,t)}(o,e);var t,n,r,i=(n=o,r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Bt(n);if(r){var i=Bt(this).constructor;e=Reflect.construct(t,arguments,i)}else e=t.apply(this,arguments);return Et(this,e)});function o(e,t,n){var r;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(r=i.call(this,e,t,n)).label=W(r.container,t.label),r.text=r.container.appendChild(document.createElement("div")),r.text.classList.add("guify-display"),t.initial&&r.SetValue(t.initial),t.label&&r.text.setAttribute("aria-label",t.label),r}return t=[{key:"SetValue",value:function(e){this.text.innerHTML=e.toString()}},{key:"GetValue",value:function(){return this.text.innerHTML.toString()}}],t&&xt(o.prototype,t),o}(L),Tt=n(554),Dt={};function Rt(e){return Rt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rt(e)}function Nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ot(e,t){return Ot=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Ot(e,t)}function Lt(e,t){if(t&&("object"===Rt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function zt(e){return zt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},zt(e)}function Pt(e,t,n){return Math.min(Math.max(e,t),n)}Dt.styleTagTransform=v(),Dt.setAttributes=m(),Dt.insert=p().bind(null,"head"),Dt.domAPI=d(),Dt.insertStyleElement=y(),u()(Tt.Z,Dt),Tt.Z&&Tt.Z.locals&&Tt.Z.locals;var Mt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ot(e,t)}(s,e);var n,r,i,o=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=zt(r);if(i){var n=zt(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Lt(this,e)});function s(e,t,n){var r;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(r=o.call(this,e,t,n)).label=W(r.container,t.label),t.step&&t.steps)throw new Error("Cannot specify both step and steps. Got step = "+t.step+", steps = ",t.steps);if(r.input=r.container.appendChild(document.createElement("span")),r.input.classList.add("guify-interval"),r.handle=document.createElement("span"),r.handle.classList.add("guify-interval-handle"),r.input.appendChild(r.handle),Array.isArray(t.initial)||(t.initial=[]),r.scale=t.scale,"log"===t.scale){if(t.min*t.max<=0)throw new Error("Log range min/max must have the same sign and not equal zero. Got min = "+t.min+", max = "+t.max);$()(t.step)&&console.warn("Step is unused for log scale sliders."),$()(t.steps)&&console.warn('"steps" option for log scale sliders has been removed.'),r.minPos=0,r.maxPos=1e6,r.min=Math.log($()(t.min)?t.min:1e-6),r.max=Math.log($()(t.max)?t.max:100),r.precision=$()(t.precision)?t.precision:3,r.logScale=(r.max-r.min)/(r.maxPos-r.minPos),r.initial=[$()(t.initial[0])?t.initial[0]:r.min,$()(t.initial[1])?t.initial[1]:r.max]}else r.minPos=$()(t.min)?t.min:0,r.maxPos=$()(t.max)?t.max:100,r.min=r.minPos,r.max=r.maxPos,r.precision=$()(t.precision)?t.precision:3,r.step=$()(t.step)?t.step:10/Math.pow(10,3),r.initial=[$()(t.initial[0])?t.initial[0]:r.min,$()(t.initial[1])?t.initial[1]:r.max],0!=r.step&&(r.initial=r.initial.map((function(e){return r.min+r.step*Math.round((e-r.min)/r.step)})));r.value=t.initial,r._RefreshHandles(),r.lValue=X(r.container,r.value[0],0,"11%",!0),r.rValue=X(r.container,r.value[1],0,"11%",!1),t.label&&r.lValue.setAttribute("aria-label",t.label+" lower value"),t.label&&r.lValue.setAttribute("aria-label",t.label+" upper value"),r.activeIndex=-1,setTimeout((function(){r.emit("initialized",r.value)}));var i=function(e){return e.pageX-r.input.getBoundingClientRect().left},a=function(e){var t=Pt(i(e)/r.input.offsetWidth,0,1);r._SetFromMousePosition(t)},c=function e(t){var n=Pt(i(t)/r.input.offsetWidth,0,1);r._SetFromMousePosition(n),document.removeEventListener("mousemove",a),document.removeEventListener("mouseup",e),r.activeIndex=-1};return r.input.addEventListener("mousedown",(function(e){var t=Pt(i(e)/r.input.offsetWidth,0,1),n=r._Position(r.value[0]),o=r._Position(r.value[1]),s=(n-r.minPos)/(r.maxPos-r.minPos),l=(o-r.minPos)/(r.maxPos-r.minPos);s-=1e-15*Math.abs(r.maxPos-r.minPos),l+=1e-15*Math.abs(r.maxPos-r.minPos);var u=Math.abs(s-t),h=Math.abs(l-t);r.activeIndex=u<h?0:1,console.log(r.activeIndex),document.addEventListener("mousemove",a),document.addEventListener("mouseup",c)})),r.input.addEventListener("mouseup",(function(){r.input.blur()})),r.input.oninput=function(){r.lValue.value=r.value[0],r.rValue.value=r.value[1],r.emit("input",r.value)},r.lValue.onchange=function(){var e=r.lValue.value,t=parseFloat(r.rValue.value);if(Number(parseFloat(e))==e){var n="log"==r.scale?Math.exp(r.min):r.min,i="log"==r.scale?Math.exp(r.max):r.max,o=parseFloat(e);o=Math.min(Math.max(o,n),i),r.step&&(o=Math.ceil((o-n)/r.step)*r.step+n),o=Math.min(o,t),o=r._RoundNumber(o,r.precision),r.lValue.value=o,r.value=[o,t],r.emit("input",[o,t]),r._RefreshHandles([o,t])}else r.lValue.value=r.lastValue[0]},r.rValue.onchange=function(){var e=r.rValue.value,t=parseFloat(r.lValue.value);if(Number(parseFloat(e))==e){var n="log"==r.scale?Math.exp(r.min):r.min,i="log"==r.scale?Math.exp(r.max):r.max,o=parseFloat(e);o=Math.min(Math.max(o,n),i),r.step&&(o=Math.ceil((o-n)/r.step)*r.step+n),o=Math.max(o,t),o=r._RoundNumber(o,r.precision),r.rValue.value=o,r.value=[t,o],r.emit("input",[t,o]),r._RefreshHandles()}else r.rValue.value=r.lastValue[1]},r}return n=[{key:"_Value",value:function(e){if("log"===this.scale){var t=(e-this.minPos)*this.logScale+this.min;return Math.exp(t)}return e}},{key:"_Position",value:function(e){return"log"===this.scale?this.minPos+(Math.log(e)-this.min)/this.logScale:e}},{key:"_SetFromMousePosition",value:function(e){if(-1!==this.activeIndex){if(0===this.activeIndex){var t=(this._Position(this.value[1])-this.minPos)/(this.maxPos-this.minPos);e=Math.min(t,e)}else{var n=(this._Position(this.value[0])-this.minPos)/(this.maxPos-this.minPos);e=Math.max(n,e)}var r,i=(1-(r=e))*this.minPos+r*this.maxPos,o=this._Value(i);this.step&&(o=this.min+this.step*Math.round((o-this.min)/this.step)),this.value[this.activeIndex]=this._RoundNumber(o,this.precision),this._RefreshHandles(),this.input.oninput()}}},{key:"SetValue",value:function(e){!0!==this.focused&&(this.lValue.value=this._RoundNumber(parseFloat(e[0]),this.precision),this.rValue.value=this._RoundNumber(parseFloat(e[1]),this.precision),this.lastValue=[parseFloat(e[0]),parseFloat(e[1])])}},{key:"_RoundNumber",value:function(e,t){return+parseFloat(e).toFixed(t)}},{key:"GetValue",value:function(){return[this.lValue.value,this.rValue.value]}},{key:"_RefreshHandles",value:function(){var e=(this._Position(this.value[0])-this.minPos)/(this.maxPos-this.minPos)*100,n=100-(this._Position(this.value[1])-this.minPos)/(this.maxPos-this.minPos)*100;t()(this.handle,{left:"".concat(e,"%"),right:"".concat(n,"%")})}}],n&&Nt(s.prototype,n),s}(L);function Ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var Vt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.theme=t,this.components={title:j,range:ie,button:he,checkbox:be,select:Ee,text:Le,color:rt,folder:ft,file:wt,display:St,interval:Mt}}var t;return(t=[{key:"Create",value:function(e,t){var n=this.components[t.type];if(void 0===n)throw new Error("No component type named '".concat(t.type,"' exists."));return new n(e,t,this.theme)}}])&&Ft(e.prototype,t),e}(),Ut=n(577),jt=n.n(Ut),qt=n(287),$t={};function Ht(e){return Ht="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ht(e)}function Zt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Gt(e,t){return Gt=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},Gt(e,t)}function Kt(e,t){if(t&&("object"===Ht(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Wt(e){return Wt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Wt(e)}$t.styleTagTransform=v(),$t.setAttributes=m(),$t.insert=p().bind(null,"head"),$t.domAPI=d(),$t.insertStyleElement=y(),u()(qt.Z,$t),qt.Z&&qt.Z.locals&&qt.Z.locals;var Qt=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Gt(e,t)}(s,e);var n,r,i,o=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=Wt(r);if(i){var n=Wt(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return Kt(this,e)});function s(e,n,r){var i;if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(i=o.call(this,e,n,r,!1)).element=document.createElement("div"),i.element.classList.add("guify-bar"),e.appendChild(i.element),n.title){var a=i.element.appendChild(document.createElement("div"));a.classList.add("guify-bar-title"),a.innerHTML=n.title,i.label=a}var c=i.element.appendChild(document.createElement("button"));if(c.classList.add("guify-bar-button"),c.innerHTML="Controls",t()(c,{left:"left"==n.align?"0":"unset",right:"left"==n.align?"unset":"0"}),c.onclick=function(){i.emit("ontogglepanel")},jt().isEnabled){var l=i.element.appendChild(document.createElement("button"));l.classList.add("guify-bar-button"),l.innerHTML="",l.setAttribute("aria-label","Toggle Fullscreen"),t()(l,{left:"left"==n.align?"unset":"0",right:"left"==n.align?"0":"unset"}),l.onclick=function(){i.emit("onfullscreenrequested")}}return i}return(n=[{key:"SetVisible",value:function(e){this.element.style.display=e?"block":"none"}}])&&Zt(s.prototype,n),s}(L),Yt=n(153),Xt={};function Jt(e){return Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jt(e)}function en(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function tn(e,t){return tn=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},tn(e,t)}function nn(e,t){if(t&&("object"===Jt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function rn(e){return rn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},rn(e)}Xt.styleTagTransform=v(),Xt.setAttributes=m(),Xt.insert=p().bind(null,"head"),Xt.domAPI=d(),Xt.insertStyleElement=y(),u()(Yt.Z,Xt),Yt.Z&&Yt.Z.locals&&Yt.Z.locals;var on=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&tn(e,t)}(s,e);var n,r,i,o=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=rn(r);if(i){var n=rn(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return nn(this,e)});function s(e,n,r){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(i=o.call(this,e,n,r,!1)).container=e.appendChild(document.createElement("div")),i.container.classList.add("guify-panel-container"),t()(i.container,{width:n.width,opacity:n.opacity||1}),"left"==n.align?"outer"==n.panelMode?i.container.classList.add("guify-panel-container-left-outer"):"inner"==n.panelMode&&i.container.classList.add("guify-panel-container-left-inner"):"outer"==n.panelMode?i.container.classList.add("guify-panel-container-right-outer"):"inner"==n.panelMode&&i.container.classList.add("guify-panel-container-right-inner"),"scroll"==n.panelOverflowBehavior&&i.container.classList.add("guify-panel-container-scrollable"),"none"===n.barMode&&t()(i.container,{maxHeight:"100%"}),i.panel=i.container.appendChild(document.createElement("div")),i.panel.classList.add("guify-panel"),"none"===n.barMode&&n.title&&function(e,n,r){var i=e.appendChild(document.createElement("div"));i.innerHTML=n,t()(i,{width:"100%",textAlign:"center",color:r.colors.textSecondary,height:"20px",marginBottom:"4px"})}(i.panel,n.title,r),i}return(n=[{key:"SetVisible",value:function(e){e?(this.panel.classList.remove("guify-panel-hidden"),this.menuButton&&this.menuButton.setAttribute("alt","Close GUI")):(this.panel.classList.add("guify-panel-hidden"),this.menuButton&&this.menuButton.setAttribute("alt","Open GUI"))}},{key:"ToggleVisible",value:function(){this.panel.classList.contains("guify-panel-hidden")?this.SetVisible(!0):this.SetVisible(!1)}},{key:"_MakeToggleButton",value:function(){var e=this;this.menuButton=this.container.appendChild(document.createElement("button")),this.menuButton.className="guify-panel-toggle-button",t()(this.menuButton,{left:"left"==this.opts.align?"0px":"unset",right:"left"==this.opts.align?"unset":"0px"}),this.menuButton.onclick=function(){e.ToggleVisible()},this.menuButton.addEventListener("mouseup",(function(){e.menuButton.blur()})),this.menuButton.innerHTML='\n        <svg width="100%" height="100%" xmlns="http://www.w3.org/2000/svg">\n            <rect x="10%" y="10%" width="80%" height="80%"/>\n        </svg>\n        '}}])&&en(s.prototype,n),s}(L),sn=n(56),an={};function cn(e){return cn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cn(e)}function ln(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function un(e,t){return un=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},un(e,t)}function hn(e,t){if(t&&("object"===cn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function dn(e){return dn=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},dn(e)}an.styleTagTransform=v(),an.setAttributes=m(),an.insert=p().bind(null,"head"),an.domAPI=d(),an.insertStyleElement=y(),u()(sn.Z,an),sn.Z&&sn.Z.locals&&sn.Z.locals;var fn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&un(e,t)}(s,e);var n,r,i,o=(r=s,i=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}(),function(){var e,t=dn(r);if(i){var n=dn(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return hn(this,e)});function s(e,n,r){var i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,s),(i=o.call(this,e,n,r,!1)).element=e.appendChild(document.createElement("div")),i.element.classList.add("guify-toast-area"),t()(i.element,{position:"absolute",width:"100%"}),i}return n=[{key:"CreateToast",value:function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;console.log("[Toast] "+e);var i=this.element.appendChild(document.createElement("div"));i.classList.add("guify-toast-notification"),i.setAttribute("aria-live","polite"),i.innerHTML=e,t()(i,{});var o,s=i.appendChild(document.createElement("button"));s.innerHTML="&#10006;",s.classList.add("guify-toast-close-button");var a=function(){i.blur(),t()(i,{opacity:"0"}),clearTimeout(o),o=setTimeout((function(){i&&i.parentNode.removeChild(i)}),r)};o=setTimeout(a,n),s.onclick=a}}],n&&ln(s.prototype,n),s}(L);function pn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var gn=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.opts=t,this.hasRoot=void 0!==t.root,t.width=t.width||300,t.root=t.root||document.body,t.align=t.align||"left",t.opacity=t.opacity||1,t.barMode=t.barMode||"offset",t.panelMode=t.panelMode||"inner",t.panelOverflowBehavior=t.panelOverflowBehavior||"scroll",t.pollRateMS=t.pollRateMS||100,t.open=t.open||!1;var r=t.theme||"dark";this.theme=new a(r),this.theme.Apply(),this._ConstructElements(),this._LoadStyles(),jt().isEnabled&&jt().on("change",(function(){n.opts.root.classList.toggle("guify-fullscreen",jt().isFullscreen)})),this.componentManager=new Vt(this.theme),this.loadedComponents=[],this._UpdateComponents()}var n;return n=[{key:"_LoadStyles",value:function(){var e=function(e){var t=document.createElement("style");t.setAttribute("type","text/css"),t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),document.getElementsByTagName("head")[0].appendChild(t)};this.theme.font&&this.theme.font.fontURL?e(this.theme.font.fontURL):e("//cdn.jsdelivr.net/font-hack/2.019/css/hack.min.css")}},{key:"_ConstructElements",value:function(){var e=this;if(this.container=document.createElement("div"),this.container.classList.add("guify-container"),this.hasRoot&&"above"==this.opts.barMode)this.container.classList.add("guify-container-above");else if(this.hasRoot&&"overlay"==this.opts.barMode)this.container.classList.add("guify-container-overlay");else if(this.hasRoot&&"offset"==this.opts.barMode){this.container.classList.add("guify-container-above"),console.log(window.getComputedStyle(this.opts.root).getPropertyValue("margin-top"));var n=window.getComputedStyle(this.opts.root).getPropertyValue("margin-top")||"0px";t()(this.opts.root,{marginTop:"calc(".concat(n," + var(--size-menu-bar-height))")})}this.opts.root.insertBefore(this.container,this.opts.root.childNodes[0]),"none"!==this.opts.barMode&&(this.bar=new Qt(this.container,this.opts,this.theme),this.bar.addListener("ontogglepanel",(function(){e.panel.ToggleVisible()})),this.bar.addListener("onfullscreenrequested",(function(){e.ToggleFullscreen()}))),this.panel=new on(this.container,this.opts,this.theme),"none"===this.opts.barMode||!0===this.opts.open?this.panel.SetVisible(!0):this.panel.SetVisible(!1),this.toaster=new fn(this.container,this.opts,this.theme)}},{key:"_UpdateComponents",value:function(){var e=this;this.loadedComponents.forEach((function(e){e.binding&&e.binding.object[e.binding.property]!=e.oldValue&&(e.SetValue(e.binding.object[e.binding.property]),e.oldValue=e.binding.object[e.binding.property])})),setTimeout((function(){window.requestAnimationFrame((function(){e._UpdateComponents()}))}),this.opts.pollRateMS)}},{key:"Register",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!Array.isArray(e)){var r=Object.assign(e,n);return this._Register(r)}e.forEach((function(e){var r=Object.assign(e,n);t._Register(r)}))}},{key:"Remove",value:function(e){e.Remove(),this.loadedComponents=this.loadedComponents.filter((function(t){return t!==e}))}},{key:"_Register",value:function(e){if(e.object&&e.property&&void 0===e.object[e.property])throw new Error("Object ".concat(e.object," has no property '").concat(e.property,"'"));e.object&&e.property&&(e.initial=e.object[e.property]);var t=this.panel.panel;if(e.folder){var n=this.loadedComponents.find((function(t){return t===e.folder||"folder"===t.opts.type&&t.opts.label===e.folder}));if(!n)throw new Error("No folder exists with the name ".concat(e.folder));t=n.folderContainer}var r=this.componentManager.Create(t,e);return e.object&&e.property&&(r.binding={object:e.object,property:e.property}),r.on&&(r.on("initialized",(function(t){e.onInitialize&&e.onInitialize(t)})),r.on("input",(function(t){e.object&&e.property&&(e.object[e.property]=t),e.onChange&&e.onChange(t)}))),this.loadedComponents.push(r),r}},{key:"Toast",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.toaster.CreateToast(e,t,n)}},{key:"ToggleFullscreen",value:function(){jt().isFullscreen?jt().exit():(console.log("Request fullscreen"),jt().request(this.opts.root))}},{key:"_SetAllEnabled",value:function(e){this.loadedComponents.forEach((function(t){t.SetEnabled(e)}))}}],n&&pn(e.prototype,n),e}(),mn=gn})(),r})()},828:(e,t,n)=>{"use strict";n.d(t,{EK:()=>L,ET:()=>ka,hJ:()=>ps,JU:()=>gs,QT:()=>ba,PL:()=>wa,ad:()=>ys,b9:()=>ia,Xo:()=>na,IO:()=>Xs,pl:()=>_a,TQ:()=>sa,r7:()=>Ca});var r=n(389),i=n(463),o=n(333),s=n(444),a=n(640);const c="@firebase/firestore";class l{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}l.UNAUTHENTICATED=new l(null),l.GOOGLE_CREDENTIALS=new l("google-credentials-uid"),l.FIRST_PARTY=new l("first-party-uid"),l.MOCK_USER=new l("mock-user");let u="10.1.0";const h=new o.Yd("@firebase/firestore");function d(){return h.logLevel}function f(e,...t){if(h.logLevel<=o.in.DEBUG){const n=t.map(m);h.debug(`Firestore (${u}): ${e}`,...n)}}function p(e,...t){if(h.logLevel<=o.in.ERROR){const n=t.map(m);h.error(`Firestore (${u}): ${e}`,...n)}}function g(e,...t){if(h.logLevel<=o.in.WARN){const n=t.map(m);h.warn(`Firestore (${u}): ${e}`,...n)}}function m(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function A(e="Unexpected state"){const t=`FIRESTORE (${u}) INTERNAL ASSERTION FAILED: `+e;throw p(t),new Error(t)}function y(e,t){e||A()}function b(e,t){return e}const v={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class w extends s.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class _{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class C{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class k{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(l.UNAUTHENTICATED)))}shutdown(){}}class x{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class I{constructor(e){this.t=e,this.currentUser=l.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new _;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new _,e.enqueueRetryable((()=>r(this.currentUser)))};const o=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},s=e=>{f("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit((e=>s(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?s(e):(f("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new _)}}),0),o()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(f("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(y("string"==typeof t.accessToken),new C(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return y(null===e||"string"==typeof e),new l(e)}}class E{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=l.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class B{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new E(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(l.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class S{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class T{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){const n=e=>{null!=e.error&&f("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.R;return this.R=e.token,f("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{f("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):f("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(y("string"==typeof e.token),this.R=e.token,new S(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function D(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}class R{static V(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=D(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function N(e,t){return e<t?-1:e>t?1:0}function O(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class L{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new w(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new w(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new w(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new w(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return L.fromMillis(Date.now())}static fromDate(e){return L.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new L(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?N(this.nanoseconds,e.nanoseconds):N(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class z{constructor(e){this.timestamp=e}static fromTimestamp(e){return new z(e)}static min(){return new z(new L(0,0))}static max(){return new z(new L(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class P{constructor(e,t,n){void 0===t?t=0:t>e.length&&A(),void 0===n?n=e.length-t:n>e.length-t&&A(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===P.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof P?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class M extends P{construct(e,t,n){return new M(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new w(v.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new M(t)}static emptyPath(){return new M([])}}const F=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class V extends P{construct(e,t,n){return new V(e,t,n)}static isValidIdentifier(e){return F.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),V.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new V(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new w(v.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new w(v.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new w(v.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new w(v.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new V(t)}static emptyPath(){return new V([])}}class U{constructor(e){this.path=e}static fromPath(e){return new U(M.fromString(e))}static fromName(e){return new U(M.fromString(e).popFirst(5))}static empty(){return new U(M.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===M.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return M.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new U(new M(e.slice()))}}class j{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}j.UNKNOWN_ID=-1;function q(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=z.fromTimestamp(1e9===r?new L(n+1,0):new L(n,r));return new H(i,U.empty(),t)}function $(e){return new H(e.readTime,e.key,-1)}class H{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new H(z.min(),U.empty(),-1)}static max(){return new H(z.max(),U.empty(),-1)}}function Z(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=U.comparator(e.documentKey,t.documentKey),0!==n?n:N(e.largestBatchId,t.largestBatchId))}const G="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class K{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function W(e){if(e.code!==v.FAILED_PRECONDITION||e.message!==G)throw e;f("LocalStore","Unexpectedly lost primary lease")}class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&A(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Q(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof Q?t:Q.resolve(t)}catch(e){return Q.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):Q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):Q.reject(t)}static resolve(e){return new Q(((t,n)=>{t(e)}))}static reject(e){return new Q(((t,n)=>{n(e)}))}static waitFor(e){return new Q(((t,n)=>{let r=0,i=0,o=!1;e.forEach((e=>{++r,e.next((()=>{++i,o&&i===r&&t()}),(e=>n(e)))})),o=!0,i===r&&t()}))}static or(e){let t=Q.resolve(!1);for(const n of e)t=t.next((e=>e?Q.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new Q(((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const c=a;t(e[c]).next((e=>{o[c]=e,++s,s===i&&n(o)}),(e=>r(e)))}}))}static doWhile(e,t){return new Q(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function Y(e){return"IndexedDbTransactionError"===e.name}class X{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.oe(e),this._e=e=>t.writeSequenceNumber(e))}oe(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this._e&&this._e(e),e}}function J(e){return null==e}function ee(e){return 0===e&&1/e==-1/0}function te(e){return"number"==typeof e&&Number.isInteger(e)&&!ee(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}X.ae=-1;const ne=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],re=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],ie=re;function oe(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function se(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ae(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ce{constructor(e,t){this.comparator=e,this.root=t||ue.EMPTY}insert(e,t){return new ce(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ue.BLACK,null,null))}remove(e){return new ce(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ue.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new le(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new le(this.root,e,this.comparator,!1)}getReverseIterator(){return new le(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new le(this.root,e,this.comparator,!0)}}class le{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ue{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:ue.RED,this.left=null!=r?r:ue.EMPTY,this.right=null!=i?i:ue.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new ue(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ue.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return ue.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ue.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ue.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw A();if(this.right.isRed())throw A();const e=this.left.check();if(e!==this.right.check())throw A();return e+(this.isRed()?0:1)}}ue.EMPTY=null,ue.RED=!0,ue.BLACK=!1,ue.EMPTY=new class{constructor(){this.size=0}get key(){throw A()}get value(){throw A()}get color(){throw A()}get left(){throw A()}get right(){throw A()}copy(e,t,n,r,i){return this}insert(e,t,n){return new ue(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class he{constructor(e){this.comparator=e,this.data=new ce(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new de(this.data.getIterator())}getIteratorFrom(e){return new de(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof he))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new he(this.comparator);return t.data=e,t}}class de{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class fe{constructor(e){this.fields=e,e.sort(V.comparator)}static empty(){return new fe([])}unionWith(e){let t=new he(V.comparator);for(const e of this.fields)t=t.add(e);for(const n of e)t=t.add(n);return new fe(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return O(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class pe extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ge{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new pe("Invalid base64 string: "+e):e}}(e);return new ge(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new ge(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return N(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ge.EMPTY_BYTE_STRING=new ge("");const me=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ae(e){if(y(!!e),"string"==typeof e){let t=0;const n=me.exec(e);if(y(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ye(e.seconds),nanos:ye(e.nanos)}}function ye(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function be(e){return"string"==typeof e?ge.fromBase64String(e):ge.fromUint8Array(e)}function ve(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function we(e){const t=e.mapValue.fields.__previous_value__;return ve(t)?we(t):t}function _e(e){const t=Ae(e.mapValue.fields.__local_write_time__.timestampValue);return new L(t.seconds,t.nanos)}class Ce{constructor(e,t,n,r,i,o,s,a,c){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=a,this.useFetchStreams=c}}class ke{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ke("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ke&&e.projectId===this.projectId&&e.database===this.database}}const xe={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ie(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?ve(e)?4:Ve(e)?9007199254740991:10:A()}function Ee(e,t){if(e===t)return!0;const n=Ie(e);if(n!==Ie(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return _e(e).isEqual(_e(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Ae(e.timestampValue),r=Ae(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return be(e.bytesValue).isEqual(be(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ye(e.geoPointValue.latitude)===ye(t.geoPointValue.latitude)&&ye(e.geoPointValue.longitude)===ye(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ye(e.integerValue)===ye(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=ye(e.doubleValue),r=ye(t.doubleValue);return n===r?ee(n)===ee(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return O(e.arrayValue.values||[],t.arrayValue.values||[],Ee);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(oe(n)!==oe(r))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!Ee(n[e],r[e])))return!1;return!0}(e,t);default:return A()}}function Be(e,t){return void 0!==(e.values||[]).find((e=>Ee(e,t)))}function Se(e,t){if(e===t)return 0;const n=Ie(e),r=Ie(t);if(n!==r)return N(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return N(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=ye(e.integerValue||e.doubleValue),r=ye(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Te(e.timestampValue,t.timestampValue);case 4:return Te(_e(e),_e(t));case 5:return N(e.stringValue,t.stringValue);case 6:return function(e,t){const n=be(e),r=be(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){const t=N(n[e],r[e]);if(0!==t)return t}return N(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=N(ye(e.latitude),ye(t.latitude));return 0!==n?n:N(ye(e.longitude),ye(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){const t=Se(n[e],r[e]);if(t)return t}return N(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===xe.mapValue&&t===xe.mapValue)return 0;if(e===xe.mapValue)return 1;if(t===xe.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let e=0;e<r.length&&e<o.length;++e){const t=N(r[e],o[e]);if(0!==t)return t;const s=Se(n[r[e]],i[o[e]]);if(0!==s)return s}return N(r.length,o.length)}(e.mapValue,t.mapValue);default:throw A()}}function Te(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return N(e,t);const n=Ae(e),r=Ae(t),i=N(n.seconds,r.seconds);return 0!==i?i:N(n.nanos,r.nanos)}function De(e){return Re(e)}function Re(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Ae(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return be(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return U.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return`geo(${e.latitude},${e.longitude})`}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Re(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Re(e.fields[i])}`;return n+"}"}(e.mapValue):A()}function Ne(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Oe(e){return!!e&&"integerValue"in e}function Le(e){return!!e&&"arrayValue"in e}function ze(e){return!!e&&"nullValue"in e}function Pe(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function Me(e){return!!e&&"mapValue"in e}function Fe(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return se(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=Fe(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=Fe(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Ve(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ue{constructor(e){this.value=e}static empty(){return new Ue({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!Me(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fe(t)}setAll(e){let t=V.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=Fe(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());Me(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ee(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];Me(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){se(t,((t,n)=>e[t]=n));for(const t of n)delete e[t]}clone(){return new Ue(Fe(this.value))}}function je(e){const t=[];return se(e.fields,((e,n)=>{const r=new V([e]);if(Me(n)){const e=je(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new fe(t)}class qe{constructor(e,t,n,r,i,o,s){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=s}static newInvalidDocument(e){return new qe(e,0,z.min(),z.min(),z.min(),Ue.empty(),0)}static newFoundDocument(e,t,n,r){return new qe(e,1,t,z.min(),n,r,0)}static newNoDocument(e,t){return new qe(e,2,t,z.min(),z.min(),Ue.empty(),0)}static newUnknownDocument(e,t){return new qe(e,3,t,z.min(),z.min(),Ue.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(z.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ue.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ue.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=z.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof qe&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new qe(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class $e{constructor(e,t){this.position=e,this.inclusive=t}}function He(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?U.comparator(U.fromName(s.referenceValue),n.key):Se(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function Ze(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Ee(e.position[n],t.position[n]))return!1;return!0}class Ge{constructor(e,t="asc"){this.field=e,this.dir=t}}function Ke(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class We{}class Qe extends We{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new it(e,t,n):"array-contains"===t?new ct(e,n):"in"===t?new lt(e,n):"not-in"===t?new ut(e,n):"array-contains-any"===t?new ht(e,n):new Qe(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new ot(e,n):new st(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Se(t,this.value)):null!==t&&Ie(this.value)===Ie(t)&&this.matchesComparison(Se(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return A()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ye extends We{constructor(e,t){super(),this.filters=e,this.op=t,this.ce=null}static create(e,t){return new Ye(e,t)}matches(e){return Xe(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ce||(this.ce=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.le((e=>e.isInequality()));return null!==e?e.field:null}le(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Xe(e){return"and"===e.op}function Je(e){return et(e)&&Xe(e)}function et(e){for(const t of e.filters)if(t instanceof Ye)return!1;return!0}function tt(e){if(e instanceof Qe)return e.field.canonicalString()+e.op.toString()+De(e.value);if(Je(e))return e.filters.map((e=>tt(e))).join(",");{const t=e.filters.map((e=>tt(e))).join(",");return`${e.op}(${t})`}}function nt(e,t){return e instanceof Qe?function(e,t){return t instanceof Qe&&e.op===t.op&&e.field.isEqual(t.field)&&Ee(e.value,t.value)}(e,t):e instanceof Ye?function(e,t){return t instanceof Ye&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&nt(n,t.filters[r])),!0)}(e,t):void A()}function rt(e){return e instanceof Qe?function(e){return`${e.field.canonicalString()} ${e.op} ${De(e.value)}`}(e):e instanceof Ye?function(e){return e.op.toString()+" {"+e.getFilters().map(rt).join(" ,")+"}"}(e):"Filter"}class it extends Qe{constructor(e,t,n){super(e,t,n),this.key=U.fromName(n.referenceValue)}matches(e){const t=U.comparator(e.key,this.key);return this.matchesComparison(t)}}class ot extends Qe{constructor(e,t){super(e,"in",t),this.keys=at("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class st extends Qe{constructor(e,t){super(e,"not-in",t),this.keys=at("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function at(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>U.fromName(e.referenceValue)))}class ct extends Qe{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Le(t)&&Be(t.arrayValue,this.value)}}class lt extends Qe{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Be(this.value.arrayValue,t)}}class ut extends Qe{constructor(e,t){super(e,"not-in",t)}matches(e){if(Be(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Be(this.value.arrayValue,t)}}class ht extends Qe{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Le(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Be(this.value.arrayValue,e)))}}class dt{constructor(e,t=null,n=[],r=[],i=null,o=null,s=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.he=null}}function ft(e,t=null,n=[],r=[],i=null,o=null,s=null){return new dt(e,t,n,r,i,o,s)}function pt(e){const t=b(e);if(null===t.he){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>tt(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),J(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>De(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>De(e))).join(",")),t.he=e}return t.he}function gt(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Ke(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!nt(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Ze(e.startAt,t.startAt)&&Ze(e.endAt,t.endAt)}function mt(e){return U.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class At{constructor(e,t=null,n=[],r=[],i=null,o="F",s=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.Pe=null,this.Ie=null,this.startAt,this.endAt}}function yt(e,t,n,r,i,o,s,a){return new At(e,t,n,r,i,o,s,a)}function bt(e){return new At(e)}function vt(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function wt(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function _t(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function Ct(e){return null!==e.collectionGroup}function kt(e){const t=b(e);if(null===t.Pe){t.Pe=[];const e=_t(t),n=wt(t);if(null!==e&&null===n)e.isKeyField()||t.Pe.push(new Ge(e)),t.Pe.push(new Ge(V.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.Pe.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.Pe.push(new Ge(V.keyField(),e))}}}return t.Pe}function xt(e){const t=b(e);if(!t.Ie)if("F"===t.limitType)t.Ie=ft(t.path,t.collectionGroup,kt(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const n of kt(t)){const t="desc"===n.dir?"asc":"desc";e.push(new Ge(n.field,t))}const n=t.endAt?new $e(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new $e(t.startAt.position,t.startAt.inclusive):null;t.Ie=ft(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.Ie}function It(e,t){t.getFirstInequalityField(),_t(e);const n=e.filters.concat([t]);return new At(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Et(e,t,n){return new At(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Bt(e,t){return gt(xt(e),xt(t))&&e.limitType===t.limitType}function St(e){return`${pt(xt(e))}|lt:${e.limitType}`}function Tt(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>rt(e))).join(", ")}]`),J(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e))).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>De(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>De(e))).join(",")),`Target(${t})`}(xt(e))}; limitType=${e.limitType})`}function Dt(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):U.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of kt(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=He(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,kt(e),t))&&!(e.endAt&&!function(e,t,n){const r=He(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,kt(e),t))}(e,t)}function Rt(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Nt(e){return(t,n)=>{let r=!1;for(const i of kt(e)){const e=Ot(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Ot(e,t,n){const r=e.field.isKeyField()?U.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Se(r,i):A()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return A()}}class Lt{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[t,r]of n)if(this.equalsFn(t,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){se(this.inner,((t,n)=>{for(const[t,r]of n)e(t,r)}))}isEmpty(){return ae(this.inner)}size(){return this.innerSize}}const zt=new ce(U.comparator);function Pt(){return zt}const Mt=new ce(U.comparator);function Ft(...e){let t=Mt;for(const n of e)t=t.insert(n.key,n);return t}function Vt(e){let t=Mt;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Ut(){return qt()}function jt(){return qt()}function qt(){return new Lt((e=>e.toString()),((e,t)=>e.isEqual(t)))}const $t=new ce(U.comparator),Ht=new he(U.comparator);function Zt(...e){let t=Ht;for(const n of e)t=t.add(n);return t}const Gt=new he(N);function Kt(){return Gt}function Wt(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ee(t)?"-0":t}}function Qt(e){return{integerValue:""+e}}function Yt(e,t){return te(t)?Qt(t):Wt(e,t)}class Xt{constructor(){this._=void 0}}function Jt(e,t,n){return e instanceof nn?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&ve(t)&&(t=we(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof rn?on(e,t):e instanceof sn?an(e,t):function(e,t){const n=tn(e,t),r=ln(n)+ln(e.Te);return Oe(n)&&Oe(e.Te)?Qt(r):Wt(e.serializer,r)}(e,t)}function en(e,t,n){return e instanceof rn?on(e,t):e instanceof sn?an(e,t):n}function tn(e,t){return e instanceof cn?function(e){return Oe(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class nn extends Xt{}class rn extends Xt{constructor(e){super(),this.elements=e}}function on(e,t){const n=un(t);for(const t of e.elements)n.some((e=>Ee(e,t)))||n.push(t);return{arrayValue:{values:n}}}class sn extends Xt{constructor(e){super(),this.elements=e}}function an(e,t){let n=un(t);for(const t of e.elements)n=n.filter((e=>!Ee(e,t)));return{arrayValue:{values:n}}}class cn extends Xt{constructor(e,t){super(),this.serializer=e,this.Te=t}}function ln(e){return ye(e.integerValue||e.doubleValue)}function un(e){return Le(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class hn{constructor(e,t){this.version=e,this.transformResults=t}}class dn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new dn}static exists(e){return new dn(void 0,e)}static updateTime(e){return new dn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fn(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class pn{}function gn(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new xn(e.key,dn.none()):new vn(e.key,e.data,dn.none());{const n=e.data,r=Ue.empty();let i=new he(V.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new wn(e.key,r,new fe(i.toArray()),dn.none())}}function mn(e,t,n){e instanceof vn?function(e,t,n){const r=e.value.clone(),i=Cn(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof wn?function(e,t,n){if(!fn(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Cn(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(_n(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function An(e,t,n,r){return e instanceof vn?function(e,t,n,r){if(!fn(e.precondition,t))return n;const i=e.value.clone(),o=kn(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof wn?function(e,t,n,r){if(!fn(e.precondition,t))return n;const i=kn(e.fieldTransforms,r,t),o=t.data;return o.setAll(_n(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return fn(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function yn(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=tn(r.transform,e||null);null!=i&&(null===n&&(n=Ue.empty()),n.set(r.field,i))}return n||null}function bn(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&O(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof rn&&t instanceof rn||e instanceof sn&&t instanceof sn?O(e.elements,t.elements,Ee):e instanceof cn&&t instanceof cn?Ee(e.Te,t.Te):e instanceof nn&&t instanceof nn}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class vn extends pn{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class wn extends pn{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function _n(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function Cn(e,t,n){const r=new Map;y(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,en(s,a,n[i]))}return r}function kn(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,Jt(e,o,t))}return r}class xn extends pn{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class In extends pn{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class En{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const r=this.mutations[t];r.key.isEqual(e.key)&&mn(r,e,n[t])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=An(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=An(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=jt();return this.mutations.forEach((r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=gn(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(z.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Zt())}isEqual(e){return this.batchId===e.batchId&&O(this.mutations,e.mutations,((e,t)=>bn(e,t)))&&O(this.baseMutations,e.baseMutations,((e,t)=>bn(e,t)))}}class Bn{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){y(e.mutations.length===n.length);let r=$t;const i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new Bn(e,t,n,r)}}class Sn{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Tn{constructor(e,t){this.count=e,this.unchangedNames=t}}var Dn,Rn;function Nn(e){switch(e){default:return A();case v.CANCELLED:case v.UNKNOWN:case v.DEADLINE_EXCEEDED:case v.RESOURCE_EXHAUSTED:case v.INTERNAL:case v.UNAVAILABLE:case v.UNAUTHENTICATED:return!1;case v.INVALID_ARGUMENT:case v.NOT_FOUND:case v.ALREADY_EXISTS:case v.PERMISSION_DENIED:case v.FAILED_PRECONDITION:case v.ABORTED:case v.OUT_OF_RANGE:case v.UNIMPLEMENTED:case v.DATA_LOSS:return!0}}function On(e){if(void 0===e)return p("GRPC error has no .code"),v.UNKNOWN;switch(e){case Dn.OK:return v.OK;case Dn.CANCELLED:return v.CANCELLED;case Dn.UNKNOWN:return v.UNKNOWN;case Dn.DEADLINE_EXCEEDED:return v.DEADLINE_EXCEEDED;case Dn.RESOURCE_EXHAUSTED:return v.RESOURCE_EXHAUSTED;case Dn.INTERNAL:return v.INTERNAL;case Dn.UNAVAILABLE:return v.UNAVAILABLE;case Dn.UNAUTHENTICATED:return v.UNAUTHENTICATED;case Dn.INVALID_ARGUMENT:return v.INVALID_ARGUMENT;case Dn.NOT_FOUND:return v.NOT_FOUND;case Dn.ALREADY_EXISTS:return v.ALREADY_EXISTS;case Dn.PERMISSION_DENIED:return v.PERMISSION_DENIED;case Dn.FAILED_PRECONDITION:return v.FAILED_PRECONDITION;case Dn.ABORTED:return v.ABORTED;case Dn.OUT_OF_RANGE:return v.OUT_OF_RANGE;case Dn.UNIMPLEMENTED:return v.UNIMPLEMENTED;case Dn.DATA_LOSS:return v.DATA_LOSS;default:return A()}}(Rn=Dn||(Dn={}))[Rn.OK=0]="OK",Rn[Rn.CANCELLED=1]="CANCELLED",Rn[Rn.UNKNOWN=2]="UNKNOWN",Rn[Rn.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Rn[Rn.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Rn[Rn.NOT_FOUND=5]="NOT_FOUND",Rn[Rn.ALREADY_EXISTS=6]="ALREADY_EXISTS",Rn[Rn.PERMISSION_DENIED=7]="PERMISSION_DENIED",Rn[Rn.UNAUTHENTICATED=16]="UNAUTHENTICATED",Rn[Rn.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Rn[Rn.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Rn[Rn.ABORTED=10]="ABORTED",Rn[Rn.OUT_OF_RANGE=11]="OUT_OF_RANGE",Rn[Rn.UNIMPLEMENTED=12]="UNIMPLEMENTED",Rn[Rn.INTERNAL=13]="INTERNAL",Rn[Rn.UNAVAILABLE=14]="UNAVAILABLE",Rn[Rn.DATA_LOSS=15]="DATA_LOSS";class Ln{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return zn}static getOrCreateInstance(){return null===zn&&(zn=new Ln),zn}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach((t=>t(e)))}}let zn=null;function Pn(){return new TextEncoder}const Mn=new a.z8([4294967295,4294967295],0);function Fn(e){const t=Pn().encode(e),n=new a.V8;return n.update(t),new Uint8Array(n.digest())}function Vn(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new a.z8([n,r],0),new a.z8([i,o],0)]}class Un{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new jn(`Invalid padding: ${t}`);if(n<0)throw new jn(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new jn(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new jn(`Invalid padding when bitmap length is 0: ${t}`);this.de=8*e.length-t,this.Ae=a.z8.fromNumber(this.de)}Re(e,t,n){let r=e.add(t.multiply(a.z8.fromNumber(n)));return 1===r.compare(Mn)&&(r=new a.z8([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ae).toNumber()}Ve(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.de)return!1;const t=Fn(e),[n,r]=Vn(t);for(let e=0;e<this.hashCount;e++){const t=this.Re(n,r,e);if(!this.Ve(t))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Un(i,r,t);return n.forEach((e=>o.insert(e))),o}insert(e){if(0===this.de)return;const t=Fn(e),[n,r]=Vn(t);for(let e=0;e<this.hashCount;e++){const t=this.Re(n,r,e);this.me(t)}}me(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class jn extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class qn{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,$n.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new qn(z.min(),r,new ce(N),Pt(),Zt())}}class $n{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new $n(n,t,Zt(),Zt(),Zt())}}class Hn{constructor(e,t,n,r){this.fe=e,this.removedTargetIds=t,this.key=n,this.ge=r}}class Zn{constructor(e,t){this.targetId=e,this.pe=t}}class Gn{constructor(e,t,n=ge.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Kn{constructor(){this.ye=0,this.we=Yn(),this.Se=ge.EMPTY_BYTE_STRING,this.be=!1,this.De=!0}get current(){return this.be}get resumeToken(){return this.Se}get ve(){return 0!==this.ye}get Ce(){return this.De}Fe(e){e.approximateByteSize()>0&&(this.De=!0,this.Se=e)}Me(){let e=Zt(),t=Zt(),n=Zt();return this.we.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:A()}})),new $n(this.Se,this.be,e,t,n)}xe(){this.De=!1,this.we=Yn()}Oe(e,t){this.De=!0,this.we=this.we.insert(e,t)}Ne(e){this.De=!0,this.we=this.we.remove(e)}Be(){this.ye+=1}Le(){this.ye-=1}ke(){this.De=!0,this.be=!0}}class Wn{constructor(e){this.qe=e,this.Qe=new Map,this.Ke=Pt(),this.$e=Qn(),this.Ue=new ce(N)}We(e){for(const t of e.fe)e.ge&&e.ge.isFoundDocument()?this.Ge(t,e.ge):this.ze(t,e.key,e.ge);for(const t of e.removedTargetIds)this.ze(t,e.key,e.ge)}je(e){this.forEachTarget(e,(t=>{const n=this.He(t);switch(e.state){case 0:this.Je(t)&&n.Fe(e.resumeToken);break;case 1:n.Le(),n.ve||n.xe(),n.Fe(e.resumeToken);break;case 2:n.Le(),n.ve||this.removeTarget(t);break;case 3:this.Je(t)&&(n.ke(),n.Fe(e.resumeToken));break;case 4:this.Je(t)&&(this.Ye(t),n.Fe(e.resumeToken));break;default:A()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Qe.forEach(((e,n)=>{this.Je(n)&&t(n)}))}Ze(e){var t,n;const r=e.targetId,i=e.pe.count,o=this.Xe(r);if(o){const s=o.target;if(mt(s))if(0===i){const e=new U(s.path);this.ze(r,e,qe.newNoDocument(e,z.min()))}else y(1===i);else{const o=this.et(r);if(o!==i){const i=this.tt(e,o);if(0!==i.status){this.Ye(r);const e=2===i.status?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(r,e)}null===(t=Ln.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n,r){var i,o,s,a,c,l;const u={localCacheCount:n,existenceFilterCount:r.count},h=r.unchangedNames;return h&&(u.bloomFilter={applied:0===e,hashCount:null!==(i=null==h?void 0:h.hashCount)&&void 0!==i?i:0,bitmapLength:null!==(a=null===(s=null===(o=null==h?void 0:h.bits)||void 0===o?void 0:o.bitmap)||void 0===s?void 0:s.length)&&void 0!==a?a:0,padding:null!==(l=null===(c=null==h?void 0:h.bits)||void 0===c?void 0:c.padding)&&void 0!==l?l:0},t&&(u.bloomFilter.mightContain=t)),u}(i.status,null!==(n=i.nt)&&void 0!==n?n:null,o,e.pe))}}}}tt(e,t){const{unchangedNames:n,count:r}=e.pe;if(!n||!n.bits)return{status:1};const{bits:{bitmap:i="",padding:o=0},hashCount:s=0}=n;let a,c;try{a=be(i).toUint8Array()}catch(e){if(e instanceof pe)return g("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),{status:1};throw e}try{c=new Un(a,o,s)}catch(e){return g(e instanceof jn?"BloomFilter error: ":"Applying bloom filter failed: ",e),{status:1}}const l=e=>{const t=this.qe.rt();return c.mightContain(`projects/${t.projectId}/databases/${t.database}/documents/${e}`)};return 0===c.de?{status:1}:{status:r===t-this.it(e.targetId,l)?0:2,nt:l}}it(e,t){const n=this.qe.getRemoteKeysForTarget(e);let r=0;return n.forEach((n=>{t(n.path.canonicalString())||(this.ze(e,n,null),r++)})),r}st(e){const t=new Map;this.Qe.forEach(((n,r)=>{const i=this.Xe(r);if(i){if(n.current&&mt(i.target)){const t=new U(i.target.path);null!==this.Ke.get(t)||this.ot(r,t)||this.ze(r,t,qe.newNoDocument(t,e))}n.Ce&&(t.set(r,n.Me()),n.xe())}}));let n=Zt();this.$e.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Xe(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.Ke.forEach(((t,n)=>n.setReadTime(e)));const r=new qn(e,t,this.Ue,this.Ke,n);return this.Ke=Pt(),this.$e=Qn(),this.Ue=new ce(N),r}Ge(e,t){if(!this.Je(e))return;const n=this.ot(e,t.key)?2:0;this.He(e).Oe(t.key,n),this.Ke=this.Ke.insert(t.key,t),this.$e=this.$e.insert(t.key,this._t(t.key).add(e))}ze(e,t,n){if(!this.Je(e))return;const r=this.He(e);this.ot(e,t)?r.Oe(t,1):r.Ne(t),this.$e=this.$e.insert(t,this._t(t).delete(e)),n&&(this.Ke=this.Ke.insert(t,n))}removeTarget(e){this.Qe.delete(e)}et(e){const t=this.He(e).Me();return this.qe.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Be(e){this.He(e).Be()}He(e){let t=this.Qe.get(e);return t||(t=new Kn,this.Qe.set(e,t)),t}_t(e){let t=this.$e.get(e);return t||(t=new he(N),this.$e=this.$e.insert(e,t)),t}Je(e){const t=null!==this.Xe(e);return t||f("WatchChangeAggregator","Detected inactive target",e),t}Xe(e){const t=this.Qe.get(e);return t&&t.ve?null:this.qe.ut(e)}Ye(e){this.Qe.set(e,new Kn),this.qe.getRemoteKeysForTarget(e).forEach((t=>{this.ze(e,t,null)}))}ot(e,t){return this.qe.getRemoteKeysForTarget(e).has(t)}}function Qn(){return new ce(U.comparator)}function Yn(){return new ce(U.comparator)}const Xn={asc:"ASCENDING",desc:"DESCENDING"},Jn={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},er={and:"AND",or:"OR"};class tr{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function nr(e,t){return e.useProto3Json||J(t)?t:{value:t}}function rr(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function ir(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function or(e,t){return rr(e,t.toTimestamp())}function sr(e){return y(!!e),z.fromTimestamp(function(e){const t=Ae(e);return new L(t.seconds,t.nanos)}(e))}function ar(e,t){return function(e){return new M(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function cr(e){const t=M.fromString(e);return y(Br(t)),t}function lr(e,t){return ar(e.databaseId,t.path)}function ur(e,t){const n=cr(t);if(n.get(1)!==e.databaseId.projectId)throw new w(v.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new w(v.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new U(pr(n))}function hr(e,t){return ar(e.databaseId,t)}function dr(e){const t=cr(e);return 4===t.length?M.emptyPath():pr(t)}function fr(e){return new M(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function pr(e){return y(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function gr(e,t,n){return{name:lr(e,t),fields:n.value.mapValue.fields}}function mr(e,t){let n;if(t instanceof vn)n={update:gr(e,t.key,t.value)};else if(t instanceof xn)n={delete:lr(e,t.key)};else if(t instanceof wn)n={update:gr(e,t.key,t.data),updateMask:Er(t.fieldMask)};else{if(!(t instanceof In))return A();n={verify:lr(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof nn)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof rn)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof sn)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof cn)return{fieldPath:t.field.canonicalString(),increment:n.Te};throw A()}(0,e)))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:or(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:A()}(e,t.precondition)),n}function Ar(e,t){return{documents:[hr(e,t.path)]}}function yr(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=hr(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=hr(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return Ir(Ye.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:kr(e.field),direction:wr(e.dir)}}(e)))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=nr(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function br(e){let t=dr(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){y(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=function(e){const t=vr(e);return t instanceof Ye&&Je(t)?t.getFilters():[t]}(n.where));let s=[];n.orderBy&&(s=function(e){return e.map((e=>function(e){return new Ge(xr(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,J(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){const t=!!e.before,n=e.values||[];return new $e(n,t)}(n.startAt));let l=null;return n.endAt&&(l=function(e){const t=!e.before,n=e.values||[];return new $e(n,t)}(n.endAt)),yt(t,i,s,o,a,"F",c,l)}function vr(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=xr(e.unaryFilter.field);return Qe.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=xr(e.unaryFilter.field);return Qe.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=xr(e.unaryFilter.field);return Qe.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=xr(e.unaryFilter.field);return Qe.create(i,"!=",{nullValue:"NULL_VALUE"});default:return A()}}(e):void 0!==e.fieldFilter?function(e){return Qe.create(xr(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return A()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Ye.create(e.compositeFilter.filters.map((e=>vr(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return A()}}(e.compositeFilter.op))}(e):A()}function wr(e){return Xn[e]}function _r(e){return Jn[e]}function Cr(e){return er[e]}function kr(e){return{fieldPath:e.canonicalString()}}function xr(e){return V.fromServerFormat(e.fieldPath)}function Ir(e){return e instanceof Qe?function(e){if("=="===e.op){if(Pe(e.value))return{unaryFilter:{field:kr(e.field),op:"IS_NAN"}};if(ze(e.value))return{unaryFilter:{field:kr(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Pe(e.value))return{unaryFilter:{field:kr(e.field),op:"IS_NOT_NAN"}};if(ze(e.value))return{unaryFilter:{field:kr(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:kr(e.field),op:_r(e.op),value:e.value}}}(e):e instanceof Ye?function(e){const t=e.getFilters().map((e=>Ir(e)));return 1===t.length?t[0]:{compositeFilter:{op:Cr(e.op),filters:t}}}(e):A()}function Er(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Br(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class Sr{constructor(e,t,n,r,i=z.min(),o=z.min(),s=ge.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=a}withSequenceNumber(e){return new Sr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Sr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Tr{constructor(e){this.ct=e}}function Dr(e){const t=br({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Et(t,t.limit,"L"):t}class Rr{constructor(){}Pt(e,t){this.It(e,t),t.Tt()}It(e,t){if("nullValue"in e)this.Et(t,5);else if("booleanValue"in e)this.Et(t,10),t.dt(e.booleanValue?1:0);else if("integerValue"in e)this.Et(t,15),t.dt(ye(e.integerValue));else if("doubleValue"in e){const n=ye(e.doubleValue);isNaN(n)?this.Et(t,13):(this.Et(t,15),ee(n)?t.dt(0):t.dt(n))}else if("timestampValue"in e){const n=e.timestampValue;this.Et(t,20),"string"==typeof n?t.At(n):(t.At(`${n.seconds||""}`),t.dt(n.nanos||0))}else if("stringValue"in e)this.Rt(e.stringValue,t),this.Vt(t);else if("bytesValue"in e)this.Et(t,30),t.ft(be(e.bytesValue)),this.Vt(t);else if("referenceValue"in e)this.gt(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Et(t,45),t.dt(n.latitude||0),t.dt(n.longitude||0)}else"mapValue"in e?Ve(e)?this.Et(t,Number.MAX_SAFE_INTEGER):(this.yt(e.mapValue,t),this.Vt(t)):"arrayValue"in e?(this.wt(e.arrayValue,t),this.Vt(t)):A()}Rt(e,t){this.Et(t,25),this.St(e,t)}St(e,t){t.At(e)}yt(e,t){const n=e.fields||{};this.Et(t,55);for(const e of Object.keys(n))this.Rt(e,t),this.It(n[e],t)}wt(e,t){const n=e.values||[];this.Et(t,50);for(const e of n)this.It(e,t)}gt(e,t){this.Et(t,37),U.fromName(e).path.forEach((e=>{this.Et(t,60),this.St(e,t)}))}Et(e,t){e.dt(t)}Vt(e){e.dt(2)}}Rr.bt=new Rr;class Nr{constructor(){this.sn=new Or}addToCollectionParentIndex(e,t){return this.sn.add(t),Q.resolve()}getCollectionParents(e,t){return Q.resolve(this.sn.getEntries(t))}addFieldIndex(e,t){return Q.resolve()}deleteFieldIndex(e,t){return Q.resolve()}getDocumentsMatchingTarget(e,t){return Q.resolve(null)}getIndexType(e,t){return Q.resolve(0)}getFieldIndexes(e,t){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,t){return Q.resolve(H.min())}getMinOffsetFromCollectionGroup(e,t){return Q.resolve(H.min())}updateCollectionGroup(e,t,n){return Q.resolve()}updateIndexEntries(e,t){return Q.resolve()}}class Or{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new he(M.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new he(M.comparator)).toArray()}}new Uint8Array(0);class Lr{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Lr(e,Lr.DEFAULT_COLLECTION_PERCENTILE,Lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Lr.DEFAULT_COLLECTION_PERCENTILE=10,Lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Lr.DEFAULT=new Lr(41943040,Lr.DEFAULT_COLLECTION_PERCENTILE,Lr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Lr.DISABLED=new Lr(-1,0,0);class zr{constructor(e){this.Mn=e}next(){return this.Mn+=2,this.Mn}static xn(){return new zr(0)}static On(){return new zr(-1)}}class Pr{constructor(){this.changes=new Lt((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,qe.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?Q.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Mr{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Fr{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&An(n.mutation,e,fe.empty(),L.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Zt()).next((()=>t))))}getLocalViewOfDocuments(e,t,n=Zt()){const r=Ut();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Ft();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Ut();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Zt())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Pt();const o=qt(),s=qt();return t.forEach(((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof wn)?i=i.insert(t.key,t):void 0!==s?(o.set(t.key,s.mutation.getFieldMask()),An(s.mutation,t,s.mutation.getFieldMask(),L.now())):o.set(t.key,fe.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>o.set(e,t))),t.forEach(((e,t)=>{var n;return s.set(e,new Mr(t,null!==(n=o.get(e))&&void 0!==n?n:null))})),s)))}recalculateAndSaveOverlays(e,t){const n=qt();let r=new ce(((e,t)=>e-t)),i=Zt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||fe.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||Zt()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,c=r.value,l=jt();c.forEach((e=>{if(!i.has(e)){const r=gn(t.get(e),n.get(e));null!==r&&l.set(e,r),i=i.add(e)}})),o.push(this.documentOverlayCache.saveOverlays(e,a,l))}return Q.waitFor(o)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n){return function(e){return U.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Ct(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):Q.resolve(Ut());let s=-1,a=i;return o.next((t=>Q.forEach(t,((t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?Q.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,Zt()))).next((e=>({batchId:s,changes:Vt(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new U(t)).next((e=>{let t=Ft();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=Ft();return this.indexManager.getCollectionParents(e,r).next((o=>Q.forEach(o,(o=>{const s=function(e,t){return new At(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(r));return this.getDocumentsMatchingCollectionQuery(e,s,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)))).next((e=>{r.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,qe.newInvalidDocument(r)))}));let n=Ft();return e.forEach(((e,i)=>{const o=r.get(e);void 0!==o&&An(o.mutation,i,fe.empty(),L.now()),Dt(t,i)&&(n=n.insert(e,i))})),n}))}}class Vr{constructor(e){this.serializer=e,this.ar=new Map,this.ur=new Map}getBundleMetadata(e,t){return Q.resolve(this.ar.get(t))}saveBundleMetadata(e,t){return this.ar.set(t.id,function(e){return{id:e.id,version:e.version,createTime:sr(e.createTime)}}(t)),Q.resolve()}getNamedQuery(e,t){return Q.resolve(this.ur.get(t))}saveNamedQuery(e,t){return this.ur.set(t.name,function(e){return{name:e.name,query:Dr(e.bundledQuery),readTime:sr(e.readTime)}}(t)),Q.resolve()}}class Ur{constructor(){this.overlays=new ce(U.comparator),this.cr=new Map}getOverlay(e,t){return Q.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Ut();return Q.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.ht(e,t,r)})),Q.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.cr.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.cr.delete(n)),Q.resolve()}getOverlaysForCollection(e,t,n){const r=Ut(),i=t.length+1,o=new U(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return Q.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new ce(((e,t)=>e-t));const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Ut(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=Ut(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>s.set(e,t))),!(s.size()>=r)););return Q.resolve(s)}ht(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.cr.get(r.largestBatchId).delete(n.key);this.cr.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new Sn(t,n));let i=this.cr.get(t);void 0===i&&(i=Zt(),this.cr.set(t,i)),this.cr.set(t,i.add(n.key))}}class jr{constructor(){this.lr=new he(qr.hr),this.Pr=new he(qr.Ir)}isEmpty(){return this.lr.isEmpty()}addReference(e,t){const n=new qr(e,t);this.lr=this.lr.add(n),this.Pr=this.Pr.add(n)}Tr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.Er(new qr(e,t))}dr(e,t){e.forEach((e=>this.removeReference(e,t)))}Ar(e){const t=new U(new M([])),n=new qr(t,e),r=new qr(t,e+1),i=[];return this.Pr.forEachInRange([n,r],(e=>{this.Er(e),i.push(e.key)})),i}Rr(){this.lr.forEach((e=>this.Er(e)))}Er(e){this.lr=this.lr.delete(e),this.Pr=this.Pr.delete(e)}Vr(e){const t=new U(new M([])),n=new qr(t,e),r=new qr(t,e+1);let i=Zt();return this.Pr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new qr(e,0),n=this.lr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class qr{constructor(e,t){this.key=e,this.mr=t}static hr(e,t){return U.comparator(e.key,t.key)||N(e.mr,t.mr)}static Ir(e,t){return N(e.mr,t.mr)||U.comparator(e.key,t.key)}}class $r{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.gr=1,this.pr=new he(qr.hr)}checkEmpty(e){return Q.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.gr;this.gr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new En(i,t,n,r);this.mutationQueue.push(o);for(const t of r)this.pr=this.pr.add(new qr(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return Q.resolve(o)}lookupMutationBatch(e,t){return Q.resolve(this.yr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.wr(n),i=r<0?0:r;return Q.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(0===this.mutationQueue.length?-1:this.gr-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new qr(t,0),r=new qr(t,Number.POSITIVE_INFINITY),i=[];return this.pr.forEachInRange([n,r],(e=>{const t=this.yr(e.mr);i.push(t)})),Q.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new he(N);return t.forEach((e=>{const t=new qr(e,0),r=new qr(e,Number.POSITIVE_INFINITY);this.pr.forEachInRange([t,r],(e=>{n=n.add(e.mr)}))})),Q.resolve(this.Sr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;U.isDocumentKey(i)||(i=i.child(""));const o=new qr(new U(i),0);let s=new he(N);return this.pr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.mr)),!0)}),o),Q.resolve(this.Sr(s))}Sr(e){const t=[];return e.forEach((e=>{const n=this.yr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){y(0===this.br(t.batchId,"removed")),this.mutationQueue.shift();let n=this.pr;return Q.forEach(t.mutations,(r=>{const i=new qr(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.pr=n}))}Cn(e){}containsKey(e,t){const n=new qr(t,0),r=this.pr.firstAfterOrEqual(n);return Q.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,Q.resolve()}br(e,t){return this.wr(e)}wr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}yr(e){const t=this.wr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Hr{constructor(e){this.Dr=e,this.docs=new ce(U.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.Dr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return Q.resolve(n?n.document.mutableCopy():qe.newInvalidDocument(t))}getEntries(e,t){let n=Pt();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():qe.newInvalidDocument(e))})),Q.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Pt();const o=t.path,s=new U(o.child("")),a=this.docs.getIteratorFrom(s);for(;a.hasNext();){const{key:e,value:{document:s}}=a.getNext();if(!o.isPrefixOf(e.path))break;e.path.length>o.length+1||Z($(s),n)<=0||(r.has(s.key)||Dt(t,s))&&(i=i.insert(s.key,s.mutableCopy()))}return Q.resolve(i)}getAllFromCollectionGroup(e,t,n,r){A()}vr(e,t){return Q.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new Zr(this)}getSize(e){return Q.resolve(this.size)}}class Zr extends Pr{constructor(e){super(),this.sr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.sr.addEntry(e,r)):this.sr.removeEntry(n)})),Q.waitFor(t)}getFromCache(e,t){return this.sr.getEntry(e,t)}getAllFromCache(e,t){return this.sr.getEntries(e,t)}}class Gr{constructor(e){this.persistence=e,this.Cr=new Lt((e=>pt(e)),gt),this.lastRemoteSnapshotVersion=z.min(),this.highestTargetId=0,this.Fr=0,this.Mr=new jr,this.targetCount=0,this.Or=zr.xn()}forEachTarget(e,t){return this.Cr.forEach(((e,n)=>t(n))),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.Fr)}allocateTargetId(e){return this.highestTargetId=this.Or.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Fr&&(this.Fr=t),Q.resolve()}Ln(e){this.Cr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Or=new zr(t),this.highestTargetId=t),e.sequenceNumber>this.Fr&&(this.Fr=e.sequenceNumber)}addTargetData(e,t){return this.Ln(t),this.targetCount+=1,Q.resolve()}updateTargetData(e,t){return this.Ln(t),Q.resolve()}removeTargetData(e,t){return this.Cr.delete(t.target),this.Mr.Ar(t.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Cr.forEach(((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Cr.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)})),Q.waitFor(i).next((()=>r))}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,t){const n=this.Cr.get(t)||null;return Q.resolve(n)}addMatchingKeys(e,t,n){return this.Mr.Tr(t,n),Q.resolve()}removeMatchingKeys(e,t,n){this.Mr.dr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),Q.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Mr.Ar(t),Q.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Mr.Vr(t);return Q.resolve(n)}containsKey(e,t){return Q.resolve(this.Mr.containsKey(t))}}class Kr{constructor(e,t){this.Nr={},this.overlays={},this.Br=new X(0),this.Lr=!1,this.Lr=!0,this.referenceDelegate=e(this),this.kr=new Gr(this),this.indexManager=new Nr,this.remoteDocumentCache=function(e){return new Hr(e)}((e=>this.referenceDelegate.qr(e))),this.serializer=new Tr(t),this.Qr=new Vr(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Lr=!1,Promise.resolve()}get started(){return this.Lr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ur,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Nr[e.toKey()];return n||(n=new $r(t,this.referenceDelegate),this.Nr[e.toKey()]=n),n}getTargetCache(){return this.kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Qr}runTransaction(e,t,n){f("MemoryPersistence","Starting transaction:",e);const r=new Wr(this.Br.next());return this.referenceDelegate.Kr(),n(r).next((e=>this.referenceDelegate.$r(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ur(e,t){return Q.or(Object.values(this.Nr).map((n=>()=>n.containsKey(e,t))))}}class Wr extends K{constructor(e){super(),this.currentSequenceNumber=e}}class Qr{constructor(e){this.persistence=e,this.Wr=new jr,this.Gr=null}static zr(e){return new Qr(e)}get jr(){if(this.Gr)return this.Gr;throw A()}addReference(e,t,n){return this.Wr.addReference(n,t),this.jr.delete(n.toString()),Q.resolve()}removeReference(e,t,n){return this.Wr.removeReference(n,t),this.jr.add(n.toString()),Q.resolve()}markPotentiallyOrphaned(e,t){return this.jr.add(t.toString()),Q.resolve()}removeTarget(e,t){this.Wr.Ar(t.targetId).forEach((e=>this.jr.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.jr.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Kr(){this.Gr=new Set}$r(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.jr,(n=>{const r=U.fromPath(n);return this.Hr(e,r).next((e=>{e||t.removeEntry(r,z.min())}))})).next((()=>(this.Gr=null,t.apply(e))))}updateLimboDocument(e,t){return this.Hr(e,t).next((e=>{e?this.jr.delete(t.toString()):this.jr.add(t.toString())}))}qr(e){return 0}Hr(e,t){return Q.or([()=>Q.resolve(this.Wr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ur(e,t)])}}class Yr{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Li=n,this.ki=r}static qi(e,t){let n=Zt(),r=Zt();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new Yr(e,t.fromCache,n,r)}}class Xr{constructor(){this.Qi=!1}initialize(e,t){this.Ki=e,this.indexManager=t,this.Qi=!0}getDocumentsMatchingQuery(e,t,n,r){return this.$i(e,t).next((i=>i||this.Ui(e,t,r,n))).next((n=>n||this.Wi(e,t)))}$i(e,t){if(vt(t))return Q.resolve(null);let n=xt(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Et(t,null,"F"),n=xt(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Zt(...r);return this.Ki.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const o=this.Gi(t,r);return this.zi(t,o,i,n.readTime)?this.$i(e,Et(t,null,"F")):this.ji(e,o,t,n)}))))})))))}Ui(e,t,n,r){return vt(t)||r.isEqual(z.min())?this.Wi(e,t):this.Ki.getDocuments(e,n).next((i=>{const s=this.Gi(t,i);return this.zi(t,s,n,r)?this.Wi(e,t):(d()<=o.in.DEBUG&&f("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Tt(t)),this.ji(e,s,t,q(r,-1)))}))}Gi(e,t){let n=new he(Nt(e));return t.forEach(((t,r)=>{Dt(e,r)&&(n=n.add(r))})),n}zi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Wi(e,t){return d()<=o.in.DEBUG&&f("QueryEngine","Using full collection scan to execute query:",Tt(t)),this.Ki.getDocumentsMatchingQuery(e,t,H.min())}ji(e,t,n,r){return this.Ki.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Jr{constructor(e,t,n,r){this.persistence=e,this.Hi=t,this.serializer=r,this.Ji=new ce(N),this.Yi=new Lt((e=>pt(e)),gt),this.Zi=new Map,this.Xi=e.getRemoteDocumentCache(),this.kr=e.getTargetCache(),this.Qr=e.getBundleCache(),this.es(n)}es(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Fr(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ji)))}}function ei(e,t,n,r){return new Jr(e,t,n,r)}async function ti(e,t){const n=b(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.es(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],o=[];let s=Zt();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next((e=>({ts:e,removedBatchIds:i,addedBatchIds:o})))}))}))}function ni(e){const t=b(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.kr.getLastRemoteSnapshotVersion(e)))}function ri(e,t,n){let r=Zt(),i=Zt();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Pt();return n.forEach(((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(z.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):f("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)})),{ns:r,rs:i}}))}function ii(e,t){const n=b(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function oi(e,t){const n=b(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.kr.getTargetData(e,t).next((i=>i?(r=i,Q.resolve(r)):n.kr.allocateTargetId(e).next((i=>(r=new Sr(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.kr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Ji.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(e.targetId,e),n.Yi.set(t,e.targetId)),e}))}async function si(e,t,n){const r=b(e),i=r.Ji.get(t),o=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",o,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Y(e))throw e;f("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function ai(e,t,n){const r=b(e);let i=z.min(),o=Zt();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=b(e),i=r.Yi.get(n);return void 0!==i?Q.resolve(r.Ji.get(i)):r.kr.getTargetData(t,n)}(r,e,xt(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.kr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{o=e}))})).next((()=>r.Hi.getDocumentsMatchingQuery(e,t,n?i:z.min(),n?o:Zt()))).next((e=>(ci(r,Rt(t),e),{documents:e,ss:o})))))}function ci(e,t,n){let r=e.Zi.get(t)||z.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Zi.set(t,r)}class li{constructor(){this.activeTargetIds=Kt()}hs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Ps(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ls(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class ui{constructor(){this.Hs=new li,this.Js={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Hs.hs(e),this.Js[e]||"not-current"}updateQueryState(e,t,n){this.Js[e]=t}removeLocalQueryTarget(e){this.Hs.Ps(e)}isLocalQueryTarget(e){return this.Hs.activeTargetIds.has(e)}clearQueryState(e){delete this.Js[e]}getAllActiveQueryTargets(){return this.Hs.activeTargetIds}isActiveQueryTarget(e){return this.Hs.activeTargetIds.has(e)}start(){return this.Hs=new li,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class hi{Ys(e){}shutdown(){}}class di{constructor(){this.Zs=()=>this.Xs(),this.eo=()=>this.no(),this.ro=[],this.io()}Ys(e){this.ro.push(e)}shutdown(){window.removeEventListener("online",this.Zs),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Zs),window.addEventListener("offline",this.eo)}Xs(){f("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ro)e(0)}no(){f("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ro)e(1)}static v(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let fi=null;function pi(){return null===fi?fi=268435456+Math.round(2147483648*Math.random()):fi++,"0x"+fi.toString(16)}const gi={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class mi{constructor(e){this.so=e.so,this.oo=e.oo}_o(e){this.ao=e}uo(e){this.co=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.so(e)}ho(){this.ao()}Po(e){this.co(e)}Io(e){this.lo(e)}}const Ai="WebChannelConnection";class yi extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.To=t+"://"+e.host,this.Eo=`projects/${n}/databases/${r}`,this.Ao="(default)"===this.databaseId.database?`project_id=${n}`:`project_id=${n}&database_id=${r}`}get Ro(){return!1}Vo(e,t,n,r,i){const o=pi(),s=this.mo(e,t);f("RestConnection",`Sending RPC '${e}' ${o}:`,s,n);const a={"google-cloud-resource-prefix":this.Eo,"x-goog-request-params":this.Ao};return this.fo(a,r,i),this.po(e,s,a,n).then((t=>(f("RestConnection",`Received RPC '${e}' ${o}: `,t),t)),(t=>{throw g("RestConnection",`RPC '${e}' ${o} failed with error: `,t,"url: ",s,"request:",n),t}))}yo(e,t,n,r,i,o){return this.Vo(e,t,n,r,i)}fo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+u,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}mo(e,t){const n=gi[e];return`${this.To}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}po(e,t,n,r){const i=pi();return new Promise(((o,s)=>{const c=new a.JJ;c.setWithCredentials(!0),c.listenOnce(a.tw.COMPLETE,(()=>{try{switch(c.getLastErrorCode()){case a.jK.NO_ERROR:const t=c.getResponseJson();f(Ai,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),o(t);break;case a.jK.TIMEOUT:f(Ai,`RPC '${e}' ${i} timed out`),s(new w(v.DEADLINE_EXCEEDED,"Request time out"));break;case a.jK.HTTP_ERROR:const n=c.getStatus();if(f(Ai,`RPC '${e}' ${i} failed with status:`,n,"response text:",c.getResponseText()),n>0){let e=c.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(v).indexOf(t)>=0?t:v.UNKNOWN}(t.status);s(new w(e,t.message))}else s(new w(v.UNKNOWN,"Server responded with status "+c.getStatus()))}else s(new w(v.UNAVAILABLE,"Connection failed."));break;default:A()}}finally{f(Ai,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);f(Ai,`RPC '${e}' ${i} sending request:`,r),c.send(t,"POST",l,n,15)}))}wo(e,t,n){const r=pi(),i=[this.To,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=(0,a.UE)(),s=(0,a.FJ)(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(c.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(c.xmlHttpFactory=new a.zI({})),this.fo(c.initMessageHeaders,t,n),c.encodeInitMessageHeaders=!0;const u=i.join("");f(Ai,`Creating RPC '${e}' stream ${r}: ${u}`,c);const h=o.createWebChannel(u,c);let d=!1,p=!1;const m=new mi({so:t=>{p?f(Ai,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(d||(f(Ai,`Opening RPC '${e}' stream ${r} transport.`),h.open(),d=!0),f(Ai,`RPC '${e}' stream ${r} sending:`,t),h.send(t))},oo:()=>h.close()}),A=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return A(h,a.ii.EventType.OPEN,(()=>{p||f(Ai,`RPC '${e}' stream ${r} transport opened.`)})),A(h,a.ii.EventType.CLOSE,(()=>{p||(p=!0,f(Ai,`RPC '${e}' stream ${r} transport closed`),m.Po())})),A(h,a.ii.EventType.ERROR,(t=>{p||(p=!0,g(Ai,`RPC '${e}' stream ${r} transport errored:`,t),m.Po(new w(v.UNAVAILABLE,"The operation could not be completed")))})),A(h,a.ii.EventType.MESSAGE,(t=>{var n;if(!p){const i=t.data[0];y(!!i);const o=i,s=o.error||(null===(n=o[0])||void 0===n?void 0:n.error);if(s){f(Ai,`RPC '${e}' stream ${r} received error:`,s);const t=s.status;let n=function(e){const t=Dn[e];if(void 0!==t)return On(t)}(t),i=s.message;void 0===n&&(n=v.INTERNAL,i="Unknown error status: "+t+" with message "+s.message),p=!0,m.Po(new w(n,i)),h.close()}else f(Ai,`RPC '${e}' stream ${r} received:`,i),m.Io(i)}})),A(s,a.ju.STAT_EVENT,(t=>{t.stat===a.kN.PROXY?f(Ai,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===a.kN.NOPROXY&&f(Ai,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{m.ho()}),0),m}}function bi(){return"undefined"!=typeof document?document:null}function vi(e){return new tr(e,!0)}class wi{constructor(e,t,n=1e3,r=1.5,i=6e4){this.ii=e,this.timerId=t,this.So=n,this.bo=r,this.Do=i,this.vo=0,this.Co=null,this.Fo=Date.now(),this.reset()}reset(){this.vo=0}Mo(){this.vo=this.Do}xo(e){this.cancel();const t=Math.floor(this.vo+this.Oo()),n=Math.max(0,Date.now()-this.Fo),r=Math.max(0,t-n);r>0&&f("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.vo} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.Co=this.ii.enqueueAfterDelay(this.timerId,r,(()=>(this.Fo=Date.now(),e()))),this.vo*=this.bo,this.vo<this.So&&(this.vo=this.So),this.vo>this.Do&&(this.vo=this.Do)}No(){null!==this.Co&&(this.Co.skipDelay(),this.Co=null)}cancel(){null!==this.Co&&(this.Co.cancel(),this.Co=null)}Oo(){return(Math.random()-.5)*this.vo}}class _i{constructor(e,t,n,r,i,o,s,a){this.ii=e,this.Bo=n,this.Lo=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.ko=0,this.qo=null,this.Qo=null,this.stream=null,this.Ko=new wi(e,t)}$o(){return 1===this.state||5===this.state||this.Uo()}Uo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Wo()}async stop(){this.$o()&&await this.close(0)}Go(){this.state=0,this.Ko.reset()}zo(){this.Uo()&&null===this.qo&&(this.qo=this.ii.enqueueAfterDelay(this.Bo,6e4,(()=>this.jo())))}Ho(e){this.Jo(),this.stream.send(e)}async jo(){if(this.Uo())return this.close(0)}Jo(){this.qo&&(this.qo.cancel(),this.qo=null)}Yo(){this.Qo&&(this.Qo.cancel(),this.Qo=null)}async close(e,t){this.Jo(),this.Yo(),this.Ko.cancel(),this.ko++,4!==e?this.Ko.reset():t&&t.code===v.RESOURCE_EXHAUSTED?(p(t.toString()),p("Using maximum backoff delay to prevent overloading the backend."),this.Ko.Mo()):t&&t.code===v.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Zo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.uo(t)}Zo(){}auth(){this.state=1;const e=this.Xo(this.ko),t=this.ko;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.ko===t&&this.e_(e,n)}),(t=>{e((()=>{const e=new w(v.UNKNOWN,"Fetching auth token failed: "+t.message);return this.t_(e)}))}))}e_(e,t){const n=this.Xo(this.ko);this.stream=this.n_(e,t),this.stream._o((()=>{n((()=>(this.state=2,this.Qo=this.ii.enqueueAfterDelay(this.Lo,1e4,(()=>(this.Uo()&&(this.state=3),Promise.resolve()))),this.listener._o())))})),this.stream.uo((e=>{n((()=>this.t_(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Wo(){this.state=5,this.Ko.xo((async()=>{this.state=0,this.start()}))}t_(e){return f("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return t=>{this.ii.enqueueAndForget((()=>this.ko===e?t():(f("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Ci extends _i{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i}n_(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.Ko.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:A()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(y(void 0===t||"string"==typeof t),ge.fromBase64String(t||"")):(y(void 0===t||t instanceof Uint8Array),ge.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?v.UNKNOWN:On(e.code);return new w(t,e.message||"")}(s);n=new Gn(r,i,o,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=ur(e,r.document.name),o=sr(r.document.updateTime),s=r.document.createTime?sr(r.document.createTime):z.min(),a=new Ue({mapValue:{fields:r.document.fields}}),c=qe.newFoundDocument(i,o,s,a),l=r.targetIds||[],u=r.removedTargetIds||[];n=new Hn(l,u,c.key,c)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=ur(e,r.document),o=r.readTime?sr(r.readTime):z.min(),s=qe.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Hn([],a,s.key,s)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=ur(e,r.document),o=r.removedTargetIds||[];n=new Hn([],o,i,null)}else{if(!("filter"in t))return A();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,o=new Tn(r,i),s=e.targetId;n=new Zn(s,o)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return z.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?z.min():t.readTime?sr(t.readTime):z.min()}(e);return this.listener.r_(t,n)}i_(e){const t={};t.database=fr(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=mt(r)?{documents:Ar(e,r)}:{query:yr(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=ir(e,t.resumeToken);const r=nr(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(z.min())>0){n.readTime=rr(e,t.snapshotVersion.toTimestamp());const r=nr(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return A()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Ho(t)}s_(e){const t={};t.database=fr(this.serializer),t.removeTarget=e,this.Ho(t)}}class ki extends _i{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.serializer=i,this.o_=!1}get __(){return this.o_}start(){this.o_=!1,this.lastStreamToken=void 0,super.start()}Zo(){this.o_&&this.a_([])}n_(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(y(!!e.streamToken),this.lastStreamToken=e.streamToken,this.o_){this.Ko.reset();const t=function(e,t){return e&&e.length>0?(y(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?sr(e.updateTime):sr(t);return n.isEqual(z.min())&&(n=sr(t)),new hn(n,e.transformResults||[])}(e,t)))):[]}(e.writeResults,e.commitTime),n=sr(e.commitTime);return this.listener.u_(n,t)}return y(!e.writeResults||0===e.writeResults.length),this.o_=!0,this.listener.c_()}l_(){const e={};e.database=fr(this.serializer),this.Ho(e)}a_(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>mr(this.serializer,e)))};this.Ho(t)}}class xi extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.h_=!1}P_(){if(this.h_)throw new w(v.FAILED_PRECONDITION,"The client has already been terminated.")}Vo(e,t,n){return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,i])=>this.connection.Vo(e,t,n,r,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new w(v.UNKNOWN,e.toString())}))}yo(e,t,n,r){return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,o])=>this.connection.yo(e,t,n,i,o,r))).catch((e=>{throw"FirebaseError"===e.name?(e.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new w(v.UNKNOWN,e.toString())}))}terminate(){this.h_=!0}}class Ii{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.T_=0,this.E_=null,this.d_=!0}A_(){0===this.T_&&(this.R_("Unknown"),this.E_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.E_=null,this.V_("Backend didn't respond within 10 seconds."),this.R_("Offline"),Promise.resolve()))))}m_(e){"Online"===this.state?this.R_("Unknown"):(this.T_++,this.T_>=1&&(this.f_(),this.V_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.R_("Offline")))}set(e){this.f_(),this.T_=0,"Online"===e&&(this.d_=!1),this.R_(e)}R_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}V_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.d_?(p(t),this.d_=!1):f("OnlineStateTracker",t)}f_(){null!==this.E_&&(this.E_.cancel(),this.E_=null)}}class Ei{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.g_=[],this.p_=new Map,this.y_=new Set,this.w_=[],this.S_=i,this.S_.Ys((e=>{n.enqueueAndForget((async()=>{zi(this)&&(f("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=b(e);t.y_.add(4),await Si(t),t.b_.set("Unknown"),t.y_.delete(4),await Bi(t)}(this))}))})),this.b_=new Ii(n,r)}}async function Bi(e){if(zi(e))for(const t of e.w_)await t(!0)}async function Si(e){for(const t of e.w_)await t(!1)}function Ti(e,t){const n=b(e);n.p_.has(t.targetId)||(n.p_.set(t.targetId,t),Li(n)?Oi(n):eo(n).Uo()&&Ri(n,t))}function Di(e,t){const n=b(e),r=eo(n);n.p_.delete(t),r.Uo()&&Ni(n,t),0===n.p_.size&&(r.Uo()?r.zo():zi(n)&&n.b_.set("Unknown"))}function Ri(e,t){if(e.D_.Be(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(z.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}eo(e).i_(t)}function Ni(e,t){e.D_.Be(t),eo(e).s_(t)}function Oi(e){e.D_=new Wn({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ut:t=>e.p_.get(t)||null,rt:()=>e.datastore.serializer.databaseId}),eo(e).start(),e.b_.A_()}function Li(e){return zi(e)&&!eo(e).$o()&&e.p_.size>0}function zi(e){return 0===b(e).y_.size}function Pi(e){e.D_=void 0}async function Mi(e){e.p_.forEach(((t,n)=>{Ri(e,t)}))}async function Fi(e,t){Pi(e),Li(e)?(e.b_.m_(t),Oi(e)):e.b_.set("Unknown")}async function Vi(e,t,n){if(e.b_.set("Online"),t instanceof Gn&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.p_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.p_.delete(r),e.D_.removeTarget(r))}(e,t)}catch(n){f("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Ui(e,n)}else if(t instanceof Hn?e.D_.We(t):t instanceof Zn?e.D_.Ze(t):e.D_.je(t),!n.isEqual(z.min()))try{const t=await ni(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.D_.st(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.p_.get(r);i&&e.p_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.p_.get(t);if(!r)return;e.p_.set(t,r.withResumeToken(ge.EMPTY_BYTE_STRING,r.snapshotVersion)),Ni(e,t);const i=new Sr(r.target,t,n,r.sequenceNumber);Ri(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){f("RemoteStore","Failed to raise snapshot:",t),await Ui(e,t)}}async function Ui(e,t,n){if(!Y(t))throw t;e.y_.add(1),await Si(e),e.b_.set("Offline"),n||(n=()=>ni(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{f("RemoteStore","Retrying IndexedDB access"),await n(),e.y_.delete(1),await Bi(e)}))}function ji(e,t){return t().catch((n=>Ui(e,n,t)))}async function qi(e){const t=b(e),n=to(t);let r=t.g_.length>0?t.g_[t.g_.length-1].batchId:-1;for(;$i(t);)try{const e=await ii(t.localStore,r);if(null===e){0===t.g_.length&&n.zo();break}r=e.batchId,Hi(t,e)}catch(e){await Ui(t,e)}Zi(t)&&Gi(t)}function $i(e){return zi(e)&&e.g_.length<10}function Hi(e,t){e.g_.push(t);const n=to(e);n.Uo()&&n.__&&n.a_(t.mutations)}function Zi(e){return zi(e)&&!to(e).$o()&&e.g_.length>0}function Gi(e){to(e).start()}async function Ki(e){to(e).l_()}async function Wi(e){const t=to(e);for(const n of e.g_)t.a_(n.mutations)}async function Qi(e,t,n){const r=e.g_.shift(),i=Bn.from(r,t,n);await ji(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await qi(e)}async function Yi(e,t){t&&to(e).__&&await async function(e,t){if(function(e){return Nn(e)&&e!==v.ABORTED}(t.code)){const n=e.g_.shift();to(e).Go(),await ji(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await qi(e)}}(e,t),Zi(e)&&Gi(e)}async function Xi(e,t){const n=b(e);n.asyncQueue.verifyOperationInProgress(),f("RemoteStore","RemoteStore received new credentials");const r=zi(n);n.y_.add(3),await Si(n),r&&n.b_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.y_.delete(3),await Bi(n)}async function Ji(e,t){const n=b(e);t?(n.y_.delete(2),await Bi(n)):t||(n.y_.add(2),await Si(n),n.b_.set("Unknown"))}function eo(e){return e.v_||(e.v_=function(e,t,n){const r=b(e);return r.P_(),new Ci(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{_o:Mi.bind(null,e),uo:Fi.bind(null,e),r_:Vi.bind(null,e)}),e.w_.push((async t=>{t?(e.v_.Go(),Li(e)?Oi(e):e.b_.set("Unknown")):(await e.v_.stop(),Pi(e))}))),e.v_}function to(e){return e.C_||(e.C_=function(e,t,n){const r=b(e);return r.P_(),new ki(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{_o:Ki.bind(null,e),uo:Yi.bind(null,e),c_:Wi.bind(null,e),u_:Qi.bind(null,e)}),e.w_.push((async t=>{t?(e.C_.Go(),await qi(e)):(await e.C_.stop(),e.g_.length>0&&(f("RemoteStore",`Stopping write stream with ${e.g_.length} pending writes`),e.g_=[]))}))),e.C_}class no{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new _,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new no(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new w(v.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ro(e,t){if(p("AsyncQueue",`${t}: ${e}`),Y(e))return new w(v.UNAVAILABLE,`${t}: ${e}`);throw e}class io{constructor(e){this.comparator=e?(t,n)=>e(t,n)||U.comparator(t.key,n.key):(e,t)=>U.comparator(e.key,t.key),this.keyedMap=Ft(),this.sortedSet=new ce(this.comparator)}static emptySet(e){return new io(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof io))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new io;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class oo{constructor(){this.F_=new ce(U.comparator)}track(e){const t=e.doc.key,n=this.F_.get(t);n?0!==e.type&&3===n.type?this.F_=this.F_.insert(t,e):3===e.type&&1!==n.type?this.F_=this.F_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.F_=this.F_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.F_=this.F_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.F_=this.F_.remove(t):1===e.type&&2===n.type?this.F_=this.F_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.F_=this.F_.insert(t,{type:2,doc:e.doc}):A():this.F_=this.F_.insert(t,e)}M_(){const e=[];return this.F_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class so{constructor(e,t,n,r,i,o,s,a,c){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a,this.hasCachedResults=c}static fromInitialDocuments(e,t,n,r,i){const o=[];return t.forEach((e=>{o.push({type:0,doc:e})})),new so(e,t,io.emptySet(t),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Bt(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}class ao{constructor(){this.x_=void 0,this.listeners=[]}}class co{constructor(){this.queries=new Lt((e=>St(e)),Bt),this.onlineState="Unknown",this.O_=new Set}}async function lo(e,t){const n=b(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new ao),i)try{o.x_=await n.onListen(r)}catch(e){const n=ro(e,`Initialization of query '${Tt(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,o),o.listeners.push(t),t.N_(n.onlineState),o.x_&&t.B_(o.x_)&&po(n)}async function uo(e,t){const n=b(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function ho(e,t){const n=b(e);let r=!1;for(const e of t){const t=e.query,i=n.queries.get(t);if(i){for(const t of i.listeners)t.B_(e)&&(r=!0);i.x_=e}}r&&po(n)}function fo(e,t,n){const r=b(e),i=r.queries.get(t);if(i)for(const e of i.listeners)e.onError(n);r.queries.delete(t)}function po(e){e.O_.forEach((e=>{e.next()}))}class go{constructor(e,t,n){this.query=e,this.L_=t,this.k_=!1,this.q_=null,this.onlineState="Unknown",this.options=n||{}}B_(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new so(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.k_?this.Q_(e)&&(this.L_.next(e),t=!0):this.K_(e,this.onlineState)&&(this.U_(e),t=!0),this.q_=e,t}onError(e){this.L_.error(e)}N_(e){this.onlineState=e;let t=!1;return this.q_&&!this.k_&&this.K_(this.q_,e)&&(this.U_(this.q_),t=!0),t}K_(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.W_||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Q_(e){if(e.docChanges.length>0)return!0;const t=this.q_&&this.q_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}U_(e){e=so.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.k_=!0,this.L_.next(e)}}class mo{constructor(e){this.key=e}}class Ao{constructor(e){this.key=e}}class yo{constructor(e,t){this.query=e,this.X_=t,this.ea=null,this.hasCachedResults=!1,this.current=!1,this.ta=Zt(),this.mutatedKeys=Zt(),this.na=Nt(e),this.ra=new io(this.na)}get ia(){return this.X_}sa(e,t){const n=t?t.oa:new oo,r=t?t.ra:this.ra;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const l=r.get(e),u=Dt(this.query,t)?t:null,h=!!l&&this.mutatedKeys.has(l.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;l&&u?l.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this._a(l,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.na(u,a)>0||c&&this.na(u,c)<0)&&(s=!0)):!l&&u?(n.track({type:0,doc:u}),f=!0):l&&!u&&(n.track({type:1,doc:l}),f=!0,(a||c)&&(s=!0)),f&&(u?(o=o.add(u),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ra:o,oa:n,zi:s,mutatedKeys:i}}_a(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.ra;this.ra=e.ra,this.mutatedKeys=e.mutatedKeys;const i=e.oa.M_();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return A()}};return n(e)-n(t)}(e.type,t.type)||this.na(e.doc,t.doc))),this.aa(n);const o=t?this.ua():[],s=0===this.ta.size&&this.current?1:0,a=s!==this.ea;return this.ea=s,0!==i.length||a?{snapshot:new so(this.query,e.ra,r,i,e.mutatedKeys,0===s,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),ca:o}:{ca:o}}N_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ra:this.ra,oa:new oo,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{ca:[]}}la(e){return!this.X_.has(e)&&!!this.ra.has(e)&&!this.ra.get(e).hasLocalMutations}aa(e){e&&(e.addedDocuments.forEach((e=>this.X_=this.X_.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.X_=this.X_.delete(e))),this.current=e.current)}ua(){if(!this.current)return[];const e=this.ta;this.ta=Zt(),this.ra.forEach((e=>{this.la(e.key)&&(this.ta=this.ta.add(e.key))}));const t=[];return e.forEach((e=>{this.ta.has(e)||t.push(new Ao(e))})),this.ta.forEach((n=>{e.has(n)||t.push(new mo(n))})),t}ha(e){this.X_=e.ss,this.ta=Zt();const t=this.sa(e.documents);return this.applyChanges(t,!0)}Pa(){return so.fromInitialDocuments(this.query,this.ra,this.mutatedKeys,0===this.ea,this.hasCachedResults)}}class bo{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class vo{constructor(e){this.key=e,this.Ia=!1}}class wo{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Ta={},this.Ea=new Lt((e=>St(e)),Bt),this.da=new Map,this.Aa=new Set,this.Ra=new ce(U.comparator),this.Va=new Map,this.ma=new jr,this.fa={},this.ga=new Map,this.pa=zr.On(),this.onlineState="Unknown",this.ya=void 0}get isPrimaryClient(){return!0===this.ya}}async function _o(e,t){const n=Vo(e);let r,i;const o=n.Ea.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Pa();else{const e=await oi(n.localStore,xt(t)),o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await Co(n,t,r,"current"===o,e.resumeToken),n.isPrimaryClient&&Ti(n.remoteStore,e)}return i}async function Co(e,t,n,r,i){e.wa=(t,n,r)=>async function(e,t,n,r){let i=t.view.sa(n);i.zi&&(i=await ai(e.localStore,t.query,!1).then((({documents:e})=>t.view.sa(e,i))));const o=r&&r.targetChanges.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o);return Oo(e,t.targetId,s.ca),s.snapshot}(e,t,n,r);const o=await ai(e.localStore,t,!0),s=new yo(t,o.ss),a=s.sa(o.documents),c=$n.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),l=s.applyChanges(a,e.isPrimaryClient,c);Oo(e,n,l.ca);const u=new bo(t,n,s);return e.Ea.set(t,u),e.da.has(n)?e.da.get(n).push(t):e.da.set(n,[t]),l.snapshot}async function ko(e,t){const n=b(e),r=n.Ea.get(t),i=n.da.get(r.targetId);if(i.length>1)return n.da.set(r.targetId,i.filter((e=>!Bt(e,t)))),void n.Ea.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await si(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),Di(n.remoteStore,r.targetId),Ro(n,r.targetId)})).catch(W)):(Ro(n,r.targetId),await si(n.localStore,r.targetId,!0))}async function xo(e,t){const n=b(e);try{const e=await function(e,t){const n=b(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const o=n.Xi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const s=[];t.targetChanges.forEach(((o,a)=>{const c=i.get(a);if(!c)return;s.push(n.kr.removeMatchingKeys(e,o.removedDocuments,a).next((()=>n.kr.addMatchingKeys(e,o.addedDocuments,a))));let l=c.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(a)?l=l.withResumeToken(ge.EMPTY_BYTE_STRING,z.min()).withLastLimboFreeSnapshotVersion(z.min()):o.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(o.resumeToken,r)),i=i.insert(a,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,l,o)&&s.push(n.kr.updateTargetData(e,l))}));let a=Pt(),c=Zt();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),s.push(ri(e,o,t.documentUpdates).next((e=>{a=e.ns,c=e.rs}))),!r.isEqual(z.min())){const t=n.kr.getLastRemoteSnapshotVersion(e).next((t=>n.kr.setTargetsMetadata(e,e.currentSequenceNumber,r)));s.push(t)}return Q.waitFor(s).next((()=>o.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,c))).next((()=>a))})).then((e=>(n.Ji=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Va.get(t);r&&(y(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Ia=!0:e.modifiedDocuments.size>0?y(r.Ia):e.removedDocuments.size>0&&(y(r.Ia),r.Ia=!1))})),await Po(n,e,t)}catch(e){await W(e)}}function Io(e,t,n){const r=b(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.Ea.forEach(((n,r)=>{const i=r.view.N_(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=b(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const e of n.listeners)e.N_(t)&&(r=!0)})),r&&po(n)}(r.eventManager,t),e.length&&r.Ta.r_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function Eo(e,t,n){const r=b(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Va.get(t),o=i&&i.key;if(o){let e=new ce(U.comparator);e=e.insert(o,qe.newNoDocument(o,z.min()));const n=Zt().add(o),i=new qn(z.min(),new Map,new ce(N),e,n);await xo(r,i),r.Ra=r.Ra.remove(o),r.Va.delete(t),zo(r)}else await si(r.localStore,t,!1).then((()=>Ro(r,t,n))).catch(W)}async function Bo(e,t){const n=b(e),r=t.batch.batchId;try{const e=await function(e,t){const n=b(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Xi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=Q.resolve();return o.forEach((e=>{s=s.next((()=>r.getEntry(t,e))).next((t=>{const o=n.docVersions.get(e);y(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),s.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=Zt();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(n.localStore,t);Do(n,r,null),To(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Po(n,e)}catch(e){await W(e)}}async function So(e,t,n){const r=b(e);try{const e=await function(e,t){const n=b(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(y(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Do(r,t,n),To(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await Po(r,e)}catch(n){await W(n)}}function To(e,t){(e.ga.get(t)||[]).forEach((e=>{e.resolve()})),e.ga.delete(t)}function Do(e,t,n){const r=b(e);let i=r.fa[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.fa[r.currentUser.toKey()]=i}}function Ro(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.da.get(t))e.Ea.delete(r),n&&e.Ta.Sa(r,n);e.da.delete(t),e.isPrimaryClient&&e.ma.Ar(t).forEach((t=>{e.ma.containsKey(t)||No(e,t)}))}function No(e,t){e.Aa.delete(t.path.canonicalString());const n=e.Ra.get(t);null!==n&&(Di(e.remoteStore,n),e.Ra=e.Ra.remove(t),e.Va.delete(n),zo(e))}function Oo(e,t,n){for(const r of n)r instanceof mo?(e.ma.addReference(r.key,t),Lo(e,r)):r instanceof Ao?(f("SyncEngine","Document no longer in limbo: "+r.key),e.ma.removeReference(r.key,t),e.ma.containsKey(r.key)||No(e,r.key)):A()}function Lo(e,t){const n=t.key,r=n.path.canonicalString();e.Ra.get(n)||e.Aa.has(r)||(f("SyncEngine","New document in limbo: "+n),e.Aa.add(r),zo(e))}function zo(e){for(;e.Aa.size>0&&e.Ra.size<e.maxConcurrentLimboResolutions;){const t=e.Aa.values().next().value;e.Aa.delete(t);const n=new U(M.fromString(t)),r=e.pa.next();e.Va.set(r,new vo(n)),e.Ra=e.Ra.insert(n,r),Ti(e.remoteStore,new Sr(xt(bt(n.path)),r,"TargetPurposeLimboResolution",X.ae))}}async function Po(e,t,n){const r=b(e),i=[],o=[],s=[];r.Ea.isEmpty()||(r.Ea.forEach(((e,a)=>{s.push(r.wa(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){i.push(e);const t=Yr.qi(a.targetId,e);o.push(t)}})))})),await Promise.all(s),r.Ta.r_(i),await async function(e,t){const n=b(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>Q.forEach(t,(t=>Q.forEach(t.Li,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>Q.forEach(t.ki,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Y(e))throw e;f("LocalStore","Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=n.Ji.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.Ji=n.Ji.insert(t,i)}}}(r.localStore,o))}async function Mo(e,t){const n=b(e);if(!n.currentUser.isEqual(t)){f("SyncEngine","User change. New user:",t.toKey());const e=await ti(n.localStore,t);n.currentUser=t,function(e,t){e.ga.forEach((e=>{e.forEach((e=>{e.reject(new w(v.CANCELLED,t))}))})),e.ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await Po(n,e.ts)}}function Fo(e,t){const n=b(e),r=n.Va.get(t);if(r&&r.Ia)return Zt().add(r.key);{let e=Zt();const r=n.da.get(t);if(!r)return e;for(const t of r){const r=n.Ea.get(t);e=e.unionWith(r.view.ia)}return e}}function Vo(e){const t=b(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=xo.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Fo.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Eo.bind(null,t),t.Ta.r_=ho.bind(null,t.eventManager),t.Ta.Sa=fo.bind(null,t.eventManager),t}function Uo(e){const t=b(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Bo.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=So.bind(null,t),t}class jo{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=vi(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return ei(this.persistence,new Xr,e.initialUser,this.serializer)}createPersistence(e){return new Kr(Qr.zr,this.serializer)}createSharedClientState(e){return new ui}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class qo{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>Io(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=Mo.bind(null,this.syncEngine),await Ji(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new co}createDatastore(e){const t=vi(e.databaseInfo.databaseId),n=function(e){return new yi(e)}(e.databaseInfo);return function(e,t,n,r){return new xi(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new Ei(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>Io(this.syncEngine,e,0)),di.v()?new di:new hi)}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new wo(e,t,n,r,i,o);return s&&(a.ya=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=b(e);f("RemoteStore","RemoteStore shutting down."),t.y_.add(5),await Si(t),t.S_.shutdown(),t.b_.set("Unknown")}(this.remoteStore)}}class $o{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.va(this.observer.next,e)}error(e){this.observer.error?this.va(this.observer.error,e):p("Uncaught Error in snapshot listener:",e.toString())}Ca(){this.muted=!0}va(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}class Ho{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=l.UNAUTHENTICATED,this.clientId=R.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{f("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(f("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new w(v.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=ro(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Zo(e,t){e.asyncQueue.verifyOperationInProgress(),f("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await ti(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Go(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Wo(e);f("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>Xi(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Xi(t.remoteStore,n))),e._onlineComponents=t}function Ko(e){return"FirebaseError"===e.name?e.code===v.FAILED_PRECONDITION||e.code===v.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function Wo(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){f("FirestoreClient","Using user provided OfflineComponentProvider");try{await Zo(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!Ko(n))throw n;g("Error using user provided cache. Falling back to memory cache: "+n),await Zo(e,new jo)}}else f("FirestoreClient","Using default OfflineComponentProvider"),await Zo(e,new jo);return e._offlineComponents}async function Qo(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(f("FirestoreClient","Using user provided OnlineComponentProvider"),await Go(e,e._uninitializedComponentsProvider._online)):(f("FirestoreClient","Using default OnlineComponentProvider"),await Go(e,new qo))),e._onlineComponents}function Yo(e){return Qo(e).then((e=>e.syncEngine))}async function Xo(e){const t=await Qo(e),n=t.eventManager;return n.onListen=_o.bind(null,t.syncEngine),n.onUnlisten=ko.bind(null,t.syncEngine),n}function Jo(e,t,n={}){const r=new _;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new $o({next:o=>{t.enqueueAndForget((()=>uo(e,s)));const a=o.docs.has(n);!a&&o.fromCache?i.reject(new w(v.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new w(v.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new go(bt(n.path),o,{includeMetadataChanges:!0,W_:!0});return lo(e,s)}(await Xo(e),e.asyncQueue,t,n,r))),r.promise}function es(e,t,n={}){const r=new _;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const o=new $o({next:n=>{t.enqueueAndForget((()=>uo(e,s))),n.fromCache&&"server"===r.source?i.reject(new w(v.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new go(n,o,{includeMetadataChanges:!0,W_:!0});return lo(e,s)}(await Xo(e),e.asyncQueue,t,n,r))),r.promise}function ts(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const ns=new Map;function rs(e,t,n){if(!n)throw new w(v.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function is(e){if(!U.isDocumentKey(e))throw new w(v.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function os(e){if(U.isDocumentKey(e))throw new w(v.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function ss(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":A()}function as(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new w(v.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=ss(e);throw new w(v.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function cs(e,t){if(t<=0)throw new w(v.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class ls{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new w(v.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new w(v.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new w(v.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ts(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new w(v.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (must not be NaN)`);if(e.timeoutSeconds<5)throw new w(v.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (minimum allowed value is 5)`);if(e.timeoutSeconds>30)throw new w(v.INVALID_ARGUMENT,`invalid long polling timeout: ${e.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class us{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ls({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new w(v.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new w(v.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ls(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new k;switch(e.type){case"firstParty":return new B(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new w(v.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=ns.get(e);t&&(f("ComponentProvider","Removing Datastore"),ns.delete(e),t.terminate())}(this),Promise.resolve()}}class hs{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new hs(this.firestore,e,this._query)}}class ds{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ds(this.firestore,e,this._key)}}class fs extends hs{constructor(e,t,n){super(e,t,bt(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ds(this.firestore,null,new U(e))}withConverter(e){return new fs(this.firestore,e,this._path)}}function ps(e,t,...n){if(e=(0,s.m9)(e),rs("collection","path",t),e instanceof us){const r=M.fromString(t,...n);return os(r),new fs(e,null,r)}{if(!(e instanceof ds||e instanceof fs))throw new w(v.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(M.fromString(t,...n));return os(r),new fs(e.firestore,null,r)}}function gs(e,t,...n){if(e=(0,s.m9)(e),1===arguments.length&&(t=R.V()),rs("doc","path",t),e instanceof us){const r=M.fromString(t,...n);return is(r),new ds(e,null,new U(r))}{if(!(e instanceof ds||e instanceof fs))throw new w(v.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(M.fromString(t,...n));return is(r),new ds(e.firestore,e instanceof fs?e.converter:null,new U(r))}}class ms{constructor(){this.Wa=Promise.resolve(),this.Ga=[],this.za=!1,this.ja=[],this.Ha=null,this.Ja=!1,this.Ya=!1,this.Za=[],this.Ko=new wi(this,"async_queue_retry"),this.Xa=()=>{const e=bi();e&&f("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Ko.No()};const e=bi();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xa)}get isShuttingDown(){return this.za}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.eu(),this.tu(e)}enterRestrictedMode(e){if(!this.za){this.za=!0,this.Ya=e||!1;const t=bi();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xa)}}enqueue(e){if(this.eu(),this.za)return new Promise((()=>{}));const t=new _;return this.tu((()=>this.za&&this.Ya?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Ga.push(e),this.nu())))}async nu(){if(0!==this.Ga.length){try{await this.Ga[0](),this.Ga.shift(),this.Ko.reset()}catch(e){if(!Y(e))throw e;f("AsyncQueue","Operation failed with retryable error: "+e)}this.Ga.length>0&&this.Ko.xo((()=>this.nu()))}}tu(e){const t=this.Wa.then((()=>(this.Ja=!0,e().catch((e=>{this.Ha=e,this.Ja=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw p("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Ja=!1,e))))));return this.Wa=t,t}enqueueAfterDelay(e,t,n){this.eu(),this.Za.indexOf(e)>-1&&(t=0);const r=no.createAndSchedule(this,e,t,n,(e=>this.ru(e)));return this.ja.push(r),r}eu(){this.Ha&&A()}verifyOperationInProgress(){}async iu(){let e;do{e=this.Wa,await e}while(e!==this.Wa)}su(e){for(const t of this.ja)if(t.timerId===e)return!0;return!1}ou(e){return this.iu().then((()=>{this.ja.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.ja)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.iu()}))}_u(e){this.Za.push(e)}ru(e){const t=this.ja.indexOf(e);this.ja.splice(t,1)}}class As extends us{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new ms,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||vs(this),this._firestoreClient.terminate()}}function ys(e,t){const n="object"==typeof e?e:(0,r.Mq)(),i="string"==typeof e?e:t||"(default)",o=(0,r.qX)(n,"firestore").getImmediate({identifier:i});if(!o._initialized){const e=(0,s.P0)("firestore");e&&function(e,t,n,r={}){var i;const o=(e=as(e,us))._getSettings(),a=`${t}:${n}`;if("firestore.googleapis.com"!==o.host&&o.host!==a&&g("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},o),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=l.MOCK_USER;else{t=(0,s.Sg)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new w(v.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new l(o)}e._authCredentials=new x(new C(t,n))}}(o,...e)}return o}function bs(e){return e._firestoreClient||vs(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function vs(e){var t,n,r;const i=e._freezeSettings(),o=function(e,t,n,r){return new Ce(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,ts(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Ho(e._authCredentials,e._appCheckCredentials,e._queue,o),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}class ws{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ws(ge.fromBase64String(e))}catch(e){throw new w(v.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new ws(ge.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class _s{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new w(v.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new V(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class Cs{constructor(e){this._methodName=e}}class ks{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new w(v.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new w(v.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return N(this._lat,e._lat)||N(this._long,e._long)}}const xs=/^__.*__$/;class Is{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new wn(e,this.data,this.fieldMask,t,this.fieldTransforms):new vn(e,this.data,t,this.fieldTransforms)}}class Es{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new wn(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function Bs(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw A()}}class Ss{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.au(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get uu(){return this.settings.uu}cu(e){return new Ss(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}lu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.cu({path:n,hu:!1});return r.Pu(e),r}Iu(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.cu({path:n,hu:!1});return r.au(),r}Tu(e){return this.cu({path:void 0,hu:!0})}Eu(e){return $s(e,this.settings.methodName,this.settings.du||!1,this.path,this.settings.Au)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}au(){if(this.path)for(let e=0;e<this.path.length;e++)this.Pu(this.path.get(e))}Pu(e){if(0===e.length)throw this.Eu("Document fields must not be empty");if(Bs(this.uu)&&xs.test(e))throw this.Eu('Document fields cannot begin and end with "__"')}}class Ts{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||vi(e)}Ru(e,t,n,r=!1){return new Ss({uu:e,methodName:t,Au:n,path:V.emptyPath(),hu:!1,du:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ds(e){const t=e._freezeSettings(),n=vi(e._databaseId);return new Ts(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Rs(e,t,n,r,i,o={}){const s=e.Ru(o.merge||o.mergeFields?2:0,t,n,i);Vs("Data must be an object, but it was:",s,r);const a=Ms(r,s);let c,l;if(o.merge)c=new fe(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=Us(t,r,n);if(!s.contains(i))throw new w(v.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);Hs(e,i)||e.push(i)}c=new fe(e),l=s.fieldTransforms.filter((e=>c.covers(e.field)))}else c=null,l=s.fieldTransforms;return new Is(new Ue(a),c,l)}class Ns extends Cs{_toFieldTransform(e){if(2!==e.uu)throw 1===e.uu?e.Eu(`${this._methodName}() can only appear at the top level of your update data`):e.Eu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Ns}}function Os(e,t,n,r){const i=e.Ru(1,t,n);Vs("Data must be an object, but it was:",i,r);const o=[],a=Ue.empty();se(r,((e,r)=>{const c=qs(t,e,n);r=(0,s.m9)(r);const l=i.Iu(c);if(r instanceof Ns)o.push(c);else{const e=Ps(r,l);null!=e&&(o.push(c),a.set(c,e))}}));const c=new fe(o);return new Es(a,c,i.fieldTransforms)}function Ls(e,t,n,r,i,o){const a=e.Ru(1,t,n),c=[Us(t,r,n)],l=[i];if(o.length%2!=0)throw new w(v.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<o.length;e+=2)c.push(Us(t,o[e])),l.push(o[e+1]);const u=[],h=Ue.empty();for(let e=c.length-1;e>=0;--e)if(!Hs(u,c[e])){const t=c[e];let n=l[e];n=(0,s.m9)(n);const r=a.Iu(t);if(n instanceof Ns)u.push(t);else{const e=Ps(n,r);null!=e&&(u.push(t),h.set(t,e))}}const d=new fe(u);return new Es(h,d,a.fieldTransforms)}function zs(e,t,n,r=!1){return Ps(n,e.Ru(r?4:3,t))}function Ps(e,t){if(Fs(e=(0,s.m9)(e)))return Vs("Unsupported field value:",t,e),Ms(e,t);if(e instanceof Cs)return function(e,t){if(!Bs(t.uu))throw t.Eu(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.Eu(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.hu&&4!==t.uu)throw t.Eu("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=Ps(i,t.Tu(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,s.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Yt(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=L.fromDate(e);return{timestampValue:rr(t.serializer,n)}}if(e instanceof L){const n=new L(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:rr(t.serializer,n)}}if(e instanceof ks)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ws)return{bytesValue:ir(t.serializer,e._byteString)};if(e instanceof ds){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.Eu(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:ar(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Eu(`Unsupported field value: ${ss(e)}`)}(e,t)}function Ms(e,t){const n={};return ae(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):se(e,((e,r)=>{const i=Ps(r,t.lu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Fs(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof L||e instanceof ks||e instanceof ws||e instanceof ds||e instanceof Cs)}function Vs(e,t,n){if(!Fs(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=ss(n);throw"an object"===r?t.Eu(e+" a custom object"):t.Eu(e+" "+r)}}function Us(e,t,n){if((t=(0,s.m9)(t))instanceof _s)return t._internalPath;if("string"==typeof t)return qs(e,t);throw $s("Field path arguments must be of type string or ",e,!1,void 0,n)}const js=new RegExp("[~\\*/\\[\\]]");function qs(e,t,n){if(t.search(js)>=0)throw $s(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new _s(...t.split("."))._internalPath}catch(r){throw $s(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function $s(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new w(v.INVALID_ARGUMENT,a+e+c)}function Hs(e,t){return e.some((e=>e.isEqual(t)))}class Zs{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new ds(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Gs(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Ks("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Gs extends Zs{data(){return super.data()}}function Ks(e,t){return"string"==typeof t?qs(e,t):t instanceof _s?t._internalPath:t._delegate._internalPath}function Ws(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new w(v.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Qs{}class Ys extends Qs{}function Xs(e,t,...n){let r=[];t instanceof Qs&&r.push(t),r=r.concat(n),function(e){const t=e.filter((e=>e instanceof ea)).length,n=e.filter((e=>e instanceof Js)).length;if(t>1||t>0&&n>0)throw new w(v.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const t of r)e=t._apply(e);return e}class Js extends Ys{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new Js(e,t,n)}_apply(e){const t=this._parse(e);return ua(e._query,t),new hs(e.firestore,e.converter,It(e._query,t))}_parse(e){const t=Ds(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new w(v.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){la(s,o);const t=[];for(const n of s)t.push(ca(r,e,n));a={arrayValue:{values:t}}}else a=ca(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||la(s,o),a=zs(n,t,s,"in"===o||"not-in"===o);return Qe.create(i,o,a)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value);return n}}class ea extends Qs{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new ea(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Ye.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const e of r)ua(n,e),n=It(n,e)}(e._query,t),new hs(e.firestore,e.converter,It(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class ta extends Ys{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new ta(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new w(v.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new w(v.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new Ge(t,n);return function(e,t){if(null===wt(e)){const n=_t(e);null!==n&&ha(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new hs(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new At(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function na(e,t="asc"){const n=t,r=Ks("orderBy",e);return ta._create(r,n)}class ra extends Ys{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new ra(e,t,n)}_apply(e){return new hs(e.firestore,e.converter,Et(e._query,this._limit,this._limitType))}}function ia(e){return cs("limit",e),ra._create("limit",e,"F")}class oa extends Ys{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new oa(e,t,n)}_apply(e){const t=aa(e,this.type,this._docOrFields,this._inclusive);return new hs(e.firestore,e.converter,function(e,t){return new At(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}function sa(...e){return oa._create("startAfter",e,!1)}function aa(e,t,n,r){if(n[0]=(0,s.m9)(n[0]),n[0]instanceof Zs)return function(e,t,n,r,i){if(!r)throw new w(v.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const o=[];for(const n of kt(e))if(n.field.isKeyField())o.push(Ne(t,r.key));else{const e=r.data.field(n.field);if(ve(e))throw new w(v.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+n.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=n.field.canonicalString();throw new w(v.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}o.push(e)}return new $e(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=Ds(e.firestore);return function(e,t,n,r,i,o){const s=e.explicitOrderBy;if(i.length>s.length)throw new w(v.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let o=0;o<i.length;o++){const c=i[o];if(s[o].field.isKeyField()){if("string"!=typeof c)throw new w(v.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof c}`);if(!Ct(e)&&-1!==c.indexOf("/"))throw new w(v.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${r}() must be a plain document ID, but '${c}' contains a slash.`);const n=e.path.child(M.fromString(c));if(!U.isDocumentKey(n))throw new w(v.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new U(n);a.push(Ne(t,i))}else{const e=zs(n,r,c);a.push(e)}}return new $e(a,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}function ca(e,t,n){if("string"==typeof(n=(0,s.m9)(n))){if(""===n)throw new w(v.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Ct(t)&&-1!==n.indexOf("/"))throw new w(v.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(M.fromString(n));if(!U.isDocumentKey(r))throw new w(v.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Ne(e,new U(r))}if(n instanceof ds)return Ne(e,n._key);throw new w(v.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ss(n)}.`)}function la(e,t){if(!Array.isArray(e)||0===e.length)throw new w(v.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function ua(e,t){if(t.isInequality()){const n=_t(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new w(v.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${r.toString()}'`);const i=wt(e);null!==i&&ha(e,r,i)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new w(v.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new w(v.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function ha(e,t,n){if(!n.isEqual(t))throw new w(v.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class da{convertValue(e,t="none"){switch(Ie(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ye(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(be(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw A()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return se(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new ks(ye(e.latitude),ye(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=we(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(_e(e));default:return null}}convertTimestamp(e){const t=Ae(e);return new L(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=M.fromString(e);y(Br(n));const r=new ke(n.get(1),n.get(3)),i=new U(n.popFirst(5));return r.isEqual(t)||p(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function fa(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class pa{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ga extends Zs{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ma(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(Ks("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class ma extends ga{data(e={}){return super.data(e)}}class Aa{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new pa(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new ma(this._firestore,this._userDataWriter,n.key,n,new pa(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new w(v.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new ma(e._firestore,e._userDataWriter,n.doc.key,n.doc,new pa(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new ma(e._firestore,e._userDataWriter,t.doc.key,t.doc,new pa(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:ya(t.type),doc:r,oldIndex:i,newIndex:o}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ya(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return A()}}function ba(e){e=as(e,ds);const t=as(e.firestore,As);return Jo(bs(t),e._key).then((n=>Ia(t,e,n)))}class va extends da{constructor(e){super(),this.firestore=e}convertBytes(e){return new ws(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new ds(this.firestore,null,t)}}function wa(e){e=as(e,hs);const t=as(e.firestore,As),n=bs(t),r=new va(t);return Ws(e._query),es(n,e._query).then((n=>new Aa(t,r,e,n)))}function _a(e,t,n){e=as(e,ds);const r=as(e.firestore,As),i=fa(e.converter,t,n);return xa(r,[Rs(Ds(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,dn.none())])}function Ca(e,t,n,...r){e=as(e,ds);const i=as(e.firestore,As),o=Ds(i);let a;return a="string"==typeof(t=(0,s.m9)(t))||t instanceof _s?Ls(o,"updateDoc",e._key,t,n,r):Os(o,"updateDoc",e._key,t),xa(i,[a.toMutation(e._key,dn.exists(!0))])}function ka(e,t){const n=as(e.firestore,As),r=gs(e),i=fa(e.converter,t);return xa(n,[Rs(Ds(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,dn.exists(!1))]).then((()=>r))}function xa(e,t){return function(e,t){const n=new _;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){const r=Uo(e);try{const e=await function(e,t){const n=b(e),r=L.now(),i=t.reduce(((e,t)=>e.add(t.key)),Zt());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=Pt(),c=Zt();return n.Xi.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(c=c.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{o=i;const s=[];for(const e of t){const t=yn(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new wn(e.key,t,je(t.value.mapValue),dn.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)})).next((t=>{s=t;const r=t.applyToLocalDocumentSet(o,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:s.batchId,changes:Vt(o)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.fa[e.currentUser.toKey()];r||(r=new ce(N)),r=r.insert(t,n),e.fa[e.currentUser.toKey()]=r}(r,e.batchId,n),await Po(r,e.changes),await qi(r.remoteStore)}catch(e){const t=ro(e,"Failed to persist write");n.reject(t)}}(await Yo(e),t,n))),n.promise}(bs(e),t)}function Ia(e,t,n){const r=n.docs.get(t._key),i=new va(e);return new ga(e,i,t._key,r,new pa(n.hasPendingWrites,n.fromCache),t.converter)}!function(e,t=!0){!function(e){u=e}(r.Jn),(0,r.Xd)(new i.wA("firestore",((e,{instanceIdentifier:n,options:r})=>{const i=e.getProvider("app").getImmediate(),o=new As(new I(e.getProvider("auth-internal")),new T(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new w(v.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ke(e.options.projectId,t)}(i,n),i);return r=Object.assign({useFetchStreams:t},r),o._setSettings(r),o}),"PUBLIC").setMultipleInstances(!0)),(0,r.KN)(c,"4.1.0",e),(0,r.KN)(c,"4.1.0","esm2017")}()},885:(e,t,n)=>{"use strict";n.d(t,{ZP:()=>An});function r(e){let t=e.length;for(;--t>=0;)e[t]=0}const i=256,o=286,s=30,a=15,c=new Uint8Array([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0]),l=new Uint8Array([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13]),u=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7]),h=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),d=new Array(576);r(d);const f=new Array(60);r(f);const p=new Array(512);r(p);const g=new Array(256);r(g);const m=new Array(29);r(m);const A=new Array(s);function y(e,t,n,r,i){this.static_tree=e,this.extra_bits=t,this.extra_base=n,this.elems=r,this.max_length=i,this.has_stree=e&&e.length}let b,v,w;function _(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}r(A);const C=e=>e<256?p[e]:p[256+(e>>>7)],k=(e,t)=>{e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255},x=(e,t,n)=>{e.bi_valid>16-n?(e.bi_buf|=t<<e.bi_valid&65535,k(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=n-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=n)},I=(e,t,n)=>{x(e,n[2*t],n[2*t+1])},E=(e,t)=>{let n=0;do{n|=1&e,e>>>=1,n<<=1}while(--t>0);return n>>>1},B=(e,t,n)=>{const r=new Array(16);let i,o,s=0;for(i=1;i<=a;i++)s=s+n[i-1]<<1,r[i]=s;for(o=0;o<=t;o++){let t=e[2*o+1];0!==t&&(e[2*o]=E(r[t]++,t))}},S=e=>{let t;for(t=0;t<o;t++)e.dyn_ltree[2*t]=0;for(t=0;t<s;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.sym_next=e.matches=0},T=e=>{e.bi_valid>8?k(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0},D=(e,t,n,r)=>{const i=2*t,o=2*n;return e[i]<e[o]||e[i]===e[o]&&r[t]<=r[n]},R=(e,t,n)=>{const r=e.heap[n];let i=n<<1;for(;i<=e.heap_len&&(i<e.heap_len&&D(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!D(t,r,e.heap[i],e.depth));)e.heap[n]=e.heap[i],n=i,i<<=1;e.heap[n]=r},N=(e,t,n)=>{let r,o,s,a,u=0;if(0!==e.sym_next)do{r=255&e.pending_buf[e.sym_buf+u++],r+=(255&e.pending_buf[e.sym_buf+u++])<<8,o=e.pending_buf[e.sym_buf+u++],0===r?I(e,o,t):(s=g[o],I(e,s+i+1,t),a=c[s],0!==a&&(o-=m[s],x(e,o,a)),r--,s=C(r),I(e,s,n),a=l[s],0!==a&&(r-=A[s],x(e,r,a)))}while(u<e.sym_next);I(e,256,t)},O=(e,t)=>{const n=t.dyn_tree,r=t.stat_desc.static_tree,i=t.stat_desc.has_stree,o=t.stat_desc.elems;let s,c,l,u=-1;for(e.heap_len=0,e.heap_max=573,s=0;s<o;s++)0!==n[2*s]?(e.heap[++e.heap_len]=u=s,e.depth[s]=0):n[2*s+1]=0;for(;e.heap_len<2;)l=e.heap[++e.heap_len]=u<2?++u:0,n[2*l]=1,e.depth[l]=0,e.opt_len--,i&&(e.static_len-=r[2*l+1]);for(t.max_code=u,s=e.heap_len>>1;s>=1;s--)R(e,n,s);l=o;do{s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],R(e,n,1),c=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=c,n[2*l]=n[2*s]+n[2*c],e.depth[l]=(e.depth[s]>=e.depth[c]?e.depth[s]:e.depth[c])+1,n[2*s+1]=n[2*c+1]=l,e.heap[1]=l++,R(e,n,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],((e,t)=>{const n=t.dyn_tree,r=t.max_code,i=t.stat_desc.static_tree,o=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,c=t.stat_desc.extra_base,l=t.stat_desc.max_length;let u,h,d,f,p,g,m=0;for(f=0;f<=a;f++)e.bl_count[f]=0;for(n[2*e.heap[e.heap_max]+1]=0,u=e.heap_max+1;u<573;u++)h=e.heap[u],f=n[2*n[2*h+1]+1]+1,f>l&&(f=l,m++),n[2*h+1]=f,h>r||(e.bl_count[f]++,p=0,h>=c&&(p=s[h-c]),g=n[2*h],e.opt_len+=g*(f+p),o&&(e.static_len+=g*(i[2*h+1]+p)));if(0!==m){do{for(f=l-1;0===e.bl_count[f];)f--;e.bl_count[f]--,e.bl_count[f+1]+=2,e.bl_count[l]--,m-=2}while(m>0);for(f=l;0!==f;f--)for(h=e.bl_count[f];0!==h;)d=e.heap[--u],d>r||(n[2*d+1]!==f&&(e.opt_len+=(f-n[2*d+1])*n[2*d],n[2*d+1]=f),h--)}})(e,t),B(n,u,e.bl_count)},L=(e,t,n)=>{let r,i,o=-1,s=t[1],a=0,c=7,l=4;for(0===s&&(c=138,l=3),t[2*(n+1)+1]=65535,r=0;r<=n;r++)i=s,s=t[2*(r+1)+1],++a<c&&i===s||(a<l?e.bl_tree[2*i]+=a:0!==i?(i!==o&&e.bl_tree[2*i]++,e.bl_tree[32]++):a<=10?e.bl_tree[34]++:e.bl_tree[36]++,a=0,o=i,0===s?(c=138,l=3):i===s?(c=6,l=3):(c=7,l=4))},z=(e,t,n)=>{let r,i,o=-1,s=t[1],a=0,c=7,l=4;for(0===s&&(c=138,l=3),r=0;r<=n;r++)if(i=s,s=t[2*(r+1)+1],!(++a<c&&i===s)){if(a<l)do{I(e,i,e.bl_tree)}while(0!=--a);else 0!==i?(i!==o&&(I(e,i,e.bl_tree),a--),I(e,16,e.bl_tree),x(e,a-3,2)):a<=10?(I(e,17,e.bl_tree),x(e,a-3,3)):(I(e,18,e.bl_tree),x(e,a-11,7));a=0,o=i,0===s?(c=138,l=3):i===s?(c=6,l=3):(c=7,l=4)}};let P=!1;const M=(e,t,n,r)=>{x(e,0+(r?1:0),3),T(e),k(e,n),k(e,~n),n&&e.pending_buf.set(e.window.subarray(t,t+n),e.pending),e.pending+=n};var F=(e,t,n,r)=>{let o,s,a=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=(e=>{let t,n=4093624447;for(t=0;t<=31;t++,n>>>=1)if(1&n&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<i;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0})(e)),O(e,e.l_desc),O(e,e.d_desc),a=(e=>{let t;for(L(e,e.dyn_ltree,e.l_desc.max_code),L(e,e.dyn_dtree,e.d_desc.max_code),O(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*h[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t})(e),o=e.opt_len+3+7>>>3,s=e.static_len+3+7>>>3,s<=o&&(o=s)):o=s=n+5,n+4<=o&&-1!==t?M(e,t,n,r):4===e.strategy||s===o?(x(e,2+(r?1:0),3),N(e,d,f)):(x(e,4+(r?1:0),3),((e,t,n,r)=>{let i;for(x(e,t-257,5),x(e,n-1,5),x(e,r-4,4),i=0;i<r;i++)x(e,e.bl_tree[2*h[i]+1],3);z(e,e.dyn_ltree,t-1),z(e,e.dyn_dtree,n-1)})(e,e.l_desc.max_code+1,e.d_desc.max_code+1,a+1),N(e,e.dyn_ltree,e.dyn_dtree)),S(e),r&&T(e)},V={_tr_init:e=>{P||((()=>{let e,t,n,r,i;const h=new Array(16);for(n=0,r=0;r<28;r++)for(m[r]=n,e=0;e<1<<c[r];e++)g[n++]=r;for(g[n-1]=r,i=0,r=0;r<16;r++)for(A[r]=i,e=0;e<1<<l[r];e++)p[i++]=r;for(i>>=7;r<s;r++)for(A[r]=i<<7,e=0;e<1<<l[r]-7;e++)p[256+i++]=r;for(t=0;t<=a;t++)h[t]=0;for(e=0;e<=143;)d[2*e+1]=8,e++,h[8]++;for(;e<=255;)d[2*e+1]=9,e++,h[9]++;for(;e<=279;)d[2*e+1]=7,e++,h[7]++;for(;e<=287;)d[2*e+1]=8,e++,h[8]++;for(B(d,287,h),e=0;e<s;e++)f[2*e+1]=5,f[2*e]=E(e,5);b=new y(d,c,257,o,a),v=new y(f,l,0,s,a),w=new y(new Array(0),u,0,19,7)})(),P=!0),e.l_desc=new _(e.dyn_ltree,b),e.d_desc=new _(e.dyn_dtree,v),e.bl_desc=new _(e.bl_tree,w),e.bi_buf=0,e.bi_valid=0,S(e)},_tr_stored_block:M,_tr_flush_block:F,_tr_tally:(e,t,n)=>(e.pending_buf[e.sym_buf+e.sym_next++]=t,e.pending_buf[e.sym_buf+e.sym_next++]=t>>8,e.pending_buf[e.sym_buf+e.sym_next++]=n,0===t?e.dyn_ltree[2*n]++:(e.matches++,t--,e.dyn_ltree[2*(g[n]+i+1)]++,e.dyn_dtree[2*C(t)]++),e.sym_next===e.sym_end),_tr_align:e=>{x(e,2,3),I(e,256,d),(e=>{16===e.bi_valid?(k(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)})(e)}};var U=(e,t,n,r)=>{let i=65535&e|0,o=e>>>16&65535|0,s=0;for(;0!==n;){s=n>2e3?2e3:n,n-=s;do{i=i+t[r++]|0,o=o+i|0}while(--s);i%=65521,o%=65521}return i|o<<16|0};const j=new Uint32Array((()=>{let e,t=[];for(var n=0;n<256;n++){e=n;for(var r=0;r<8;r++)e=1&e?3988292384^e>>>1:e>>>1;t[n]=e}return t})());var q=(e,t,n,r)=>{const i=j,o=r+n;e^=-1;for(let n=r;n<o;n++)e=e>>>8^i[255&(e^t[n])];return-1^e},$={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},H={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8};const{_tr_init:Z,_tr_stored_block:G,_tr_flush_block:K,_tr_tally:W,_tr_align:Q}=V,{Z_NO_FLUSH:Y,Z_PARTIAL_FLUSH:X,Z_FULL_FLUSH:J,Z_FINISH:ee,Z_BLOCK:te,Z_OK:ne,Z_STREAM_END:re,Z_STREAM_ERROR:ie,Z_DATA_ERROR:oe,Z_BUF_ERROR:se,Z_DEFAULT_COMPRESSION:ae,Z_FILTERED:ce,Z_HUFFMAN_ONLY:le,Z_RLE:ue,Z_FIXED:he,Z_DEFAULT_STRATEGY:de,Z_UNKNOWN:fe,Z_DEFLATED:pe}=H,ge=258,me=262,Ae=42,ye=113,be=666,ve=(e,t)=>(e.msg=$[t],t),we=e=>2*e-(e>4?9:0),_e=e=>{let t=e.length;for(;--t>=0;)e[t]=0},Ce=e=>{let t,n,r,i=e.w_size;t=e.hash_size,r=t;do{n=e.head[--r],e.head[r]=n>=i?n-i:0}while(--t);t=i,r=t;do{n=e.prev[--r],e.prev[r]=n>=i?n-i:0}while(--t)};let ke=(e,t,n)=>(t<<e.hash_shift^n)&e.hash_mask;const xe=e=>{const t=e.state;let n=t.pending;n>e.avail_out&&(n=e.avail_out),0!==n&&(e.output.set(t.pending_buf.subarray(t.pending_out,t.pending_out+n),e.next_out),e.next_out+=n,t.pending_out+=n,e.total_out+=n,e.avail_out-=n,t.pending-=n,0===t.pending&&(t.pending_out=0))},Ie=(e,t)=>{K(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,xe(e.strm)},Ee=(e,t)=>{e.pending_buf[e.pending++]=t},Be=(e,t)=>{e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t},Se=(e,t,n,r)=>{let i=e.avail_in;return i>r&&(i=r),0===i?0:(e.avail_in-=i,t.set(e.input.subarray(e.next_in,e.next_in+i),n),1===e.state.wrap?e.adler=U(e.adler,t,i,n):2===e.state.wrap&&(e.adler=q(e.adler,t,i,n)),e.next_in+=i,e.total_in+=i,i)},Te=(e,t)=>{let n,r,i=e.max_chain_length,o=e.strstart,s=e.prev_length,a=e.nice_match;const c=e.strstart>e.w_size-me?e.strstart-(e.w_size-me):0,l=e.window,u=e.w_mask,h=e.prev,d=e.strstart+ge;let f=l[o+s-1],p=l[o+s];e.prev_length>=e.good_match&&(i>>=2),a>e.lookahead&&(a=e.lookahead);do{if(n=t,l[n+s]===p&&l[n+s-1]===f&&l[n]===l[o]&&l[++n]===l[o+1]){o+=2,n++;do{}while(l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&l[++o]===l[++n]&&o<d);if(r=ge-(d-o),o=d-ge,r>s){if(e.match_start=t,s=r,r>=a)break;f=l[o+s-1],p=l[o+s]}}}while((t=h[t&u])>c&&0!=--i);return s<=e.lookahead?s:e.lookahead},De=e=>{const t=e.w_size;let n,r,i;do{if(r=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-me)&&(e.window.set(e.window.subarray(t,t+t-r),0),e.match_start-=t,e.strstart-=t,e.block_start-=t,e.insert>e.strstart&&(e.insert=e.strstart),Ce(e),r+=t),0===e.strm.avail_in)break;if(n=Se(e.strm,e.window,e.strstart+e.lookahead,r),e.lookahead+=n,e.lookahead+e.insert>=3)for(i=e.strstart-e.insert,e.ins_h=e.window[i],e.ins_h=ke(e,e.ins_h,e.window[i+1]);e.insert&&(e.ins_h=ke(e,e.ins_h,e.window[i+3-1]),e.prev[i&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=i,i++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<me&&0!==e.strm.avail_in)},Re=(e,t)=>{let n,r,i,o=e.pending_buf_size-5>e.w_size?e.w_size:e.pending_buf_size-5,s=0,a=e.strm.avail_in;do{if(n=65535,i=e.bi_valid+42>>3,e.strm.avail_out<i)break;if(i=e.strm.avail_out-i,r=e.strstart-e.block_start,n>r+e.strm.avail_in&&(n=r+e.strm.avail_in),n>i&&(n=i),n<o&&(0===n&&t!==ee||t===Y||n!==r+e.strm.avail_in))break;s=t===ee&&n===r+e.strm.avail_in?1:0,G(e,0,0,s),e.pending_buf[e.pending-4]=n,e.pending_buf[e.pending-3]=n>>8,e.pending_buf[e.pending-2]=~n,e.pending_buf[e.pending-1]=~n>>8,xe(e.strm),r&&(r>n&&(r=n),e.strm.output.set(e.window.subarray(e.block_start,e.block_start+r),e.strm.next_out),e.strm.next_out+=r,e.strm.avail_out-=r,e.strm.total_out+=r,e.block_start+=r,n-=r),n&&(Se(e.strm,e.strm.output,e.strm.next_out,n),e.strm.next_out+=n,e.strm.avail_out-=n,e.strm.total_out+=n)}while(0===s);return a-=e.strm.avail_in,a&&(a>=e.w_size?(e.matches=2,e.window.set(e.strm.input.subarray(e.strm.next_in-e.w_size,e.strm.next_in),0),e.strstart=e.w_size,e.insert=e.strstart):(e.window_size-e.strstart<=a&&(e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,e.insert>e.strstart&&(e.insert=e.strstart)),e.window.set(e.strm.input.subarray(e.strm.next_in-a,e.strm.next_in),e.strstart),e.strstart+=a,e.insert+=a>e.w_size-e.insert?e.w_size-e.insert:a),e.block_start=e.strstart),e.high_water<e.strstart&&(e.high_water=e.strstart),s?4:t!==Y&&t!==ee&&0===e.strm.avail_in&&e.strstart===e.block_start?2:(i=e.window_size-e.strstart,e.strm.avail_in>i&&e.block_start>=e.w_size&&(e.block_start-=e.w_size,e.strstart-=e.w_size,e.window.set(e.window.subarray(e.w_size,e.w_size+e.strstart),0),e.matches<2&&e.matches++,i+=e.w_size,e.insert>e.strstart&&(e.insert=e.strstart)),i>e.strm.avail_in&&(i=e.strm.avail_in),i&&(Se(e.strm,e.window,e.strstart,i),e.strstart+=i,e.insert+=i>e.w_size-e.insert?e.w_size-e.insert:i),e.high_water<e.strstart&&(e.high_water=e.strstart),i=e.bi_valid+42>>3,i=e.pending_buf_size-i>65535?65535:e.pending_buf_size-i,o=i>e.w_size?e.w_size:i,r=e.strstart-e.block_start,(r>=o||(r||t===ee)&&t!==Y&&0===e.strm.avail_in&&r<=i)&&(n=r>i?i:r,s=t===ee&&0===e.strm.avail_in&&n===r?1:0,G(e,e.block_start,n,s),e.block_start+=n,xe(e.strm)),s?3:1)},Ne=(e,t)=>{let n,r;for(;;){if(e.lookahead<me){if(De(e),e.lookahead<me&&t===Y)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=ke(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==n&&e.strstart-n<=e.w_size-me&&(e.match_length=Te(e,n)),e.match_length>=3)if(r=W(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=ke(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=ke(e,e.ins_h,e.window[e.strstart+1]);else r=W(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(r&&(Ie(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,t===ee?(Ie(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Ie(e,!1),0===e.strm.avail_out)?1:2},Oe=(e,t)=>{let n,r,i;for(;;){if(e.lookahead<me){if(De(e),e.lookahead<me&&t===Y)return 1;if(0===e.lookahead)break}if(n=0,e.lookahead>=3&&(e.ins_h=ke(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==n&&e.prev_length<e.max_lazy_match&&e.strstart-n<=e.w_size-me&&(e.match_length=Te(e,n),e.match_length<=5&&(e.strategy===ce||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,r=W(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=ke(e,e.ins_h,e.window[e.strstart+3-1]),n=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,r&&(Ie(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(r=W(e,0,e.window[e.strstart-1]),r&&Ie(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(r=W(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,t===ee?(Ie(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Ie(e,!1),0===e.strm.avail_out)?1:2};function Le(e,t,n,r,i){this.good_length=e,this.max_lazy=t,this.nice_length=n,this.max_chain=r,this.func=i}const ze=[new Le(0,0,0,0,Re),new Le(4,4,8,4,Ne),new Le(4,5,16,8,Ne),new Le(4,6,32,32,Ne),new Le(4,4,16,16,Oe),new Le(8,16,32,32,Oe),new Le(8,16,128,128,Oe),new Le(8,32,128,256,Oe),new Le(32,128,258,1024,Oe),new Le(32,258,258,4096,Oe)];function Pe(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=pe,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Uint16Array(1146),this.dyn_dtree=new Uint16Array(122),this.bl_tree=new Uint16Array(78),_e(this.dyn_ltree),_e(this.dyn_dtree),_e(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Uint16Array(16),this.heap=new Uint16Array(573),_e(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Uint16Array(573),_e(this.depth),this.sym_buf=0,this.lit_bufsize=0,this.sym_next=0,this.sym_end=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}const Me=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.status!==Ae&&57!==t.status&&69!==t.status&&73!==t.status&&91!==t.status&&103!==t.status&&t.status!==ye&&t.status!==be?1:0},Fe=e=>{if(Me(e))return ve(e,ie);e.total_in=e.total_out=0,e.data_type=fe;const t=e.state;return t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=2===t.wrap?57:t.wrap?Ae:ye,e.adler=2===t.wrap?0:1,t.last_flush=-2,Z(t),ne},Ve=e=>{const t=Fe(e);var n;return t===ne&&((n=e.state).window_size=2*n.w_size,_e(n.head),n.max_lazy_match=ze[n.level].max_lazy,n.good_match=ze[n.level].good_length,n.nice_match=ze[n.level].nice_length,n.max_chain_length=ze[n.level].max_chain,n.strstart=0,n.block_start=0,n.lookahead=0,n.insert=0,n.match_length=n.prev_length=2,n.match_available=0,n.ins_h=0),t},Ue=(e,t,n,r,i,o)=>{if(!e)return ie;let s=1;if(t===ae&&(t=6),r<0?(s=0,r=-r):r>15&&(s=2,r-=16),i<1||i>9||n!==pe||r<8||r>15||t<0||t>9||o<0||o>he||8===r&&1!==s)return ve(e,ie);8===r&&(r=9);const a=new Pe;return e.state=a,a.strm=e,a.status=Ae,a.wrap=s,a.gzhead=null,a.w_bits=r,a.w_size=1<<a.w_bits,a.w_mask=a.w_size-1,a.hash_bits=i+7,a.hash_size=1<<a.hash_bits,a.hash_mask=a.hash_size-1,a.hash_shift=~~((a.hash_bits+3-1)/3),a.window=new Uint8Array(2*a.w_size),a.head=new Uint16Array(a.hash_size),a.prev=new Uint16Array(a.w_size),a.lit_bufsize=1<<i+6,a.pending_buf_size=4*a.lit_bufsize,a.pending_buf=new Uint8Array(a.pending_buf_size),a.sym_buf=a.lit_bufsize,a.sym_end=3*(a.lit_bufsize-1),a.level=t,a.strategy=o,a.method=n,Ve(e)};var je={deflateInit:(e,t)=>Ue(e,t,pe,15,8,de),deflateInit2:Ue,deflateReset:Ve,deflateResetKeep:Fe,deflateSetHeader:(e,t)=>Me(e)||2!==e.state.wrap?ie:(e.state.gzhead=t,ne),deflate:(e,t)=>{if(Me(e)||t>te||t<0)return e?ve(e,ie):ie;const n=e.state;if(!e.output||0!==e.avail_in&&!e.input||n.status===be&&t!==ee)return ve(e,0===e.avail_out?se:ie);const r=n.last_flush;if(n.last_flush=t,0!==n.pending){if(xe(e),0===e.avail_out)return n.last_flush=-1,ne}else if(0===e.avail_in&&we(t)<=we(r)&&t!==ee)return ve(e,se);if(n.status===be&&0!==e.avail_in)return ve(e,se);if(n.status===Ae&&0===n.wrap&&(n.status=ye),n.status===Ae){let t=pe+(n.w_bits-8<<4)<<8,r=-1;if(r=n.strategy>=le||n.level<2?0:n.level<6?1:6===n.level?2:3,t|=r<<6,0!==n.strstart&&(t|=32),t+=31-t%31,Be(n,t),0!==n.strstart&&(Be(n,e.adler>>>16),Be(n,65535&e.adler)),e.adler=1,n.status=ye,xe(e),0!==n.pending)return n.last_flush=-1,ne}if(57===n.status)if(e.adler=0,Ee(n,31),Ee(n,139),Ee(n,8),n.gzhead)Ee(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),Ee(n,255&n.gzhead.time),Ee(n,n.gzhead.time>>8&255),Ee(n,n.gzhead.time>>16&255),Ee(n,n.gzhead.time>>24&255),Ee(n,9===n.level?2:n.strategy>=le||n.level<2?4:0),Ee(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(Ee(n,255&n.gzhead.extra.length),Ee(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=q(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69;else if(Ee(n,0),Ee(n,0),Ee(n,0),Ee(n,0),Ee(n,0),Ee(n,9===n.level?2:n.strategy>=le||n.level<2?4:0),Ee(n,3),n.status=ye,xe(e),0!==n.pending)return n.last_flush=-1,ne;if(69===n.status){if(n.gzhead.extra){let t=n.pending,r=(65535&n.gzhead.extra.length)-n.gzindex;for(;n.pending+r>n.pending_buf_size;){let i=n.pending_buf_size-n.pending;if(n.pending_buf.set(n.gzhead.extra.subarray(n.gzindex,n.gzindex+i),n.pending),n.pending=n.pending_buf_size,n.gzhead.hcrc&&n.pending>t&&(e.adler=q(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex+=i,xe(e),0!==n.pending)return n.last_flush=-1,ne;t=0,r-=i}let i=new Uint8Array(n.gzhead.extra);n.pending_buf.set(i.subarray(n.gzindex,n.gzindex+r),n.pending),n.pending+=r,n.gzhead.hcrc&&n.pending>t&&(e.adler=q(e.adler,n.pending_buf,n.pending-t,t)),n.gzindex=0}n.status=73}if(73===n.status){if(n.gzhead.name){let t,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(e.adler=q(e.adler,n.pending_buf,n.pending-r,r)),xe(e),0!==n.pending)return n.last_flush=-1,ne;r=0}t=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,Ee(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>r&&(e.adler=q(e.adler,n.pending_buf,n.pending-r,r)),n.gzindex=0}n.status=91}if(91===n.status){if(n.gzhead.comment){let t,r=n.pending;do{if(n.pending===n.pending_buf_size){if(n.gzhead.hcrc&&n.pending>r&&(e.adler=q(e.adler,n.pending_buf,n.pending-r,r)),xe(e),0!==n.pending)return n.last_flush=-1,ne;r=0}t=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,Ee(n,t)}while(0!==t);n.gzhead.hcrc&&n.pending>r&&(e.adler=q(e.adler,n.pending_buf,n.pending-r,r))}n.status=103}if(103===n.status){if(n.gzhead.hcrc){if(n.pending+2>n.pending_buf_size&&(xe(e),0!==n.pending))return n.last_flush=-1,ne;Ee(n,255&e.adler),Ee(n,e.adler>>8&255),e.adler=0}if(n.status=ye,xe(e),0!==n.pending)return n.last_flush=-1,ne}if(0!==e.avail_in||0!==n.lookahead||t!==Y&&n.status!==be){let r=0===n.level?Re(n,t):n.strategy===le?((e,t)=>{let n;for(;;){if(0===e.lookahead&&(De(e),0===e.lookahead)){if(t===Y)return 1;break}if(e.match_length=0,n=W(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,n&&(Ie(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===ee?(Ie(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Ie(e,!1),0===e.strm.avail_out)?1:2})(n,t):n.strategy===ue?((e,t)=>{let n,r,i,o;const s=e.window;for(;;){if(e.lookahead<=ge){if(De(e),e.lookahead<=ge&&t===Y)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=e.strstart-1,r=s[i],r===s[++i]&&r===s[++i]&&r===s[++i])){o=e.strstart+ge;do{}while(r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&r===s[++i]&&i<o);e.match_length=ge-(o-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(n=W(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(n=W(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),n&&(Ie(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,t===ee?(Ie(e,!0),0===e.strm.avail_out?3:4):e.sym_next&&(Ie(e,!1),0===e.strm.avail_out)?1:2})(n,t):ze[n.level].func(n,t);if(3!==r&&4!==r||(n.status=be),1===r||3===r)return 0===e.avail_out&&(n.last_flush=-1),ne;if(2===r&&(t===X?Q(n):t!==te&&(G(n,0,0,!1),t===J&&(_e(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),xe(e),0===e.avail_out))return n.last_flush=-1,ne}return t!==ee?ne:n.wrap<=0?re:(2===n.wrap?(Ee(n,255&e.adler),Ee(n,e.adler>>8&255),Ee(n,e.adler>>16&255),Ee(n,e.adler>>24&255),Ee(n,255&e.total_in),Ee(n,e.total_in>>8&255),Ee(n,e.total_in>>16&255),Ee(n,e.total_in>>24&255)):(Be(n,e.adler>>>16),Be(n,65535&e.adler)),xe(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?ne:re)},deflateEnd:e=>{if(Me(e))return ie;const t=e.state.status;return e.state=null,t===ye?ve(e,oe):ne},deflateSetDictionary:(e,t)=>{let n=t.length;if(Me(e))return ie;const r=e.state,i=r.wrap;if(2===i||1===i&&r.status!==Ae||r.lookahead)return ie;if(1===i&&(e.adler=U(e.adler,t,n,0)),r.wrap=0,n>=r.w_size){0===i&&(_e(r.head),r.strstart=0,r.block_start=0,r.insert=0);let e=new Uint8Array(r.w_size);e.set(t.subarray(n-r.w_size,n),0),t=e,n=r.w_size}const o=e.avail_in,s=e.next_in,a=e.input;for(e.avail_in=n,e.next_in=0,e.input=t,De(r);r.lookahead>=3;){let e=r.strstart,t=r.lookahead-2;do{r.ins_h=ke(r,r.ins_h,r.window[e+3-1]),r.prev[e&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=e,e++}while(--t);r.strstart=e,r.lookahead=2,De(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=s,e.input=a,e.avail_in=o,r.wrap=i,ne},deflateInfo:"pako deflate (from Nodeca project)"};const qe=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var $e={assign:function(e){const t=Array.prototype.slice.call(arguments,1);for(;t.length;){const n=t.shift();if(n){if("object"!=typeof n)throw new TypeError(n+"must be non-object");for(const t in n)qe(n,t)&&(e[t]=n[t])}}return e},flattenChunks:e=>{let t=0;for(let n=0,r=e.length;n<r;n++)t+=e[n].length;const n=new Uint8Array(t);for(let t=0,r=0,i=e.length;t<i;t++){let i=e[t];n.set(i,r),r+=i.length}return n}};let He=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){He=!1}const Ze=new Uint8Array(256);for(let e=0;e<256;e++)Ze[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;Ze[254]=Ze[254]=1;var Ge={string2buf:e=>{if("function"==typeof TextEncoder&&TextEncoder.prototype.encode)return(new TextEncoder).encode(e);let t,n,r,i,o,s=e.length,a=0;for(i=0;i<s;i++)n=e.charCodeAt(i),55296==(64512&n)&&i+1<s&&(r=e.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),a+=n<128?1:n<2048?2:n<65536?3:4;for(t=new Uint8Array(a),o=0,i=0;o<a;i++)n=e.charCodeAt(i),55296==(64512&n)&&i+1<s&&(r=e.charCodeAt(i+1),56320==(64512&r)&&(n=65536+(n-55296<<10)+(r-56320),i++)),n<128?t[o++]=n:n<2048?(t[o++]=192|n>>>6,t[o++]=128|63&n):n<65536?(t[o++]=224|n>>>12,t[o++]=128|n>>>6&63,t[o++]=128|63&n):(t[o++]=240|n>>>18,t[o++]=128|n>>>12&63,t[o++]=128|n>>>6&63,t[o++]=128|63&n);return t},buf2string:(e,t)=>{const n=t||e.length;if("function"==typeof TextDecoder&&TextDecoder.prototype.decode)return(new TextDecoder).decode(e.subarray(0,t));let r,i;const o=new Array(2*n);for(i=0,r=0;r<n;){let t=e[r++];if(t<128){o[i++]=t;continue}let s=Ze[t];if(s>4)o[i++]=65533,r+=s-1;else{for(t&=2===s?31:3===s?15:7;s>1&&r<n;)t=t<<6|63&e[r++],s--;s>1?o[i++]=65533:t<65536?o[i++]=t:(t-=65536,o[i++]=55296|t>>10&1023,o[i++]=56320|1023&t)}}return((e,t)=>{if(t<65534&&e.subarray&&He)return String.fromCharCode.apply(null,e.length===t?e:e.subarray(0,t));let n="";for(let r=0;r<t;r++)n+=String.fromCharCode(e[r]);return n})(o,i)},utf8border:(e,t)=>{(t=t||e.length)>e.length&&(t=e.length);let n=t-1;for(;n>=0&&128==(192&e[n]);)n--;return n<0||0===n?t:n+Ze[e[n]]>t?n:t}};var Ke=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0};const We=Object.prototype.toString,{Z_NO_FLUSH:Qe,Z_SYNC_FLUSH:Ye,Z_FULL_FLUSH:Xe,Z_FINISH:Je,Z_OK:et,Z_STREAM_END:tt,Z_DEFAULT_COMPRESSION:nt,Z_DEFAULT_STRATEGY:rt,Z_DEFLATED:it}=H;function ot(e){this.options=$e.assign({level:nt,method:it,chunkSize:16384,windowBits:15,memLevel:8,strategy:rt},e||{});let t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ke,this.strm.avail_out=0;let n=je.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(n!==et)throw new Error($[n]);if(t.header&&je.deflateSetHeader(this.strm,t.header),t.dictionary){let e;if(e="string"==typeof t.dictionary?Ge.string2buf(t.dictionary):"[object ArrayBuffer]"===We.call(t.dictionary)?new Uint8Array(t.dictionary):t.dictionary,n=je.deflateSetDictionary(this.strm,e),n!==et)throw new Error($[n]);this._dict_set=!0}}function st(e,t){const n=new ot(t);if(n.push(e,!0),n.err)throw n.msg||$[n.err];return n.result}ot.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize;let i,o;if(this.ended)return!1;for(o=t===~~t?t:!0===t?Je:Qe,"string"==typeof e?n.input=Ge.string2buf(e):"[object ArrayBuffer]"===We.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;)if(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),(o===Ye||o===Xe)&&n.avail_out<=6)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else{if(i=je.deflate(n,o),i===tt)return n.next_out>0&&this.onData(n.output.subarray(0,n.next_out)),i=je.deflateEnd(this.strm),this.onEnd(i),this.ended=!0,i===et;if(0!==n.avail_out){if(o>0&&n.next_out>0)this.onData(n.output.subarray(0,n.next_out)),n.avail_out=0;else if(0===n.avail_in)break}else this.onData(n.output)}return!0},ot.prototype.onData=function(e){this.chunks.push(e)},ot.prototype.onEnd=function(e){e===et&&(this.result=$e.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var at={Deflate:ot,deflate:st,deflateRaw:function(e,t){return(t=t||{}).raw=!0,st(e,t)},gzip:function(e,t){return(t=t||{}).gzip=!0,st(e,t)},constants:H};const ct=16209;var lt=function(e,t){let n,r,i,o,s,a,c,l,u,h,d,f,p,g,m,A,y,b,v,w,_,C,k,x;const I=e.state;n=e.next_in,k=e.input,r=n+(e.avail_in-5),i=e.next_out,x=e.output,o=i-(t-e.avail_out),s=i+(e.avail_out-257),a=I.dmax,c=I.wsize,l=I.whave,u=I.wnext,h=I.window,d=I.hold,f=I.bits,p=I.lencode,g=I.distcode,m=(1<<I.lenbits)-1,A=(1<<I.distbits)-1;e:do{f<15&&(d+=k[n++]<<f,f+=8,d+=k[n++]<<f,f+=8),y=p[d&m];t:for(;;){if(b=y>>>24,d>>>=b,f-=b,b=y>>>16&255,0===b)x[i++]=65535&y;else{if(!(16&b)){if(0==(64&b)){y=p[(65535&y)+(d&(1<<b)-1)];continue t}if(32&b){I.mode=16191;break e}e.msg="invalid literal/length code",I.mode=ct;break e}v=65535&y,b&=15,b&&(f<b&&(d+=k[n++]<<f,f+=8),v+=d&(1<<b)-1,d>>>=b,f-=b),f<15&&(d+=k[n++]<<f,f+=8,d+=k[n++]<<f,f+=8),y=g[d&A];n:for(;;){if(b=y>>>24,d>>>=b,f-=b,b=y>>>16&255,!(16&b)){if(0==(64&b)){y=g[(65535&y)+(d&(1<<b)-1)];continue n}e.msg="invalid distance code",I.mode=ct;break e}if(w=65535&y,b&=15,f<b&&(d+=k[n++]<<f,f+=8,f<b&&(d+=k[n++]<<f,f+=8)),w+=d&(1<<b)-1,w>a){e.msg="invalid distance too far back",I.mode=ct;break e}if(d>>>=b,f-=b,b=i-o,w>b){if(b=w-b,b>l&&I.sane){e.msg="invalid distance too far back",I.mode=ct;break e}if(_=0,C=h,0===u){if(_+=c-b,b<v){v-=b;do{x[i++]=h[_++]}while(--b);_=i-w,C=x}}else if(u<b){if(_+=c+u-b,b-=u,b<v){v-=b;do{x[i++]=h[_++]}while(--b);if(_=0,u<v){b=u,v-=b;do{x[i++]=h[_++]}while(--b);_=i-w,C=x}}}else if(_+=u-b,b<v){v-=b;do{x[i++]=h[_++]}while(--b);_=i-w,C=x}for(;v>2;)x[i++]=C[_++],x[i++]=C[_++],x[i++]=C[_++],v-=3;v&&(x[i++]=C[_++],v>1&&(x[i++]=C[_++]))}else{_=i-w;do{x[i++]=x[_++],x[i++]=x[_++],x[i++]=x[_++],v-=3}while(v>2);v&&(x[i++]=x[_++],v>1&&(x[i++]=x[_++]))}break}}break}}while(n<r&&i<s);v=f>>3,n-=v,f-=v<<3,d&=(1<<f)-1,e.next_in=n,e.next_out=i,e.avail_in=n<r?r-n+5:5-(n-r),e.avail_out=i<s?s-i+257:257-(i-s),I.hold=d,I.bits=f};const ut=15,ht=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),dt=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),ft=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),pt=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]);var gt=(e,t,n,r,i,o,s,a)=>{const c=a.bits;let l,u,h,d,f,p,g=0,m=0,A=0,y=0,b=0,v=0,w=0,_=0,C=0,k=0,x=null;const I=new Uint16Array(16),E=new Uint16Array(16);let B,S,T,D=null;for(g=0;g<=ut;g++)I[g]=0;for(m=0;m<r;m++)I[t[n+m]]++;for(b=c,y=ut;y>=1&&0===I[y];y--);if(b>y&&(b=y),0===y)return i[o++]=20971520,i[o++]=20971520,a.bits=1,0;for(A=1;A<y&&0===I[A];A++);for(b<A&&(b=A),_=1,g=1;g<=ut;g++)if(_<<=1,_-=I[g],_<0)return-1;if(_>0&&(0===e||1!==y))return-1;for(E[1]=0,g=1;g<ut;g++)E[g+1]=E[g]+I[g];for(m=0;m<r;m++)0!==t[n+m]&&(s[E[t[n+m]]++]=m);if(0===e?(x=D=s,p=20):1===e?(x=ht,D=dt,p=257):(x=ft,D=pt,p=0),k=0,m=0,g=A,f=o,v=b,w=0,h=-1,C=1<<b,d=C-1,1===e&&C>852||2===e&&C>592)return 1;for(;;){B=g-w,s[m]+1<p?(S=0,T=s[m]):s[m]>=p?(S=D[s[m]-p],T=x[s[m]-p]):(S=96,T=0),l=1<<g-w,u=1<<v,A=u;do{u-=l,i[f+(k>>w)+u]=B<<24|S<<16|T|0}while(0!==u);for(l=1<<g-1;k&l;)l>>=1;if(0!==l?(k&=l-1,k+=l):k=0,m++,0==--I[g]){if(g===y)break;g=t[n+s[m]]}if(g>b&&(k&d)!==h){for(0===w&&(w=b),f+=A,v=g-w,_=1<<v;v+w<y&&(_-=I[v+w],!(_<=0));)v++,_<<=1;if(C+=1<<v,1===e&&C>852||2===e&&C>592)return 1;h=k&d,i[h]=b<<24|v<<16|f-o|0}}return 0!==k&&(i[f+k]=g-w<<24|64<<16|0),a.bits=b,0};const{Z_FINISH:mt,Z_BLOCK:At,Z_TREES:yt,Z_OK:bt,Z_STREAM_END:vt,Z_NEED_DICT:wt,Z_STREAM_ERROR:_t,Z_DATA_ERROR:Ct,Z_MEM_ERROR:kt,Z_BUF_ERROR:xt,Z_DEFLATED:It}=H,Et=16180,Bt=16190,St=16191,Tt=16192,Dt=16194,Rt=16199,Nt=16200,Ot=16206,Lt=16209,zt=e=>(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24);function Pt(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Mt=e=>{if(!e)return 1;const t=e.state;return!t||t.strm!==e||t.mode<Et||t.mode>16211?1:0},Ft=e=>{if(Mt(e))return _t;const t=e.state;return e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=Et,t.last=0,t.havedict=0,t.flags=-1,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Int32Array(852),t.distcode=t.distdyn=new Int32Array(592),t.sane=1,t.back=-1,bt},Vt=e=>{if(Mt(e))return _t;const t=e.state;return t.wsize=0,t.whave=0,t.wnext=0,Ft(e)},Ut=(e,t)=>{let n;if(Mt(e))return _t;const r=e.state;return t<0?(n=0,t=-t):(n=5+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?_t:(null!==r.window&&r.wbits!==t&&(r.window=null),r.wrap=n,r.wbits=t,Vt(e))},jt=(e,t)=>{if(!e)return _t;const n=new Pt;e.state=n,n.strm=e,n.window=null,n.mode=Et;const r=Ut(e,t);return r!==bt&&(e.state=null),r};let qt,$t,Ht=!0;const Zt=e=>{if(Ht){qt=new Int32Array(512),$t=new Int32Array(32);let t=0;for(;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(gt(1,e.lens,0,288,qt,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;gt(2,e.lens,0,32,$t,0,e.work,{bits:5}),Ht=!1}e.lencode=qt,e.lenbits=9,e.distcode=$t,e.distbits=5},Gt=(e,t,n,r)=>{let i;const o=e.state;return null===o.window&&(o.wsize=1<<o.wbits,o.wnext=0,o.whave=0,o.window=new Uint8Array(o.wsize)),r>=o.wsize?(o.window.set(t.subarray(n-o.wsize,n),0),o.wnext=0,o.whave=o.wsize):(i=o.wsize-o.wnext,i>r&&(i=r),o.window.set(t.subarray(n-r,n-r+i),o.wnext),(r-=i)?(o.window.set(t.subarray(n-r,n),0),o.wnext=r,o.whave=o.wsize):(o.wnext+=i,o.wnext===o.wsize&&(o.wnext=0),o.whave<o.wsize&&(o.whave+=i))),0};var Kt={inflateReset:Vt,inflateReset2:Ut,inflateResetKeep:Ft,inflateInit:e=>jt(e,15),inflateInit2:jt,inflate:(e,t)=>{let n,r,i,o,s,a,c,l,u,h,d,f,p,g,m,A,y,b,v,w,_,C,k=0;const x=new Uint8Array(4);let I,E;const B=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Mt(e)||!e.output||!e.input&&0!==e.avail_in)return _t;n=e.state,n.mode===St&&(n.mode=Tt),s=e.next_out,i=e.output,c=e.avail_out,o=e.next_in,r=e.input,a=e.avail_in,l=n.hold,u=n.bits,h=a,d=c,C=bt;e:for(;;)switch(n.mode){case Et:if(0===n.wrap){n.mode=Tt;break}for(;u<16;){if(0===a)break e;a--,l+=r[o++]<<u,u+=8}if(2&n.wrap&&35615===l){0===n.wbits&&(n.wbits=15),n.check=0,x[0]=255&l,x[1]=l>>>8&255,n.check=q(n.check,x,2,0),l=0,u=0,n.mode=16181;break}if(n.head&&(n.head.done=!1),!(1&n.wrap)||(((255&l)<<8)+(l>>8))%31){e.msg="incorrect header check",n.mode=Lt;break}if((15&l)!==It){e.msg="unknown compression method",n.mode=Lt;break}if(l>>>=4,u-=4,_=8+(15&l),0===n.wbits&&(n.wbits=_),_>15||_>n.wbits){e.msg="invalid window size",n.mode=Lt;break}n.dmax=1<<n.wbits,n.flags=0,e.adler=n.check=1,n.mode=512&l?16189:St,l=0,u=0;break;case 16181:for(;u<16;){if(0===a)break e;a--,l+=r[o++]<<u,u+=8}if(n.flags=l,(255&n.flags)!==It){e.msg="unknown compression method",n.mode=Lt;break}if(57344&n.flags){e.msg="unknown header flags set",n.mode=Lt;break}n.head&&(n.head.text=l>>8&1),512&n.flags&&4&n.wrap&&(x[0]=255&l,x[1]=l>>>8&255,n.check=q(n.check,x,2,0)),l=0,u=0,n.mode=16182;case 16182:for(;u<32;){if(0===a)break e;a--,l+=r[o++]<<u,u+=8}n.head&&(n.head.time=l),512&n.flags&&4&n.wrap&&(x[0]=255&l,x[1]=l>>>8&255,x[2]=l>>>16&255,x[3]=l>>>24&255,n.check=q(n.check,x,4,0)),l=0,u=0,n.mode=16183;case 16183:for(;u<16;){if(0===a)break e;a--,l+=r[o++]<<u,u+=8}n.head&&(n.head.xflags=255&l,n.head.os=l>>8),512&n.flags&&4&n.wrap&&(x[0]=255&l,x[1]=l>>>8&255,n.check=q(n.check,x,2,0)),l=0,u=0,n.mode=16184;case 16184:if(1024&n.flags){for(;u<16;){if(0===a)break e;a--,l+=r[o++]<<u,u+=8}n.length=l,n.head&&(n.head.extra_len=l),512&n.flags&&4&n.wrap&&(x[0]=255&l,x[1]=l>>>8&255,n.check=q(n.check,x,2,0)),l=0,u=0}else n.head&&(n.head.extra=null);n.mode=16185;case 16185:if(1024&n.flags&&(f=n.length,f>a&&(f=a),f&&(n.head&&(_=n.head.extra_len-n.length,n.head.extra||(n.head.extra=new Uint8Array(n.head.extra_len)),n.head.extra.set(r.subarray(o,o+f),_)),512&n.flags&&4&n.wrap&&(n.check=q(n.check,r,f,o)),a-=f,o+=f,n.length-=f),n.length))break e;n.length=0,n.mode=16186;case 16186:if(2048&n.flags){if(0===a)break e;f=0;do{_=r[o+f++],n.head&&_&&n.length<65536&&(n.head.name+=String.fromCharCode(_))}while(_&&f<a);if(512&n.flags&&4&n.wrap&&(n.check=q(n.check,r,f,o)),a-=f,o+=f,_)break e}else n.head&&(n.head.name=null);n.length=0,n.mode=16187;case 16187:if(4096&n.flags){if(0===a)break e;f=0;do{_=r[o+f++],n.head&&_&&n.length<65536&&(n.head.comment+=String.fromCharCode(_))}while(_&&f<a);if(512&n.flags&&4&n.wrap&&(n.check=q(n.check,r,f,o)),a-=f,o+=f,_)break e}else n.head&&(n.head.comment=null);n.mode=16188;case 16188:if(512&n.flags){for(;u<16;){if(0===a)break e;a--,l+=r[o++]<<u,u+=8}if(4&n.wrap&&l!==(65535&n.check)){e.msg="header crc mismatch",n.mode=Lt;break}l=0,u=0}n.head&&(n.head.hcrc=n.flags>>9&1,n.head.done=!0),e.adler=n.check=0,n.mode=St;break;case 16189:for(;u<32;){if(0===a)break e;a--,l+=r[o++]<<u,u+=8}e.adler=n.check=zt(l),l=0,u=0,n.mode=Bt;case Bt:if(0===n.havedict)return e.next_out=s,e.avail_out=c,e.next_in=o,e.avail_in=a,n.hold=l,n.bits=u,wt;e.adler=n.check=1,n.mode=St;case St:if(t===At||t===yt)break e;case Tt:if(n.last){l>>>=7&u,u-=7&u,n.mode=Ot;break}for(;u<3;){if(0===a)break e;a--,l+=r[o++]<<u,u+=8}switch(n.last=1&l,l>>>=1,u-=1,3&l){case 0:n.mode=16193;break;case 1:if(Zt(n),n.mode=Rt,t===yt){l>>>=2,u-=2;break e}break;case 2:n.mode=16196;break;case 3:e.msg="invalid block type",n.mode=Lt}l>>>=2,u-=2;break;case 16193:for(l>>>=7&u,u-=7&u;u<32;){if(0===a)break e;a--,l+=r[o++]<<u,u+=8}if((65535&l)!=(l>>>16^65535)){e.msg="invalid stored block lengths",n.mode=Lt;break}if(n.length=65535&l,l=0,u=0,n.mode=Dt,t===yt)break e;case Dt:n.mode=16195;case 16195:if(f=n.length,f){if(f>a&&(f=a),f>c&&(f=c),0===f)break e;i.set(r.subarray(o,o+f),s),a-=f,o+=f,c-=f,s+=f,n.length-=f;break}n.mode=St;break;case 16196:for(;u<14;){if(0===a)break e;a--,l+=r[o++]<<u,u+=8}if(n.nlen=257+(31&l),l>>>=5,u-=5,n.ndist=1+(31&l),l>>>=5,u-=5,n.ncode=4+(15&l),l>>>=4,u-=4,n.nlen>286||n.ndist>30){e.msg="too many length or distance symbols",n.mode=Lt;break}n.have=0,n.mode=16197;case 16197:for(;n.have<n.ncode;){for(;u<3;){if(0===a)break e;a--,l+=r[o++]<<u,u+=8}n.lens[B[n.have++]]=7&l,l>>>=3,u-=3}for(;n.have<19;)n.lens[B[n.have++]]=0;if(n.lencode=n.lendyn,n.lenbits=7,I={bits:n.lenbits},C=gt(0,n.lens,0,19,n.lencode,0,n.work,I),n.lenbits=I.bits,C){e.msg="invalid code lengths set",n.mode=Lt;break}n.have=0,n.mode=16198;case 16198:for(;n.have<n.nlen+n.ndist;){for(;k=n.lencode[l&(1<<n.lenbits)-1],m=k>>>24,A=k>>>16&255,y=65535&k,!(m<=u);){if(0===a)break e;a--,l+=r[o++]<<u,u+=8}if(y<16)l>>>=m,u-=m,n.lens[n.have++]=y;else{if(16===y){for(E=m+2;u<E;){if(0===a)break e;a--,l+=r[o++]<<u,u+=8}if(l>>>=m,u-=m,0===n.have){e.msg="invalid bit length repeat",n.mode=Lt;break}_=n.lens[n.have-1],f=3+(3&l),l>>>=2,u-=2}else if(17===y){for(E=m+3;u<E;){if(0===a)break e;a--,l+=r[o++]<<u,u+=8}l>>>=m,u-=m,_=0,f=3+(7&l),l>>>=3,u-=3}else{for(E=m+7;u<E;){if(0===a)break e;a--,l+=r[o++]<<u,u+=8}l>>>=m,u-=m,_=0,f=11+(127&l),l>>>=7,u-=7}if(n.have+f>n.nlen+n.ndist){e.msg="invalid bit length repeat",n.mode=Lt;break}for(;f--;)n.lens[n.have++]=_}}if(n.mode===Lt)break;if(0===n.lens[256]){e.msg="invalid code -- missing end-of-block",n.mode=Lt;break}if(n.lenbits=9,I={bits:n.lenbits},C=gt(1,n.lens,0,n.nlen,n.lencode,0,n.work,I),n.lenbits=I.bits,C){e.msg="invalid literal/lengths set",n.mode=Lt;break}if(n.distbits=6,n.distcode=n.distdyn,I={bits:n.distbits},C=gt(2,n.lens,n.nlen,n.ndist,n.distcode,0,n.work,I),n.distbits=I.bits,C){e.msg="invalid distances set",n.mode=Lt;break}if(n.mode=Rt,t===yt)break e;case Rt:n.mode=Nt;case Nt:if(a>=6&&c>=258){e.next_out=s,e.avail_out=c,e.next_in=o,e.avail_in=a,n.hold=l,n.bits=u,lt(e,d),s=e.next_out,i=e.output,c=e.avail_out,o=e.next_in,r=e.input,a=e.avail_in,l=n.hold,u=n.bits,n.mode===St&&(n.back=-1);break}for(n.back=0;k=n.lencode[l&(1<<n.lenbits)-1],m=k>>>24,A=k>>>16&255,y=65535&k,!(m<=u);){if(0===a)break e;a--,l+=r[o++]<<u,u+=8}if(A&&0==(240&A)){for(b=m,v=A,w=y;k=n.lencode[w+((l&(1<<b+v)-1)>>b)],m=k>>>24,A=k>>>16&255,y=65535&k,!(b+m<=u);){if(0===a)break e;a--,l+=r[o++]<<u,u+=8}l>>>=b,u-=b,n.back+=b}if(l>>>=m,u-=m,n.back+=m,n.length=y,0===A){n.mode=16205;break}if(32&A){n.back=-1,n.mode=St;break}if(64&A){e.msg="invalid literal/length code",n.mode=Lt;break}n.extra=15&A,n.mode=16201;case 16201:if(n.extra){for(E=n.extra;u<E;){if(0===a)break e;a--,l+=r[o++]<<u,u+=8}n.length+=l&(1<<n.extra)-1,l>>>=n.extra,u-=n.extra,n.back+=n.extra}n.was=n.length,n.mode=16202;case 16202:for(;k=n.distcode[l&(1<<n.distbits)-1],m=k>>>24,A=k>>>16&255,y=65535&k,!(m<=u);){if(0===a)break e;a--,l+=r[o++]<<u,u+=8}if(0==(240&A)){for(b=m,v=A,w=y;k=n.distcode[w+((l&(1<<b+v)-1)>>b)],m=k>>>24,A=k>>>16&255,y=65535&k,!(b+m<=u);){if(0===a)break e;a--,l+=r[o++]<<u,u+=8}l>>>=b,u-=b,n.back+=b}if(l>>>=m,u-=m,n.back+=m,64&A){e.msg="invalid distance code",n.mode=Lt;break}n.offset=y,n.extra=15&A,n.mode=16203;case 16203:if(n.extra){for(E=n.extra;u<E;){if(0===a)break e;a--,l+=r[o++]<<u,u+=8}n.offset+=l&(1<<n.extra)-1,l>>>=n.extra,u-=n.extra,n.back+=n.extra}if(n.offset>n.dmax){e.msg="invalid distance too far back",n.mode=Lt;break}n.mode=16204;case 16204:if(0===c)break e;if(f=d-c,n.offset>f){if(f=n.offset-f,f>n.whave&&n.sane){e.msg="invalid distance too far back",n.mode=Lt;break}f>n.wnext?(f-=n.wnext,p=n.wsize-f):p=n.wnext-f,f>n.length&&(f=n.length),g=n.window}else g=i,p=s-n.offset,f=n.length;f>c&&(f=c),c-=f,n.length-=f;do{i[s++]=g[p++]}while(--f);0===n.length&&(n.mode=Nt);break;case 16205:if(0===c)break e;i[s++]=n.length,c--,n.mode=Nt;break;case Ot:if(n.wrap){for(;u<32;){if(0===a)break e;a--,l|=r[o++]<<u,u+=8}if(d-=c,e.total_out+=d,n.total+=d,4&n.wrap&&d&&(e.adler=n.check=n.flags?q(n.check,i,d,s-d):U(n.check,i,d,s-d)),d=c,4&n.wrap&&(n.flags?l:zt(l))!==n.check){e.msg="incorrect data check",n.mode=Lt;break}l=0,u=0}n.mode=16207;case 16207:if(n.wrap&&n.flags){for(;u<32;){if(0===a)break e;a--,l+=r[o++]<<u,u+=8}if(4&n.wrap&&l!==(4294967295&n.total)){e.msg="incorrect length check",n.mode=Lt;break}l=0,u=0}n.mode=16208;case 16208:C=vt;break e;case Lt:C=Ct;break e;case 16210:return kt;default:return _t}return e.next_out=s,e.avail_out=c,e.next_in=o,e.avail_in=a,n.hold=l,n.bits=u,(n.wsize||d!==e.avail_out&&n.mode<Lt&&(n.mode<Ot||t!==mt))&&Gt(e,e.output,e.next_out,d-e.avail_out),h-=e.avail_in,d-=e.avail_out,e.total_in+=h,e.total_out+=d,n.total+=d,4&n.wrap&&d&&(e.adler=n.check=n.flags?q(n.check,i,d,e.next_out-d):U(n.check,i,d,e.next_out-d)),e.data_type=n.bits+(n.last?64:0)+(n.mode===St?128:0)+(n.mode===Rt||n.mode===Dt?256:0),(0===h&&0===d||t===mt)&&C===bt&&(C=xt),C},inflateEnd:e=>{if(Mt(e))return _t;let t=e.state;return t.window&&(t.window=null),e.state=null,bt},inflateGetHeader:(e,t)=>{if(Mt(e))return _t;const n=e.state;return 0==(2&n.wrap)?_t:(n.head=t,t.done=!1,bt)},inflateSetDictionary:(e,t)=>{const n=t.length;let r,i,o;return Mt(e)?_t:(r=e.state,0!==r.wrap&&r.mode!==Bt?_t:r.mode===Bt&&(i=1,i=U(i,t,n,0),i!==r.check)?Ct:(o=Gt(e,t,n,n),o?(r.mode=16210,kt):(r.havedict=1,bt)))},inflateInfo:"pako inflate (from Nodeca project)"};var Wt=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1};const Qt=Object.prototype.toString,{Z_NO_FLUSH:Yt,Z_FINISH:Xt,Z_OK:Jt,Z_STREAM_END:en,Z_NEED_DICT:tn,Z_STREAM_ERROR:nn,Z_DATA_ERROR:rn,Z_MEM_ERROR:on}=H;function sn(e){this.options=$e.assign({chunkSize:65536,windowBits:15,to:""},e||{});const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new Ke,this.strm.avail_out=0;let n=Kt.inflateInit2(this.strm,t.windowBits);if(n!==Jt)throw new Error($[n]);if(this.header=new Wt,Kt.inflateGetHeader(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=Ge.string2buf(t.dictionary):"[object ArrayBuffer]"===Qt.call(t.dictionary)&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(n=Kt.inflateSetDictionary(this.strm,t.dictionary),n!==Jt)))throw new Error($[n])}function an(e,t){const n=new sn(t);if(n.push(e),n.err)throw n.msg||$[n.err];return n.result}sn.prototype.push=function(e,t){const n=this.strm,r=this.options.chunkSize,i=this.options.dictionary;let o,s,a;if(this.ended)return!1;for(s=t===~~t?t:!0===t?Xt:Yt,"[object ArrayBuffer]"===Qt.call(e)?n.input=new Uint8Array(e):n.input=e,n.next_in=0,n.avail_in=n.input.length;;){for(0===n.avail_out&&(n.output=new Uint8Array(r),n.next_out=0,n.avail_out=r),o=Kt.inflate(n,s),o===tn&&i&&(o=Kt.inflateSetDictionary(n,i),o===Jt?o=Kt.inflate(n,s):o===rn&&(o=tn));n.avail_in>0&&o===en&&n.state.wrap>0&&0!==e[n.next_in];)Kt.inflateReset(n),o=Kt.inflate(n,s);switch(o){case nn:case rn:case tn:case on:return this.onEnd(o),this.ended=!0,!1}if(a=n.avail_out,n.next_out&&(0===n.avail_out||o===en))if("string"===this.options.to){let e=Ge.utf8border(n.output,n.next_out),t=n.next_out-e,i=Ge.buf2string(n.output,e);n.next_out=t,n.avail_out=r-t,t&&n.output.set(n.output.subarray(e,e+t),0),this.onData(i)}else this.onData(n.output.length===n.next_out?n.output:n.output.subarray(0,n.next_out));if(o!==Jt||0!==a){if(o===en)return o=Kt.inflateEnd(this.strm),this.onEnd(o),this.ended=!0,!0;if(0===n.avail_in)break}}return!0},sn.prototype.onData=function(e){this.chunks.push(e)},sn.prototype.onEnd=function(e){e===Jt&&("string"===this.options.to?this.result=this.chunks.join(""):this.result=$e.flattenChunks(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg};var cn={Inflate:sn,inflate:an,inflateRaw:function(e,t){return(t=t||{}).raw=!0,an(e,t)},ungzip:an,constants:H};const{Deflate:ln,deflate:un,deflateRaw:hn,gzip:dn}=at,{Inflate:fn,inflate:pn,inflateRaw:gn,ungzip:mn}=cn;var An={Deflate:ln,deflate:un,deflateRaw:hn,gzip:dn,Inflate:fn,inflate:pn,inflateRaw:gn,ungzip:mn,constants:H}}}]);