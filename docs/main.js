(()=>{"use strict";var e,t={149:(e,t,n)=>{var r=n(977),o=n(828);class a{constructor(){this.app=(0,r.ZF)(i),this.db=(0,o.ad)(this.app)}async getAllDocuments(e,t){let n;return n=null!=t?(0,o.IO)((0,o.hJ)(this.db,e),(0,o.Xo)("created","desc"),(0,o.TQ)(t),(0,o.b9)(8)):(0,o.IO)((0,o.hJ)(this.db,e),(0,o.Xo)("created","desc"),(0,o.b9)(8)),await(0,o.PL)(n)}async getDocument(e,t){const n=await(0,o.QT)((0,o.JU)((0,o.hJ)(this.db,e),t));if(!n.exists())throw new Error(`Could not find document ${e}/${t}`);return n.data()}async writeDocument(e,t,n=null){try{return null!=n?await(0,o.pl)((0,o.JU)((0,o.hJ)(this.db,e),n),t):n=await(0,o.ET)((0,o.hJ)(this.db,e),t),n.id}catch(e){console.error("Error adding document: "+e)}return!1}async updateDocument(e,t,n){try{return await(0,o.r7)((0,o.JU)((0,o.hJ)(this.db,e),t),n),!0}catch(e){console.error("Error updating document: "+e)}return!1}async addToArray(e,t,n,r){try{return await(0,o.r7)((0,o.JU)((0,o.hJ)(this.db,e),t),{[n]:(0,o.vr)(r)}),!0}catch(e){console.error("Error adding element to array: "+e)}return!1}}const l=e=>e.split("").map((e=>String.fromCharCode(e.charCodeAt()+15))).join(""),i={[l("RaZ<Vj")]:l("2:kRDj3#I9#cbh?6iI7ED)9VZffXE7;4Y(K@?::"),[l("ac`[VTe:U")]:l("aReYecRTZ_X#Ua]RjXc`f_U")};var c=n(885);const s="/GI-Playground",d="levels";async function u(e,t){const n=await e.getAllDocuments(d,t),r=n.docs.map((e=>({id:e.id,...e.data()})));t=null==t&&r.length<8?null:n.docs[n.docs.length-1];const o=(e,t)=>{const n=document.createElement("div");return n.classList.add(e),null!=t&&t.appendChild(n),n},a=e=>{window.location.assign(s+"/game.html?id="+e)},l=document.getElementsByClassName("level-grid")[0];let i;if(r.map(((e,t)=>{t%4==0&&(i=o("level-row",l));const n=o("level-item",i),r=new Image;r.src="data:image/png;base64,"+function(e){const t=atob(e),n=new Uint8Array([...t].map((e=>e.charCodeAt(0))));return c.ZP.inflate(n,{to:"string"})}(e.preview_image),r.onclick=()=>a(e.id),n.appendChild(r);const s=o("level-infos",n),d=o("level-title",s),u=o("level-author",s);d.onclick=()=>a(e.id),d.innerText=e.name,u.innerText="by "+e.author})),null==i)return null;i.childElementCount<4&&(t=null);for(let e=0;e<3&&i.childElementCount<4;e++)o("level-item",i);return t}window.onload=async function(){const e=new a;document.getElementsByClassName("level-editor-btn")[0].onclick=()=>{window.location.assign(s+"/game.html")};let t=await u(e);const n=document.getElementsByClassName("load-more-btn")[0];null==t?n.parentElement.removeChild(n):n.onclick=async()=>{var r;"• • •"!=n.innerText&&(n.innerText="• • •",await(r=1500+Math.random(1e3),new Promise((e=>setTimeout(e,r)))),t=await u(e,t),null==t?n.parentElement.removeChild(n):n.innerText="Load More")}}}},n={};function r(e){var o=n[e];if(void 0!==o)return o.exports;var a=n[e]={exports:{}};return t[e](a,a.exports,r),a.exports}r.m=t,e=[],r.O=(t,n,o,a)=>{if(!n){var l=1/0;for(d=0;d<e.length;d++){for(var[n,o,a]=e[d],i=!0,c=0;c<n.length;c++)(!1&a||l>=a)&&Object.keys(r.O).every((e=>r.O[e](n[c])))?n.splice(c--,1):(i=!1,a<l&&(l=a));if(i){e.splice(d--,1);var s=o();void 0!==s&&(t=s)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[n,o,a]},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={179:0};r.O.j=t=>0===e[t];var t=(t,n)=>{var o,a,[l,i,c]=n,s=0;if(l.some((t=>0!==e[t]))){for(o in i)r.o(i,o)&&(r.m[o]=i[o]);if(c)var d=c(r)}for(t&&t(n);s<l.length;s++)a=l[s],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(d)},n=self.webpackChunk_2d_gi_playground=self.webpackChunk_2d_gi_playground||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o=r.O(void 0,[673,229],(()=>r(149)));o=r.O(o)})();